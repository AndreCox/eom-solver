(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[219],{1977:function(e,r){var t;/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/!function(n){"use strict";var a=Math.cosh||function(e){return 1e-9>Math.abs(e)?1-e:(Math.exp(e)+Math.exp(-e))*.5},o=Math.sinh||function(e){return 1e-9>Math.abs(e)?e:(Math.exp(e)-Math.exp(-e))*.5},cosm1=function(e){var r=Math.PI/4;if(-r>e||e>r)return Math.cos(e)-1;var t=e*e;return t*(t*(t*(t*(t*(t*(t*(t/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)},hypot=function(e,r){var t=Math.abs(e),n=Math.abs(r);return t<3e3&&n<3e3?Math.sqrt(t*t+n*n):(t<n?(t=n,n=e/r):n=r/e,t*Math.sqrt(1+n*n))},parser_exit=function(){throw SyntaxError("Invalid Param")};function logHypot(e,r){var t=Math.abs(e),n=Math.abs(r);return 0===e?Math.log(n):0===r?Math.log(t):t<3e3&&n<3e3?.5*Math.log(e*e+r*r):.5*Math.log((e/=2)*e+(r/=2)*r)+Math.LN2}var parse=function(e,r){var t={re:0,im:0};if(null==e)t.re=t.im=0;else if(void 0!==r)t.re=e,t.im=r;else switch(typeof e){case"object":if("im"in e&&"re"in e)t.re=e.re,t.im=e.im;else if("abs"in e&&"arg"in e){if(!Number.isFinite(e.abs)&&Number.isFinite(e.arg))return Complex.INFINITY;t.re=e.abs*Math.cos(e.arg),t.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!Number.isFinite(e.r)&&Number.isFinite(e.phi))return Complex.INFINITY;t.re=e.r*Math.cos(e.phi),t.im=e.r*Math.sin(e.phi)}else 2===e.length?(t.re=e[0],t.im=e[1]):parser_exit();break;case"string":t.im=t.re=0;var n=e.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),a=1,o=0;null===n&&parser_exit();for(var s=0;s<n.length;s++){var u=n[s];" "===u||"	"===u||"\n"===u||("+"===u?a++:"-"===u?o++:("i"===u||"I"===u?(a+o===0&&parser_exit()," "===n[s+1]||isNaN(n[s+1])?t.im+=parseFloat((o%2?"-":"")+"1"):(t.im+=parseFloat((o%2?"-":"")+n[s+1]),s++)):((a+o===0||isNaN(u))&&parser_exit(),"i"===n[s+1]||"I"===n[s+1]?(t.im+=parseFloat((o%2?"-":"")+u),s++):t.re+=parseFloat((o%2?"-":"")+u)),a=o=0))}a+o>0&&parser_exit();break;case"number":t.im=0,t.re=e;break;default:parser_exit()}return isNaN(t.re)||isNaN(t.im),t};function Complex(e,r){if(!(this instanceof Complex))return new Complex(e,r);var t=parse(e,r);this.re=t.re,this.im=t.im}Complex.prototype={re:0,im:0,sign:function(){var e=this.abs();return new Complex(this.re/e,this.im/e)},add:function(e,r){var t=new Complex(e,r);return this.isInfinite()&&t.isInfinite()?Complex.NAN:this.isInfinite()||t.isInfinite()?Complex.INFINITY:new Complex(this.re+t.re,this.im+t.im)},sub:function(e,r){var t=new Complex(e,r);return this.isInfinite()&&t.isInfinite()?Complex.NAN:this.isInfinite()||t.isInfinite()?Complex.INFINITY:new Complex(this.re-t.re,this.im-t.im)},mul:function(e,r){var t=new Complex(e,r);return this.isInfinite()&&t.isZero()||this.isZero()&&t.isInfinite()?Complex.NAN:this.isInfinite()||t.isInfinite()?Complex.INFINITY:0===t.im&&0===this.im?new Complex(this.re*t.re,0):new Complex(this.re*t.re-this.im*t.im,this.re*t.im+this.im*t.re)},div:function(e,r){var t,n,a=new Complex(e,r);if(this.isZero()&&a.isZero()||this.isInfinite()&&a.isInfinite())return Complex.NAN;if(this.isInfinite()||a.isZero())return Complex.INFINITY;if(this.isZero()||a.isInfinite())return Complex.ZERO;e=this.re,r=this.im;var o=a.re,s=a.im;return 0===s?new Complex(e/o,r/o):Math.abs(o)<Math.abs(s)?(n=o/s,t=o*n+s,new Complex((e*n+r)/t,(r*n-e)/t)):(n=s/o,t=s*n+o,new Complex((e+r*n)/t,(r-e*n)/t))},pow:function(e,r){var t=new Complex(e,r);if(e=this.re,r=this.im,t.isZero())return Complex.ONE;if(0===t.im){if(0===r&&e>0)return new Complex(Math.pow(e,t.re),0);if(0===e)switch((t.re%4+4)%4){case 0:return new Complex(Math.pow(r,t.re),0);case 1:return new Complex(0,Math.pow(r,t.re));case 2:return new Complex(-Math.pow(r,t.re),0);case 3:return new Complex(0,-Math.pow(r,t.re))}}if(0===e&&0===r&&t.re>0&&t.im>=0)return Complex.ZERO;var n=Math.atan2(r,e),a=logHypot(e,r);return e=Math.exp(t.re*a-t.im*n),r=t.im*a+t.re*n,new Complex(e*Math.cos(r),e*Math.sin(r))},sqrt:function(){var e,r,t=this.re,n=this.im,a=this.abs();if(t>=0){if(0===n)return new Complex(Math.sqrt(t),0);e=.5*Math.sqrt(2*(a+t))}else e=Math.abs(n)/Math.sqrt(2*(a-t));return r=t<=0?.5*Math.sqrt(2*(a-t)):Math.abs(n)/Math.sqrt(2*(a+t)),new Complex(e,n<0?-r:r)},exp:function(){var e=Math.exp(this.re);return this.im,new Complex(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){var e=this.re,r=this.im;return new Complex(Math.expm1(e)*Math.cos(r)+cosm1(r),Math.exp(e)*Math.sin(r))},log:function(){var e=this.re,r=this.im;return new Complex(logHypot(e,r),Math.atan2(r,e))},abs:function(){return hypot(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var e=this.re,r=this.im;return new Complex(Math.sin(e)*a(r),Math.cos(e)*o(r))},cos:function(){var e=this.re,r=this.im;return new Complex(Math.cos(e)*a(r),-Math.sin(e)*o(r))},tan:function(){var e=2*this.re,r=2*this.im,t=Math.cos(e)+a(r);return new Complex(Math.sin(e)/t,o(r)/t)},cot:function(){var e=2*this.re,r=2*this.im,t=Math.cos(e)-a(r);return new Complex(-Math.sin(e)/t,o(r)/t)},sec:function(){var e=this.re,r=this.im,t=.5*a(2*r)+.5*Math.cos(2*e);return new Complex(Math.cos(e)*a(r)/t,Math.sin(e)*o(r)/t)},csc:function(){var e=this.re,r=this.im,t=.5*a(2*r)-.5*Math.cos(2*e);return new Complex(Math.sin(e)*a(r)/t,-Math.cos(e)*o(r)/t)},asin:function(){var e=this.re,r=this.im,t=new Complex(r*r-e*e+1,-2*e*r).sqrt(),n=new Complex(t.re-r,t.im+e).log();return new Complex(n.im,-n.re)},acos:function(){var e=this.re,r=this.im,t=new Complex(r*r-e*e+1,-2*e*r).sqrt(),n=new Complex(t.re-r,t.im+e).log();return new Complex(Math.PI/2-n.im,n.re)},atan:function(){var e=this.re,r=this.im;if(0===e){if(1===r)return new Complex(0,1/0);if(-1===r)return new Complex(0,-1/0)}var t=e*e+(1-r)*(1-r),n=new Complex((1-r*r-e*e)/t,-2*e/t).log();return new Complex(-.5*n.im,.5*n.re)},acot:function(){var e=this.re,r=this.im;if(0===r)return new Complex(Math.atan2(1,e),0);var t=e*e+r*r;return 0!==t?new Complex(e/t,-r/t).atan():new Complex(0!==e?e/0:0,0!==r?-r/0:0).atan()},asec:function(){var e=this.re,r=this.im;if(0===e&&0===r)return new Complex(0,1/0);var t=e*e+r*r;return 0!==t?new Complex(e/t,-r/t).acos():new Complex(0!==e?e/0:0,0!==r?-r/0:0).acos()},acsc:function(){var e=this.re,r=this.im;if(0===e&&0===r)return new Complex(Math.PI/2,1/0);var t=e*e+r*r;return 0!==t?new Complex(e/t,-r/t).asin():new Complex(0!==e?e/0:0,0!==r?-r/0:0).asin()},sinh:function(){var e=this.re,r=this.im;return new Complex(o(e)*Math.cos(r),a(e)*Math.sin(r))},cosh:function(){var e=this.re,r=this.im;return new Complex(a(e)*Math.cos(r),o(e)*Math.sin(r))},tanh:function(){var e=2*this.re,r=2*this.im,t=a(e)+Math.cos(r);return new Complex(o(e)/t,Math.sin(r)/t)},coth:function(){var e=2*this.re,r=2*this.im,t=a(e)-Math.cos(r);return new Complex(o(e)/t,-Math.sin(r)/t)},csch:function(){var e=this.re,r=this.im,t=Math.cos(2*r)-a(2*e);return new Complex(-2*o(e)*Math.cos(r)/t,2*a(e)*Math.sin(r)/t)},sech:function(){var e=this.re,r=this.im,t=Math.cos(2*r)+a(2*e);return new Complex(2*a(e)*Math.cos(r)/t,-2*o(e)*Math.sin(r)/t)},asinh:function(){var e=this.im;this.im=-this.re,this.re=e;var r=this.asin();return this.re=-this.im,this.im=e,e=r.re,r.re=-r.im,r.im=e,r},acosh:function(){var e=this.acos();if(e.im<=0){var r=e.re;e.re=-e.im,e.im=r}else{var r=e.im;e.im=-e.re,e.re=r}return e},atanh:function(){var e=this.re,r=this.im,t=e>1&&0===r,n=1-e,a=1+e,o=n*n+r*r,s=0!==o?new Complex((a*n-r*r)/o,(r*n+a*r)/o):new Complex(-1!==e?e/0:0,0!==r?r/0:0),u=s.re;return s.re=logHypot(s.re,s.im)/2,s.im=Math.atan2(s.im,u)/2,t&&(s.im=-s.im),s},acoth:function(){var e=this.re,r=this.im;if(0===e&&0===r)return new Complex(0,Math.PI/2);var t=e*e+r*r;return 0!==t?new Complex(e/t,-r/t).atanh():new Complex(0!==e?e/0:0,0!==r?-r/0:0).atanh()},acsch:function(){var e=this.re,r=this.im;if(0===r)return new Complex(0!==e?Math.log(e+Math.sqrt(e*e+1)):1/0,0);var t=e*e+r*r;return 0!==t?new Complex(e/t,-r/t).asinh():new Complex(0!==e?e/0:0,0!==r?-r/0:0).asinh()},asech:function(){var e=this.re,r=this.im;if(this.isZero())return Complex.INFINITY;var t=e*e+r*r;return 0!==t?new Complex(e/t,-r/t).acosh():new Complex(0!==e?e/0:0,0!==r?-r/0:0).acosh()},inverse:function(){if(this.isZero())return Complex.INFINITY;if(this.isInfinite())return Complex.ZERO;var e=this.re,r=this.im,t=e*e+r*r;return new Complex(e/t,-r/t)},conjugate:function(){return new Complex(this.re,-this.im)},neg:function(){return new Complex(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new Complex(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new Complex(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new Complex(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,r){var t=new Complex(e,r);return Math.abs(t.re-this.re)<=Complex.EPSILON&&Math.abs(t.im-this.im)<=Complex.EPSILON},clone:function(){return new Complex(this.re,this.im)},toString:function(){var e=this.re,r=this.im,t="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<Complex.EPSILON&&(e=0),Math.abs(r)<Complex.EPSILON&&(r=0),0===r)?t+e:(0!==e?(t+=e+" ",r<0?(r=-r,t+="-"):t+="+",t+=" "):r<0&&(r=-r,t+="-"),1!==r&&(t+=r),t+"i")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},Complex.ZERO=new Complex(0,0),Complex.ONE=new Complex(1,0),Complex.I=new Complex(0,1),Complex.PI=new Complex(Math.PI,0),Complex.E=new Complex(Math.E,0),Complex.INFINITY=new Complex(1/0,1/0),Complex.NAN=new Complex(NaN,NaN),Complex.EPSILON=1e-15,void 0!==(t=(function(){return Complex}).apply(r,[]))&&(e.exports=t)}(0)},7928:function(e){"use strict";var r=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},t={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},n={"–":"\\--","—":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"};e.exports=function(e){for(var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=a.preserveFormatting,s=a.escapeMapFn,u=String(e),c="",l=(void 0===s?function(e,t){return r({},e,t)}:s)(r({},t),void 0!==o&&o?r({},n):{}),p=Object.keys(l);u;)!function(){var e=!1;p.forEach(function(r,t){!e&&u.length>=r.length&&u.slice(0,r.length)===r&&(c+=l[p[t]],u=u.slice(r.length,u.length),e=!0)}),e||(c+=u.slice(0,1),u=u.slice(1,u.length))}();return c}},3228:function(e){e.exports=function naturalSort(e,r){"use strict";var t,n,a=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,o=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,u=/^0x[0-9a-f]+$/i,c=/^0/,i=function(e){return naturalSort.insensitive&&(""+e).toLowerCase()||""+e},l=i(e).replace(o,"")||"",p=i(r).replace(o,"")||"",m=l.replace(a,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),h=p.replace(a,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),g=parseInt(l.match(u),16)||1!==m.length&&l.match(s)&&Date.parse(l),y=parseInt(p.match(u),16)||g&&p.match(s)&&Date.parse(p)||null;if(y){if(g<y)return -1;if(g>y)return 1}for(var v=0,x=Math.max(m.length,h.length);v<x;v++){if(t=!(m[v]||"").match(c)&&parseFloat(m[v])||m[v]||0,n=!(h[v]||"").match(c)&&parseFloat(h[v])||h[v]||0,isNaN(t)!==isNaN(n))return isNaN(t)?1:-1;if(typeof t!=typeof n&&(t+="",n+=""),t<n)return -1;if(t>n)return 1}return 0}},6175:function(e){/**
 * @license Fraction.js v4.3.0 20/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/!function(r){"use strict";var t={s:1,n:0,d:1};function assign(e,r){if(isNaN(e=parseInt(e,10)))throw InvalidParameter();return e*r}function newFraction(e,r){if(0===r)throw DivisionByZero();var t=Object.create(Fraction.prototype);t.s=e<0?-1:1;var n=gcd(e=e<0?-e:e,r);return t.n=e/n,t.d=r/n,t}function factorize(e){for(var r={},t=e,n=2,a=4;a<=t;){for(;t%n==0;)t/=n,r[n]=(r[n]||0)+1;a+=1+2*n++}return t!==e?t>1&&(r[t]=(r[t]||0)+1):r[e]=(r[e]||0)+1,r}var parse=function(e,r){var n,a=0,o=1,s=1,u=0,c=0,l=0,p=1,m=1,h=0,g=1,y=1,v=1;if(null==e);else if(void 0!==r){if(s=(a=e)*(o=r),a%1!=0||o%1!=0)throw NonIntegerParameter()}else switch(typeof e){case"object":if("d"in e&&"n"in e)a=e.n,o=e.d,"s"in e&&(a*=e.s);else if(0 in e)a=e[0],1 in e&&(o=e[1]);else throw InvalidParameter();s=a*o;break;case"number":if(e<0&&(s=e,e=-e),e%1==0)a=e;else if(e>0){for(e>=1&&(m=Math.pow(10,Math.floor(1+Math.log(e)/Math.LN10)),e/=m);g<=1e7&&v<=1e7;){if(e===(n=(h+y)/(g+v))){g+v<=1e7?(a=h+y,o=g+v):v>g?(a=y,o=v):(a=h,o=g);break}e>n?(h+=y,g+=v):(y+=h,v+=g),g>1e7?(a=y,o=v):(a=h,o=g)}a*=m}else(isNaN(e)||isNaN(r))&&(o=a=NaN);break;case"string":if(null===(g=e.match(/\d+|./g)))throw InvalidParameter();if("-"===g[h]?(s=-1,h++):"+"===g[h]&&h++,g.length===h+1?c=assign(g[h++],s):"."===g[h+1]||"."===g[h]?("."!==g[h]&&(u=assign(g[h++],s)),(++h+1===g.length||"("===g[h+1]&&")"===g[h+3]||"'"===g[h+1]&&"'"===g[h+3])&&(c=assign(g[h],s),p=Math.pow(10,g[h].length),h++),("("===g[h]&&")"===g[h+2]||"'"===g[h]&&"'"===g[h+2])&&(l=assign(g[h+1],s),m=Math.pow(10,g[h+1].length)-1,h+=3)):"/"===g[h+1]||":"===g[h+1]?(c=assign(g[h],s),p=assign(g[h+2],1),h+=3):"/"===g[h+3]&&" "===g[h+1]&&(u=assign(g[h],s),c=assign(g[h+2],s),p=assign(g[h+4],1),h+=5),g.length<=h){s=a=l+(o=p*m)*u+m*c;break}default:throw InvalidParameter()}if(0===o)throw DivisionByZero();t.s=s<0?-1:1,t.n=Math.abs(a),t.d=Math.abs(o)};function gcd(e,r){if(!e)return r;if(!r)return e;for(;;){if(!(e%=r))return r;if(!(r%=e))return e}}function Fraction(e,r){if(parse(e,r),!(this instanceof Fraction))return newFraction(t.s*t.n,t.d);e=gcd(t.d,t.n),this.s=t.s,this.n=t.n/e,this.d=t.d/e}var DivisionByZero=function(){return Error("Division by Zero")},InvalidParameter=function(){return Error("Invalid argument")},NonIntegerParameter=function(){return Error("Parameters must be integer")};Fraction.prototype={s:1,n:0,d:1,abs:function(){return newFraction(this.n,this.d)},neg:function(){return newFraction(-this.s*this.n,this.d)},add:function(e,r){return parse(e,r),newFraction(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(e,r){return parse(e,r),newFraction(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(e,r){return parse(e,r),newFraction(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(e,r){return parse(e,r),newFraction(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return newFraction(this.s*this.n,this.d)},mod:function(e,r){if(isNaN(this.n)||isNaN(this.d))return new Fraction(NaN);if(void 0===e)return newFraction(this.s*this.n%this.d,1);if(parse(e,r),0===t.n&&0===this.d)throw DivisionByZero();return newFraction(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(e,r){return parse(e,r),newFraction(gcd(t.n,this.n)*gcd(t.d,this.d),t.d*this.d)},lcm:function(e,r){return(parse(e,r),0===t.n&&0===this.n)?newFraction(0,1):newFraction(t.n*this.n,gcd(t.n,this.n)*gcd(t.d,this.d))},ceil:function(e){return(e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d))?new Fraction(NaN):newFraction(Math.ceil(e*this.s*this.n/this.d),e)},floor:function(e){return(e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d))?new Fraction(NaN):newFraction(Math.floor(e*this.s*this.n/this.d),e)},round:function(e){return(e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d))?new Fraction(NaN):newFraction(Math.round(e*this.s*this.n/this.d),e)},inverse:function(){return newFraction(this.s*this.d,this.n)},pow:function(e,r){if(parse(e,r),1===t.d)return t.s<0?newFraction(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):newFraction(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var n=factorize(this.n),a=factorize(this.d),o=1,s=1;for(var u in n)if("1"!==u){if("0"===u){o=0;break}if(n[u]*=t.n,n[u]%t.d!=0)return null;n[u]/=t.d,o*=Math.pow(u,n[u])}for(var u in a)if("1"!==u){if(a[u]*=t.n,a[u]%t.d!=0)return null;a[u]/=t.d,s*=Math.pow(u,a[u])}return t.s<0?newFraction(s,o):newFraction(o,s)},equals:function(e,r){return parse(e,r),this.s*this.n*t.d==t.s*t.n*this.d},compare:function(e,r){parse(e,r);var n=this.s*this.n*t.d-t.s*t.n*this.d;return(0<n)-(n<0)},simplify:function(e){if(isNaN(this.n)||isNaN(this.d))return this;e=e||.001;for(var r=this.abs(),t=r.toContinued(),n=1;n<t.length;n++){for(var a=newFraction(t[n-1],1),o=n-2;o>=0;o--)a=a.inverse().add(t[o]);if(Math.abs(a.sub(r).valueOf())<e)return a.mul(this.s)}return this},divisible:function(e,r){return parse(e,r),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(e){var r,t="",n=this.n,a=this.d;return this.s<0&&(t+="-"),1===a?t+=n:(e&&(r=Math.floor(n/a))>0&&(t+=r+" ",n%=a),t+=n+"/"+a),t},toLatex:function(e){var r,t="",n=this.n,a=this.d;return this.s<0&&(t+="-"),1===a?t+=n:(e&&(r=Math.floor(n/a))>0&&(t+=r,n%=a),t+="\\frac{"+n+"}{"+a+"}"),t},toContinued:function(){var e,r=this.n,t=this.d,n=[];if(isNaN(r)||isNaN(t))return n;do n.push(Math.floor(r/t)),e=r%t,r=t,t=e;while(1!==r);return n},toString:function(e){var r=this.n,t=this.d;if(isNaN(r)||isNaN(t))return"NaN";e=e||15;var n=function(e,r){for(;r%2==0;r/=2);for(;r%5==0;r/=5);if(1===r)return 0;for(var t=10%r,n=1;1!==t;n++)if(t=10*t%r,n>2e3)return 0;return n}(0,t),a=function(e,r,t){for(var n=1,a=function(e,r,t){for(var n=1;r>0;e=e*e%t,r>>=1)1&r&&(n=n*e%t);return n}(10,t,r),o=0;o<300;o++){if(n===a)return o;n=10*n%r,a=10*a%r}return 0}(0,t,n),o=this.s<0?"-":"";if(o+=r/t|0,r%=t,(r*=10)&&(o+="."),n){for(var s=a;s--;)o+=r/t|0,r%=t,r*=10;o+="(";for(var s=n;s--;)o+=r/t|0,r%=t,r*=10;o+=")"}else for(var s=e;r&&s--;)o+=r/t|0,r%=t,r*=10;return o}},Object.defineProperty(Fraction,"__esModule",{value:!0}),Fraction.default=Fraction,Fraction.Fraction=Fraction,e.exports=Fraction}(0)},9008:function(e,r,t){e.exports=t(9201)},6377:function(e,r,t){var n=t(4832),a=t(8652),o=t(801),s=t(2030),u=t(3618),c=t(9049),l=t(1971);l.alea=n,l.xor128=a,l.xorwow=o,l.xorshift7=s,l.xor4096=u,l.tychei=c,e.exports=l},4832:function(e,r,t){var n;!function(e,a,o){function Alea(e){var r,t=this,n=(r=4022871197,function(e){e=String(e);for(var t=0;t<e.length;t++){var n=.02519603282416938*(r+=e.charCodeAt(t));r=n>>>0,n-=r,n*=r,r=n>>>0,n-=r,r+=4294967296*n}return(r>>>0)*23283064365386963e-26});t.next=function(){var e=2091639*t.s0+23283064365386963e-26*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1)}function copy(e,r){return r.c=e.c,r.s0=e.s0,r.s1=e.s1,r.s2=e.s2,r}function impl(e,r){var t=new Alea(e),n=r&&r.state,a=t.next;return a.int32=function(){return 4294967296*t.next()|0},a.double=function(){return a()+(2097152*a()|0)*11102230246251565e-32},a.quick=a,n&&("object"==typeof n&&copy(n,t),a.state=function(){return copy(t,{})}),a}a&&a.exports?a.exports=impl:t.amdD&&t.amdO?void 0!==(n=(function(){return impl}).call(r,t,r,a))&&(a.exports=n):this.alea=impl}(0,e=t.nmd(e),t.amdD)},9049:function(e,r,t){var n;!function(e,a,o){function XorGen(e){var r=this,t="";r.next=function(){var e=r.b,t=r.c,n=r.d,a=r.a;return e=e<<25^e>>>7^t,t=t-n|0,n=n<<24^n>>>8^a,a=a-e|0,r.b=e=e<<20^e>>>12^t,r.c=t=t-n|0,r.d=n<<16^t>>>16^a,r.a=a-e|0},r.a=0,r.b=0,r.c=-1640531527,r.d=1367130551,e===Math.floor(e)?(r.a=e/4294967296|0,r.b=0|e):t+=e;for(var n=0;n<t.length+20;n++)r.b^=0|t.charCodeAt(n),r.next()}function copy(e,r){return r.a=e.a,r.b=e.b,r.c=e.c,r.d=e.d,r}function impl(e,r){var t=new XorGen(e),n=r&&r.state,prng=function(){return(t.next()>>>0)/4294967296};return prng.double=function(){do var e=((t.next()>>>11)+(t.next()>>>0)/4294967296)/2097152;while(0===e);return e},prng.int32=t.next,prng.quick=prng,n&&("object"==typeof n&&copy(n,t),prng.state=function(){return copy(t,{})}),prng}a&&a.exports?a.exports=impl:t.amdD&&t.amdO?void 0!==(n=(function(){return impl}).call(r,t,r,a))&&(a.exports=n):this.tychei=impl}(0,e=t.nmd(e),t.amdD)},8652:function(e,r,t){var n;!function(e,a,o){function XorGen(e){var r=this,t="";r.x=0,r.y=0,r.z=0,r.w=0,r.next=function(){var e=r.x^r.x<<11;return r.x=r.y,r.y=r.z,r.z=r.w,r.w^=r.w>>>19^e^e>>>8},e===(0|e)?r.x=e:t+=e;for(var n=0;n<t.length+64;n++)r.x^=0|t.charCodeAt(n),r.next()}function copy(e,r){return r.x=e.x,r.y=e.y,r.z=e.z,r.w=e.w,r}function impl(e,r){var t=new XorGen(e),n=r&&r.state,prng=function(){return(t.next()>>>0)/4294967296};return prng.double=function(){do var e=((t.next()>>>11)+(t.next()>>>0)/4294967296)/2097152;while(0===e);return e},prng.int32=t.next,prng.quick=prng,n&&("object"==typeof n&&copy(n,t),prng.state=function(){return copy(t,{})}),prng}a&&a.exports?a.exports=impl:t.amdD&&t.amdO?void 0!==(n=(function(){return impl}).call(r,t,r,a))&&(a.exports=n):this.xor128=impl}(0,e=t.nmd(e),t.amdD)},3618:function(e,r,t){var n;!function(e,a,o){function XorGen(e){var r=this;r.next=function(){var e,t,n=r.w,a=r.X,o=r.i;return r.w=n=n+1640531527|0,t=a[o+34&127],e=a[o=o+1&127],t^=t<<13,e^=e<<17,t^=t>>>15,e^=e>>>12,t=a[o]=t^e,r.i=o,t+(n^n>>>16)|0},function(e,r){var t,n,a,o,s,u=[],c=128;for(r===(0|r)?(n=r,r=null):(r+="\x00",n=0,c=Math.max(c,r.length)),a=0,o=-32;o<c;++o)r&&(n^=r.charCodeAt((o+32)%r.length)),0===o&&(s=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,o>=0&&(s=s+1640531527|0,a=0==(t=u[127&o]^=n+s)?a+1:0);for(a>=128&&(u[127&(r&&r.length||0)]=-1),a=127,o=512;o>0;--o)n=u[a+34&127],t=u[a=a+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,u[a]=n^t;e.w=s,e.X=u,e.i=a}(r,e)}function copy(e,r){return r.i=e.i,r.w=e.w,r.X=e.X.slice(),r}function impl(e,r){null==e&&(e=+new Date);var t=new XorGen(e),n=r&&r.state,prng=function(){return(t.next()>>>0)/4294967296};return prng.double=function(){do var e=((t.next()>>>11)+(t.next()>>>0)/4294967296)/2097152;while(0===e);return e},prng.int32=t.next,prng.quick=prng,n&&(n.X&&copy(n,t),prng.state=function(){return copy(t,{})}),prng}a&&a.exports?a.exports=impl:t.amdD&&t.amdO?void 0!==(n=(function(){return impl}).call(r,t,r,a))&&(a.exports=n):this.xor4096=impl}(0,e=t.nmd(e),t.amdD)},2030:function(e,r,t){var n;!function(e,a,o){function XorGen(e){var r=this;r.next=function(){var e,t,n=r.x,a=r.i;return e=n[a],e^=e>>>7,t=e^e<<24^((e=n[a+1&7])^e>>>10)^((e=n[a+3&7])^e>>>3)^((e=n[a+4&7])^e<<7),e=n[a+7&7],e^=e<<13,t^=e^e<<9,n[a]=t,r.i=a+1&7,t},function(e,r){var t,n=[];if(r===(0|r))n[0]=r;else for(t=0,r=""+r;t<r.length;++t)n[7&t]=n[7&t]<<15^r.charCodeAt(t)+n[t+1&7]<<13;for(;n.length<8;)n.push(0);for(t=0;t<8&&0===n[t];++t);for(8==t?n[7]=-1:n[t],e.x=n,e.i=0,t=256;t>0;--t)e.next()}(r,e)}function copy(e,r){return r.x=e.x.slice(),r.i=e.i,r}function impl(e,r){null==e&&(e=+new Date);var t=new XorGen(e),n=r&&r.state,prng=function(){return(t.next()>>>0)/4294967296};return prng.double=function(){do var e=((t.next()>>>11)+(t.next()>>>0)/4294967296)/2097152;while(0===e);return e},prng.int32=t.next,prng.quick=prng,n&&(n.x&&copy(n,t),prng.state=function(){return copy(t,{})}),prng}a&&a.exports?a.exports=impl:t.amdD&&t.amdO?void 0!==(n=(function(){return impl}).call(r,t,r,a))&&(a.exports=n):this.xorshift7=impl}(0,e=t.nmd(e),t.amdD)},801:function(e,r,t){var n;!function(e,a,o){function XorGen(e){var r=this,t="";r.next=function(){var e=r.x^r.x>>>2;return r.x=r.y,r.y=r.z,r.z=r.w,r.w=r.v,(r.d=r.d+362437|0)+(r.v=r.v^r.v<<4^(e^e<<1))|0},r.x=0,r.y=0,r.z=0,r.w=0,r.v=0,e===(0|e)?r.x=e:t+=e;for(var n=0;n<t.length+64;n++)r.x^=0|t.charCodeAt(n),n==t.length&&(r.d=r.x<<10^r.x>>>4),r.next()}function copy(e,r){return r.x=e.x,r.y=e.y,r.z=e.z,r.w=e.w,r.v=e.v,r.d=e.d,r}function impl(e,r){var t=new XorGen(e),n=r&&r.state,prng=function(){return(t.next()>>>0)/4294967296};return prng.double=function(){do var e=((t.next()>>>11)+(t.next()>>>0)/4294967296)/2097152;while(0===e);return e},prng.int32=t.next,prng.quick=prng,n&&("object"==typeof n&&copy(n,t),prng.state=function(){return copy(t,{})}),prng}a&&a.exports?a.exports=impl:t.amdD&&t.amdO?void 0!==(n=(function(){return impl}).call(r,t,r,a))&&(a.exports=n):this.xorwow=impl}(0,e=t.nmd(e),t.amdD)},1971:function(e,r,t){var n;!function(a,o,s){var u,c=s.pow(256,6),l=s.pow(2,52),p=2*l;function seedrandom(e,r,t){var n=[],m=mixkey(function flatten(e,r){var t,n=[],a=typeof e;if(r&&"object"==a)for(t in e)try{n.push(flatten(e[t],r-1))}catch(e){}return n.length?n:"string"==a?e:e+"\x00"}((r=!0==r?{entropy:!0}:r||{}).entropy?[e,tostring(o)]:null==e?function(){try{var e;return u&&(e=u.randomBytes)?e=e(256):(e=new Uint8Array(256),(a.crypto||a.msCrypto).getRandomValues(e)),tostring(e)}catch(e){var r=a.navigator,t=r&&r.plugins;return[+new Date,a,t,a.screen,tostring(o)]}}():e,3),n),h=new ARC4(n),prng=function(){for(var e=h.g(6),r=c,t=0;e<l;)e=(e+t)*256,r*=256,t=h.g(1);for(;e>=p;)e/=2,r/=2,t>>>=1;return(e+t)/r};return prng.int32=function(){return 0|h.g(4)},prng.quick=function(){return h.g(4)/4294967296},prng.double=prng,mixkey(tostring(h.S),o),(r.pass||t||function(e,r,t,n){return(n&&(n.S&&copy(n,h),e.state=function(){return copy(h,{})}),t)?(s.random=e,r):e})(prng,m,"global"in r?r.global:this==s,r.state)}function ARC4(e){var r,t=e.length,n=this,a=0,o=n.i=n.j=0,s=n.S=[];for(t||(e=[t++]);a<256;)s[a]=a++;for(a=0;a<256;a++)s[a]=s[o=255&o+e[a%t]+(r=s[a])],s[o]=r;(n.g=function(e){for(var r,t=0,a=n.i,o=n.j,s=n.S;e--;)r=s[a=255&a+1],t=256*t+s[255&(s[a]=s[o=255&o+r])+(s[o]=r)];return n.i=a,n.j=o,t})(256)}function copy(e,r){return r.i=e.i,r.j=e.j,r.S=e.S.slice(),r}function mixkey(e,r){for(var t,n=e+"",a=0;a<n.length;)r[255&a]=255&(t^=19*r[255&a])+n.charCodeAt(a++);return tostring(r)}function tostring(e){return String.fromCharCode.apply(0,e)}if(mixkey(s.random(),o),e.exports){e.exports=seedrandom;try{u=t(5042)}catch(e){}}else void 0!==(n=(function(){return seedrandom}).call(r,t,r,e))&&(e.exports=n)}("undefined"!=typeof self?self:this,[],Math)},4814:function(e){e.exports=function(){"use strict";function ok(){return!0}function notOk(){return!1}function undef(){}let e="Argument is not a typed-function.";return function create(){let r,t;function isPlainObject(e){return"object"==typeof e&&null!==e&&e.constructor===Object}let n=[{name:"number",test:function(e){return"number"==typeof e}},{name:"string",test:function(e){return"string"==typeof e}},{name:"boolean",test:function(e){return"boolean"==typeof e}},{name:"Function",test:function(e){return"function"==typeof e}},{name:"Array",test:Array.isArray},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:isPlainObject},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}],a={name:"any",test:ok,isAny:!0},o=0,s={createCount:0};function findType(e){let n;let a=r.get(e);if(a)return a;let o='Unknown type "'+e+'"',s=e.toLowerCase();for(n of t)if(n.toLowerCase()===s){o+='. Did you mean "'+n+'" ?';break}throw TypeError(o)}function addTypes(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any",a=n?findType(n).index:t.length,o=[];for(let t=0;t<e.length;++t){if(!e[t]||"string"!=typeof e[t].name||"function"!=typeof e[t].test)throw TypeError("Object with properties {name: string, test: function} expected");let n=e[t].name;if(r.has(n))throw TypeError('Duplicate type name "'+n+'"');o.push(n),r.set(n,{name:n,test:e[t].test,isAny:e[t].isAny,index:a+t,conversionsTo:[]})}let s=t.slice(a);t=t.slice(0,a).concat(o).concat(s);for(let e=a+o.length;e<t.length;++e)r.get(t[e]).index=e}function clear(){r=new Map,t=[],o=0,addTypes([a],!1)}function findTypeNames(e){let n=t.filter(t=>{let n=r.get(t);return!n.isAny&&n.test(e)});return n.length?n:["any"]}function isTypedFunction(e){return e&&"function"==typeof e&&"_typedFunctionData"in e}function findSignature(r,t,n){let a,o;if(!isTypedFunction(r))throw TypeError(e);let s=n&&n.exact,u=Array.isArray(t)?t.join(","):t,c=parseSignature(u),l=stringifyParams(c);if(!s||l in r.signatures){let e=r._typedFunctionData.signatureMap.get(l);if(e)return e}let p=c.length;if(s){let e;for(e in a=[],r.signatures)a.push(r._typedFunctionData.signatureMap.get(e))}else a=r._typedFunctionData.signatures;for(let e=0;e<p;++e){let r;let t=c[e],n=[];for(r of a){let a=getParamAtIndex(r.params,e);if(a&&(!t.restParam||a.restParam)){if(!a.hasAny){let e=paramTypeSet(a);if(t.types.some(r=>!e.has(r.name)))continue}n.push(r)}}if(0===(a=n).length)break}for(o of a)if(o.params.length<=p)return o;throw TypeError("Signature not found (signature: "+(r.name||"unnamed")+"("+stringifyParams(c,", ")+"))")}function stringifyParams(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return e.map(e=>e.name).join(r)}function expandParam(e){let r=e.types.map(e=>e.name),t=function(e){if(0===e.length)return[];let r=e.map(findType);e.length>1&&r.sort((e,r)=>e.index-r.index);let t=r[0].conversionsTo;if(1===e.length)return t;t=t.concat([]);let n=new Set(e);for(let e=1;e<r.length;++e){let a;for(a of r[e].conversionsTo)n.has(a.from)||(t.push(a),n.add(a.from))}return t}(r),n=e.hasAny,a=e.name,o=t.map(function(e){let r=findType(e.from);return n=r.isAny||n,a+="|"+e.from,{name:e.from,typeIndex:r.index,test:r.test,isAny:r.isAny,conversion:e,conversionIndex:e.index}});return{types:e.types.concat(o),name:a,hasAny:n,hasConversion:o.length>0,restParam:e.restParam}}function paramTypeSet(e){return e.typeSet||(e.typeSet=new Set,e.types.forEach(r=>e.typeSet.add(r.name))),e.typeSet}function parseSignature(e){let r=[];if("string"!=typeof e)throw TypeError("Signatures must be strings");let t=e.trim();if(""===t)return r;let n=t.split(",");for(let e=0;e<n.length;++e){let t=function(e){let r=0===e.indexOf("..."),t=r?e.length>3?e.slice(3):"any":e,n=t.split("|").map(e=>findType(e.trim())),a=!1,o=r?"...":"",s=n.map(function(e){return a=e.isAny||a,o+=e.name+"|",{name:e.name,typeIndex:e.index,test:e.test,isAny:e.isAny,conversion:null,conversionIndex:-1}});return{types:s,name:o.slice(0,-1),hasAny:a,hasConversion:!1,restParam:r}}(n[e].trim());if(t.restParam&&e!==n.length-1)throw SyntaxError('Unexpected rest parameter "'+n[e]+'": only allowed for the last parameter');if(0===t.types.length)return null;r.push(t)}return r}function hasRestParam(e){let r=last(e);return!!r&&r.restParam}function compileTest(e){if(!e||0===e.types.length)return ok;if(1===e.types.length)return findType(e.types[0].name).test;if(2===e.types.length){let r=findType(e.types[0].name).test,t=findType(e.types[1].name).test;return function(e){return r(e)||t(e)}}{let r=e.types.map(function(e){return findType(e.name).test});return function(e){for(let t=0;t<r.length;t++)if(r[t](e))return!0;return!1}}}function getParamAtIndex(e,r){return r<e.length?e[r]:hasRestParam(e)?last(e):null}function getTypeSetAtIndex(e,r){let t=getParamAtIndex(e,r);return t?paramTypeSet(t):new Set}function isExactType(e){return null===e.conversion||void 0===e.conversion}function mergeExpectedParams(e,r){let t=new Set;return e.forEach(e=>{let n;let a=getTypeSetAtIndex(e.params,r);for(n of a)t.add(n)}),t.has("any")?["any"]:Array.from(t)}function createError(e,r,t){let n,a,o;let s=e||"unnamed",u=t;for(o=0;o<r.length;o++){let e=[];if(u.forEach(t=>{let n=getParamAtIndex(t.params,o),a=compileTest(n);(o<t.params.length||hasRestParam(t.params))&&a(r[o])&&e.push(t)}),0===e.length){if((a=mergeExpectedParams(u,o)).length>0){let e=findTypeNames(r[o]);return(n=TypeError("Unexpected type of argument in function "+s+" (expected: "+a.join(" or ")+", actual: "+e.join(" | ")+", index: "+o+")")).data={category:"wrongType",fn:s,index:o,actual:e,expected:a},n}}else u=e}let c=u.map(function(e){return hasRestParam(e.params)?1/0:e.params.length});if(r.length<Math.min.apply(null,c))return(n=TypeError("Too few arguments in function "+s+" (expected: "+(a=mergeExpectedParams(u,o)).join(" or ")+", index: "+r.length+")")).data={category:"tooFewArgs",fn:s,index:r.length,expected:a},n;let l=Math.max.apply(null,c);if(r.length>l)return(n=TypeError("Too many arguments in function "+s+" (expected: "+l+", actual: "+r.length+")")).data={category:"tooManyArgs",fn:s,index:r.length,expectedLength:l},n;let p=[];for(let e=0;e<r.length;++e)p.push(findTypeNames(r[e]).join("|"));return(n=TypeError('Arguments of type "'+p.join(", ")+'" do not match any of the defined signatures of function '+s+".")).data={category:"mismatch",actual:p},n}function getLowestTypeIndex(e){let r=t.length+1;for(let t=0;t<e.types.length;t++)isExactType(e.types[t])&&(r=Math.min(r,e.types[t].typeIndex));return r}function getLowestConversionIndex(e){let r=o+1;for(let t=0;t<e.types.length;t++)isExactType(e.types[t])||(r=Math.min(r,e.types[t].conversionIndex));return r}function compareSignatures(e,r){let t,n;let a=e.params,o=r.params,s=last(a),u=last(o),c=hasRestParam(a),l=hasRestParam(o);if(c&&s.hasAny){if(!l||!u.hasAny)return 1}else if(l&&u.hasAny)return -1;let p=0,m=0;for(t of a)t.hasAny&&++p,t.hasConversion&&++m;let h=0,g=0;for(t of o)t.hasAny&&++h,t.hasConversion&&++g;if(p!==h)return p-h;if(c&&s.hasConversion){if(!l||!u.hasConversion)return 1}else if(l&&u.hasConversion)return -1;if(m!==g)return m-g;if(c){if(!l)return 1}else if(l)return -1;let y=(a.length-o.length)*(c?-1:1);if(0!==y)return y;let v=[],x=0;for(let e=0;e<a.length;++e){let r=function(e,r){if(e.hasAny){if(!r.hasAny)return 1}else if(r.hasAny)return -1;if(e.restParam){if(!r.restParam)return 1}else if(r.restParam)return -1;if(e.hasConversion){if(!r.hasConversion)return 1}else if(r.hasConversion)return -1;let t=getLowestTypeIndex(e)-getLowestTypeIndex(r);if(t<0)return -1;if(t>0)return 1;let n=getLowestConversionIndex(e)-getLowestConversionIndex(r);return n<0?-1:n>0?1:0}(a[e],o[e]);v.push(r),x+=r}if(0!==x)return x;for(n of v)if(0!==n)return n;return 0}function compileArgConversion(e){let r,t,n,a;let o=[],s=[];switch(e.types.forEach(function(e){e.conversion&&(o.push(findType(e.conversion.from).test),s.push(e.conversion.convert))}),s.length){case 0:return function(e){return e};case 1:return r=o[0],n=s[0],function(e){return r(e)?n(e):e};case 2:return r=o[0],t=o[1],n=s[0],a=s[1],function(e){return r(e)?n(e):t(e)?a(e):e};default:return function(e){for(let r=0;r<s.length;r++)if(o[r](e))return s[r](e);return e}}}function _onMismatch(e,r,t){throw createError(e,r,t)}function initial(e){return slice(e,0,e.length-1)}function last(e){return e[e.length-1]}function slice(e,r,t){return Array.prototype.slice.call(e,r,t)}function makeReferTo(e,r){return{referTo:{references:e,callback:r}}}function referToSelf(e){if("function"!=typeof e)throw TypeError("Callback function expected as first argument");return{referToSelf:{callback:e}}}function isReferTo(e){return e&&"object"==typeof e.referTo&&Array.isArray(e.referTo.references)&&"function"==typeof e.referTo.callback}function isReferToSelf(e){return e&&"object"==typeof e.referToSelf&&"function"==typeof e.referToSelf.callback}function checkName(e,r){if(!e)return r;if(r&&r!==e){let t=Error("Function names do not match (expected: "+e+", actual: "+r+")");throw t.data={actual:r,expected:e},t}return e}clear(),addTypes(n);let u=s;function _validateConversion(e){if(!e||"string"!=typeof e.from||"string"!=typeof e.to||"function"!=typeof e.convert)throw TypeError("Object with properties {from: string, to: string, convert: function} expected");if(e.to===e.from)throw SyntaxError('Illegal to define conversion from "'+e.from+'" to itself.')}return(s=function(e){let r="string"==typeof e,t=r?1:0,n=r?e:"",a={};for(let e=t;e<arguments.length;++e){let t;let o=arguments[e],s={};if("function"==typeof o?(t=o.name,"string"==typeof o.signature?s[o.signature]=o:isTypedFunction(o)&&(s=o.signatures)):isPlainObject(o)&&(s=o,r||(t=function(e){let r;for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(isTypedFunction(e[t])||"string"==typeof e[t].signature)&&(r=checkName(r,e[t].name));return r}(o))),0===Object.keys(s).length){let r=TypeError("Argument to 'typed' at index "+e+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw r.data={index:e,argument:o},r}r||(n=checkName(n,t)),function(e,r){let t;for(t in r)if(Object.prototype.hasOwnProperty.call(r,t)){if(t in e&&r[t]!==e[t]){let n=Error('Signature "'+t+'" is defined twice');throw n.data={signature:t,sourceFunction:r[t],destFunction:e[t]},n}e[t]=r[t]}}(a,s)}return function(e,r){let t,n;if(s.createCount++,0===Object.keys(r).length)throw SyntaxError("No signatures provided");s.warnAgainstDeprecatedThis&&function(e){let r=/\bthis(\(|\.signatures\b)/;Object.keys(e).forEach(t=>{let n=e[t];if(r.test(n.toString()))throw SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}(r);let a=[],o=[],u={},c=[];for(t in r){let e;if(!Object.prototype.hasOwnProperty.call(r,t))continue;let n=parseSignature(t);if(!n)continue;a.forEach(function(e){if(function(e,r){let t=Math.max(e.length,r.length);for(let n=0;n<t;n++){let t;let a=getTypeSetAtIndex(e,n),o=getTypeSetAtIndex(r,n),s=!1;for(t of o)if(a.has(t)){s=!0;break}if(!s)return!1}let n=e.length,a=r.length,o=hasRestParam(e),s=hasRestParam(r);return o?s?n===a:a>=n:s?n>=a:n===a}(e,n))throw TypeError('Conflicting signatures "'+stringifyParams(e)+'" and "'+stringifyParams(n)+'".')}),a.push(n);let s=o.length;o.push(r[t]);let l=n.map(expandParam);for(e of function _splitParams(e,r,t){if(!(r<e.length))return[t];{var n,a;let o=e[r],s=[];if(o.restParam){let e=o.types.filter(isExactType);e.length<o.types.length&&s.push({types:e,name:"..."+e.map(e=>e.name).join("|"),hasAny:e.some(e=>e.isAny),hasConversion:!1,restParam:!0}),s.push(o)}else s=o.types.map(function(e){return{types:[e],name:e.name,hasAny:e.isAny,hasConversion:e.conversion,restParam:!1}});return n=s,a=function(n){return _splitParams(e,r+1,t.concat([n]))},Array.prototype.concat.apply([],n.map(a))}}(l,0,[])){let r=stringifyParams(e);c.push({params:e,name:r,fn:s}),e.every(e=>!e.hasConversion)&&(u[r]=s)}}c.sort(compareSignatures);let l=function(e,r,t){let n=e.map(e=>isReferToSelf(e)?referToSelf(e.referToSelf.callback):isReferTo(e)?makeReferTo(e.referTo.references,e.referTo.callback):e),a=Array(n.length).fill(!1),o=!0;for(;o;){o=!1;let e=!0;for(let s=0;s<n.length;++s){if(a[s])continue;let u=n[s];if(isReferToSelf(u))n[s]=u.referToSelf.callback(t),n[s].referToSelf=u.referToSelf,a[s]=!0,e=!1;else if(isReferTo(u)){let t=function(e,r,t){let n;let a=[];for(n of e){let e=t[n];if("number"!=typeof e)throw TypeError('No definition for referenced signature "'+n+'"');if("function"!=typeof(e=r[e]))return!1;a.push(e)}return a}(u.referTo.references,n,r);t?(n[s]=u.referTo.callback.apply(this,t),n[s].referTo=u.referTo,a[s]=!0,e=!1):o=!0}}if(e&&o)throw SyntaxError("Circular reference detected in resolving typed.referTo")}return n}(o,u,theTypedFn);for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(u[n]=l[u[n]]);let p=[],m=new Map;for(n of c)m.has(n.name)||(n.fn=l[n.fn],p.push(n),m.set(n.name,n));let h=p[0]&&p[0].params.length<=2&&!hasRestParam(p[0].params),g=p[1]&&p[1].params.length<=2&&!hasRestParam(p[1].params),y=p[2]&&p[2].params.length<=2&&!hasRestParam(p[2].params),v=p[3]&&p[3].params.length<=2&&!hasRestParam(p[3].params),x=p[4]&&p[4].params.length<=2&&!hasRestParam(p[4].params),b=p[5]&&p[5].params.length<=2&&!hasRestParam(p[5].params);for(let e=0;e<p.length;++e)p[e].test=function(e){let r,t,n;if(hasRestParam(e)){r=initial(e).map(compileTest);let t=r.length,n=compileTest(last(e)),testRestParam=function(e){for(let r=t;r<e.length;r++)if(!n(e[r]))return!1;return!0};return function(e){for(let t=0;t<r.length;t++)if(!r[t](e[t]))return!1;return testRestParam(e)&&e.length>=t+1}}return 0===e.length?function(e){return 0===e.length}:1===e.length?(t=compileTest(e[0]),function(e){return t(e[0])&&1===e.length}):2===e.length?(t=compileTest(e[0]),n=compileTest(e[1]),function(e){return t(e[0])&&n(e[1])&&2===e.length}):(r=e.map(compileTest),function(e){for(let t=0;t<r.length;t++)if(!r[t](e[t]))return!1;return e.length===r.length})}(p[e].params);let N=h?compileTest(p[0].params[0]):notOk,w=g?compileTest(p[1].params[0]):notOk,_=y?compileTest(p[2].params[0]):notOk,D=v?compileTest(p[3].params[0]):notOk,E=x?compileTest(p[4].params[0]):notOk,A=b?compileTest(p[5].params[0]):notOk,C=h?compileTest(p[0].params[1]):notOk,S=g?compileTest(p[1].params[1]):notOk,M=y?compileTest(p[2].params[1]):notOk,F=v?compileTest(p[3].params[1]):notOk,T=x?compileTest(p[4].params[1]):notOk,O=b?compileTest(p[5].params[1]):notOk;for(let e=0;e<p.length;++e)p[e].implementation=function(e,r){let t=r;if(e.some(e=>e.hasConversion)){let n=hasRestParam(e),a=e.map(compileArgConversion);t=function(){let e=[],t=n?arguments.length-1:arguments.length;for(let r=0;r<t;r++)e[r]=a[r](arguments[r]);return n&&(e[t]=arguments[t].map(a[t])),r.apply(this,e)}}let n=t;if(hasRestParam(e)){let r=e.length-1;n=function(){return t.apply(this,slice(arguments,0,r).concat([slice(arguments,r)]))}}return n}(p[e].params,p[e].fn);let B=h?p[0].implementation:undef,k=g?p[1].implementation:undef,I=y?p[2].implementation:undef,P=v?p[3].implementation:undef,z=x?p[4].implementation:undef,R=b?p[5].implementation:undef,q=h?p[0].params.length:-1,j=g?p[1].params.length:-1,U=y?p[2].params.length:-1,L=v?p[3].params.length:-1,H=x?p[4].params.length:-1,$=b?p[5].params.length:-1,V=h&&g&&y&&v&&x&&b?6:0,Z=p.length,G=p.map(e=>e.test),W=p.map(e=>e.implementation),generic=function(){for(let e=V;e<Z;e++)if(G[e](arguments))return W[e].apply(this,arguments);return s.onMismatch(e,arguments,p)};function theTypedFn(e,r){return arguments.length===q&&N(e)&&C(r)?B.apply(this,arguments):arguments.length===j&&w(e)&&S(r)?k.apply(this,arguments):arguments.length===U&&_(e)&&M(r)?I.apply(this,arguments):arguments.length===L&&D(e)&&F(r)?P.apply(this,arguments):arguments.length===H&&E(e)&&T(r)?z.apply(this,arguments):arguments.length===$&&A(e)&&O(r)?R.apply(this,arguments):generic.apply(this,arguments)}try{Object.defineProperty(theTypedFn,"name",{value:e})}catch(e){}return theTypedFn.signatures=u,theTypedFn._typedFunctionData={signatures:p,signatureMap:m},theTypedFn}(n||"",a)}).create=create,s.createCount=u.createCount,s.onMismatch=_onMismatch,s.throwMismatchError=_onMismatch,s.createError=createError,s.clear=clear,s.clearConversions=function(){let e;for(e of t)r.get(e).conversionsTo=[];o=0},s.addTypes=addTypes,s._findType=findType,s.referTo=function(){let e=initial(arguments).map(e=>stringifyParams(parseSignature(e))),r=last(arguments);if("function"!=typeof r)throw TypeError("Callback function expected as last argument");return makeReferTo(e,r)},s.referToSelf=referToSelf,s.convert=function(e,r){let t=findType(r);if(t.test(e))return e;let n=t.conversionsTo;if(0===n.length)throw Error("There are no conversions to "+r+" defined.");for(let r=0;r<n.length;r++){let t=findType(n[r].from);if(t.test(e))return n[r].convert(e)}throw Error("Cannot convert "+e+" to "+r)},s.findSignature=findSignature,s.find=function(e,r,t){return findSignature(e,r,t).implementation},s.isTypedFunction=isTypedFunction,s.warnAgainstDeprecatedThis=!0,s.addType=function(e,t){let n="any";!1!==t&&r.has("Object")&&(n="Object"),s.addTypes([e],n)},s.addConversion=function(e){_validateConversion(e);let r=findType(e.to);if(r.conversionsTo.every(function(r){return r.from!==e.from}))r.conversionsTo.push({from:e.from,convert:e.convert,index:o++});else throw Error('There is already a conversion from "'+e.from+'" to "'+r.name+'"')},s.addConversions=function(e){e.forEach(s.addConversion)},s.removeConversion=function(e){_validateConversion(e);let r=findType(e.to),t=function(e,r){for(let t=0;t<e.length;t++)if(r(e[t]))return e[t]}(r.conversionsTo,r=>r.from===e.from);if(!t)throw Error("Attempt to remove nonexistent conversion from "+e.from+" to "+e.to);if(t.convert!==e.convert)throw Error("Conversion to remove does not match existing conversion");let n=r.conversionsTo.indexOf(t);r.conversionsTo.splice(n,1)},s.resolve=function(r,t){if(!isTypedFunction(r))throw TypeError(e);let n=r._typedFunctionData.signatures;for(let e=0;e<n.length;++e)if(n[e].test(t))return n[e];return null},s}()}()},9676:function(e,r,t){"use strict";let n,a;/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function round(e){return e+.5|0}t.d(r,{$:function(){return unclipArea},A:function(){return _rlookupByKey},B:function(){return _lookupByKey},C:function(){return _isPointInArea},D:function(){return getAngleFromPoint},E:function(){return toPadding},F:function(){return each},G:function(){return getMaximumSize},H:function(){return N},I:function(){return _getParentNode},J:function(){return readUsedSize},K:function(){return U},L:function(){return throttled},M:function(){return _isDomSupported},N:function(){return _factorize},O:function(){return finiteOrDefault},P:function(){return g},Q:function(){return callback},R:function(){return _addGrace},S:function(){return _limitValue},T:function(){return y},U:function(){return toDegrees},V:function(){return _measureText},W:function(){return _int16Range},X:function(){return _alignPixel},Y:function(){return clipArea},Z:function(){return renderText},_:function(){return _arrayUnique},a:function(){return resolve},a0:function(){return toFont},a1:function(){return _toLeftRightCenter},a2:function(){return _alignStartEnd},a3:function(){return k},a4:function(){return merge},a5:function(){return _capitalize},a6:function(){return I},a7:function(){return isFunction},a8:function(){return function _attachContext(e,r,t,n){let a={_cacheable:!1,_proxy:e,_context:r,_subProxy:t,_stack:new Set,_descriptors:_descriptors(e,n),setContext:r=>_attachContext(e,r,t,n),override:a=>_attachContext(e.override(a),r,t,n)};return new Proxy(a,{deleteProperty:(r,t)=>(delete r[t],delete e[t],!0),get:(e,r,t)=>_cached(e,r,()=>(function(e,r,t){let{_proxy:n,_context:a,_subProxy:o,_descriptors:s}=e,u=n[r];return isFunction(u)&&s.isScriptable(r)&&(u=function(e,r,t,n){let{_proxy:a,_context:o,_subProxy:s,_stack:u}=t;if(u.has(e))throw Error("Recursion detected: "+Array.from(u).join("->")+"->"+e);u.add(e);let c=r(o,s||n);return u.delete(e),needsSubResolver(e,c)&&(c=createSubResolver(a._scopes,a,e,c)),c}(r,u,e,t)),isArray(u)&&u.length&&(u=function(e,r,t,n){let{_proxy:a,_context:o,_subProxy:s,_descriptors:u}=t;if(void 0!==o.index&&n(e))return r[o.index%r.length];if(isObject(r[0])){let t=r,n=a._scopes.filter(e=>e!==t);for(let c of(r=[],t)){let t=createSubResolver(n,a,e,c);r.push(_attachContext(t,o,s&&s[e],u))}}return r}(r,u,e,s.isIndexable)),needsSubResolver(r,u)&&(u=_attachContext(u,a,o&&o[r],s)),u})(e,r,t)),getOwnPropertyDescriptor:(r,t)=>r._descriptors.allKeys?Reflect.has(e,t)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,t),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(r,t)=>Reflect.has(e,t),ownKeys:()=>Reflect.ownKeys(e),set:(r,t,n)=>(e[t]=n,delete r[t],!0)})}},a9:function(){return _createResolver},aA:function(){return overrideTextDirection},aB:function(){return _textX},aC:function(){return restoreTextDirection},aD:function(){return drawPointLegend},aE:function(){return distanceBetweenPoints},aF:function(){return noop},aG:function(){return _setMinAndMaxByKey},aH:function(){return niceNum},aI:function(){return almostWhole},aJ:function(){return almostEquals},aK:function(){return _decimalPlaces},aL:function(){return B},aM:function(){return D},aN:function(){return _longestText},aO:function(){return _filterBetween},aP:function(){return _lookup},aa:function(){return _descriptors},ab:function(){return mergeIf},ac:function(){return m},ad:function(){return debounce},ae:function(){return retinaScale},af:function(){return clearCanvas},ag:function(){return setsEqual},ah:function(){return _elementsEqual},ai:function(){return _isClickEvent},aj:function(){return _isBetween},ak:function(){return _readValueToProps},al:function(){return _updateBezierControlPoints},am:function(){return _computeSegments},an:function(){return _boundSegments},ao:function(){return _steppedInterpolation},ap:function(){return _bezierInterpolation},aq:function(){return _pointInLine},ar:function(){return _steppedLineTo},as:function(){return _bezierCurveTo},at:function(){return drawPoint},au:function(){return addRoundedRectPath},av:function(){return toTRBL},aw:function(){return toTRBLCorners},ax:function(){return _boundSegment},ay:function(){return _normalizeAngle},az:function(){return getRtlAdapter},b:function(){return isArray},c:function(){return color},d:function(){return P},e:function(){return S},f:function(){return resolveObjectKey},g:function(){return isNumberFinite},h:function(){return defined},i:function(){return isObject},j:function(){return createContext},k:function(){return isNullOrUndef},l:function(){return listenArrayEvents},m:function(){return toPercentage},n:function(){return toDimension},o:function(){return formatNumber},p:function(){return _angleBetween},q:function(){return _getStartAndCountOfVisiblePoints},r:function(){return C},s:function(){return E},t:function(){return toRadians},u:function(){return unlistenArrayEvents},v:function(){return valueOrDefault},w:function(){return _scaleRangesChanged},x:function(){return isNumber},y:function(){return _parseObjectDataRadialScale},z:function(){return getRelativePosition}});let lim=(e,r,t)=>Math.max(Math.min(e,t),r);function p2b(e){return lim(round(2.55*e),0,255)}function n2b(e){return lim(round(255*e),0,255)}function b2n(e){return lim(round(e/2.55)/100,0,1)}function n2p(e){return lim(round(100*e),0,100)}let o={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},s=[..."0123456789ABCDEF"],h1=e=>s[15&e],h2=e=>s[(240&e)>>4]+s[15&e],eq=e=>(240&e)>>4==(15&e),isShort=e=>eq(e.r)&&eq(e.g)&&eq(e.b)&&eq(e.a),alpha=(e,r)=>e<255?r(e):"",u=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(e,r,t){let n=r*Math.min(t,1-t),f=(r,a=(r+e/30)%12)=>t-n*Math.max(Math.min(a-3,9-a,1),-1);return[f(0),f(8),f(4)]}function hsv2rgbn(e,r,t){let f=(n,a=(n+e/60)%6)=>t-t*r*Math.max(Math.min(a,4-a,1),0);return[f(5),f(3),f(1)]}function hwb2rgbn(e,r,t){let n;let a=hsl2rgbn(e,1,.5);for(r+t>1&&(n=1/(r+t),r*=n,t*=n),n=0;n<3;n++)a[n]*=1-r-t,a[n]+=r;return a}function rgb2hsl(e){let r,t,n;let a=e.r/255,o=e.g/255,s=e.b/255,u=Math.max(a,o,s),c=Math.min(a,o,s),l=(u+c)/2;return u!==c&&(n=u-c,t=l>.5?n/(2-u-c):n/(u+c),r=60*(r=a===u?(o-s)/n+(o<s?6:0):o===u?(s-a)/n+2:(a-o)/n+4)+.5),[0|r,t||0,l]}function calln(e,r,t,n){return(Array.isArray(r)?e(r[0],r[1],r[2]):e(r,t,n)).map(n2b)}function hue(e){return(e%360+360)%360}let c={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},l={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"},p=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,to=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,from=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function modHSL(e,r,t){if(e){let n=rgb2hsl(e);n[r]=Math.max(0,Math.min(n[r]+n[r]*t,0===r?360:1)),n=calln(hsl2rgbn,n,void 0,void 0),e.r=n[0],e.g=n[1],e.b=n[2]}}function clone(e,r){return e?Object.assign(r||{},e):e}function fromObject(e){var r={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(r={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(r.a=n2b(e[3]))):(r=clone(e,{r:0,g:0,b:0,a:1})).a=n2b(r.a),r}let Color=class Color{constructor(e){let r;if(e instanceof Color)return e;let t=typeof e;if("object"===t)r=fromObject(e);else if("string"===t){var a,s;s=e.length,"#"===e[0]&&(4===s||5===s?a={r:255&17*o[e[1]],g:255&17*o[e[2]],b:255&17*o[e[3]],a:5===s?17*o[e[4]]:255}:(7===s||9===s)&&(a={r:o[e[1]]<<4|o[e[2]],g:o[e[3]]<<4|o[e[4]],b:o[e[5]]<<4|o[e[6]],a:9===s?o[e[7]]<<4|o[e[8]]:255})),r=a||function(e){n||((n=function(){let e,r,t,n,a;let o={},s=Object.keys(l),u=Object.keys(c);for(e=0;e<s.length;e++){for(r=0,n=a=s[e];r<u.length;r++)t=u[r],a=a.replace(t,c[t]);t=parseInt(l[n],16),o[a]=[t>>16&255,t>>8&255,255&t]}return o}()).transparent=[0,0,0,0]);let r=n[e.toLowerCase()];return r&&{r:r[0],g:r[1],b:r[2],a:4===r.length?r[3]:255}}(e)||("r"===e.charAt(0)?function(e){let r,t,n;let a=p.exec(e),o=255;if(a){if(a[7]!==r){let e=+a[7];o=a[8]?p2b(e):lim(255*e,0,255)}return r=+a[1],t=+a[3],n=+a[5],{r:r=255&(a[2]?p2b(r):lim(r,0,255)),g:t=255&(a[4]?p2b(t):lim(t,0,255)),b:n=255&(a[6]?p2b(n):lim(n,0,255)),a:o}}}(e):function(e){let r;let t=u.exec(e),n=255;if(!t)return;t[5]!==r&&(n=t[6]?p2b(+t[5]):n2b(+t[5]));let a=hue(+t[2]),o=+t[3]/100,s=+t[4]/100;return{r:(r="hwb"===t[1]?calln(hwb2rgbn,a,o,s):"hsv"===t[1]?calln(hsv2rgbn,a,o,s):calln(hsl2rgbn,a,o,s))[0],g:r[1],b:r[2],a:n}}(e))}this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=clone(this._rgb);return e&&(e.a=b2n(e.a)),e}set rgb(e){this._rgb=fromObject(e)}rgbString(){var e;return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${b2n(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0}hexString(){var e,r;return this._valid?(r=isShort(e=this._rgb)?h1:h2,e?"#"+r(e.r)+r(e.g)+r(e.b)+alpha(e.a,r):void 0):void 0}hslString(){return this._valid?function(e){if(!e)return;let r=rgb2hsl(e),t=r[0],n=n2p(r[1]),a=n2p(r[2]);return e.a<255?`hsla(${t}, ${n}%, ${a}%, ${b2n(e.a)})`:`hsl(${t}, ${n}%, ${a}%)`}(this._rgb):void 0}mix(e,r){if(e){let t;let n=this.rgb,a=e.rgb,o=r===t?.5:r,s=2*o-1,u=n.a-a.a,c=((s*u==-1?s:(s+u)/(1+s*u))+1)/2;t=1-c,n.r=255&c*n.r+t*a.r+.5,n.g=255&c*n.g+t*a.g+.5,n.b=255&c*n.b+t*a.b+.5,n.a=o*n.a+(1-o)*a.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=function(e,r,t){let n=from(b2n(e.r)),a=from(b2n(e.g)),o=from(b2n(e.b));return{r:n2b(to(n+t*(from(b2n(r.r))-n))),g:n2b(to(a+t*(from(b2n(r.g))-a))),b:n2b(to(o+t*(from(b2n(r.b))-o))),a:e.a+t*(r.a-e.a)}}(this._rgb,e._rgb,r)),this}clone(){return new Color(this.rgb)}alpha(e){return this._rgb.a=n2b(e),this}clearer(e){let r=this._rgb;return r.a*=1-e,this}greyscale(){let e=this._rgb,r=round(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=r,this}opaquer(e){let r=this._rgb;return r.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return modHSL(this._rgb,2,e),this}darken(e){return modHSL(this._rgb,2,-e),this}saturate(e){return modHSL(this._rgb,1,e),this}desaturate(e){return modHSL(this._rgb,1,-e),this}rotate(e){var r,t;return(t=rgb2hsl(r=this._rgb))[0]=hue(t[0]+e),t=calln(hsl2rgbn,t,void 0,void 0),r.r=t[0],r.g=t[1],r.b=t[2],this}};/*!
 * Chart.js v4.4.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function noop(){}let m=(a=0,()=>a++);function isNullOrUndef(e){return null==e}function isArray(e){if(Array.isArray&&Array.isArray(e))return!0;let r=Object.prototype.toString.call(e);return"[object"===r.slice(0,7)&&"Array]"===r.slice(-6)}function isObject(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function isNumberFinite(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function finiteOrDefault(e,r){return isNumberFinite(e)?e:r}function valueOrDefault(e,r){return void 0===e?r:e}let toPercentage=(e,r)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/r,toDimension=(e,r)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*r:+e;function callback(e,r,t){if(e&&"function"==typeof e.call)return e.apply(t,r)}function each(e,r,t,n){let a,o,s;if(isArray(e)){if(o=e.length,n)for(a=o-1;a>=0;a--)r.call(t,e[a],a);else for(a=0;a<o;a++)r.call(t,e[a],a)}else if(isObject(e))for(a=0,o=(s=Object.keys(e)).length;a<o;a++)r.call(t,e[s[a]],s[a])}function _elementsEqual(e,r){let t,n,a,o;if(!e||!r||e.length!==r.length)return!1;for(t=0,n=e.length;t<n;++t)if(a=e[t],o=r[t],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function helpers_segment_clone(e){if(isArray(e))return e.map(helpers_segment_clone);if(isObject(e)){let r=Object.create(null),t=Object.keys(e),n=t.length,a=0;for(;a<n;++a)r[t[a]]=helpers_segment_clone(e[t[a]]);return r}return e}function isValidKey(e){return -1===["__proto__","prototype","constructor"].indexOf(e)}function _merger(e,r,t,n){if(!isValidKey(e))return;let a=r[e],o=t[e];isObject(a)&&isObject(o)?merge(a,o,n):r[e]=helpers_segment_clone(o)}function merge(e,r,t){let n;let a=isArray(r)?r:[r],o=a.length;if(!isObject(e))return e;t=t||{};let s=t.merger||_merger;for(let r=0;r<o;++r){if(!isObject(n=a[r]))continue;let o=Object.keys(n);for(let r=0,a=o.length;r<a;++r)s(o[r],e,n,t)}return e}function mergeIf(e,r){return merge(e,r,{merger:_mergerIf})}function _mergerIf(e,r,t){if(!isValidKey(e))return;let n=r[e],a=t[e];isObject(n)&&isObject(a)?mergeIf(n,a):Object.prototype.hasOwnProperty.call(r,e)||(r[e]=helpers_segment_clone(a))}let h={"":e=>e,x:e=>e.x,y:e=>e.y};function resolveObjectKey(e,r){let t=h[r]||(h[r]=function(e){let r=function(e){let r=e.split("."),t=[],n="";for(let e of r)(n+=e).endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}(e);return e=>{for(let t of r){if(""===t)break;e=e&&e[t]}return e}}(r));return t(e)}function _capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}let defined=e=>void 0!==e,isFunction=e=>"function"==typeof e,setsEqual=(e,r)=>{if(e.size!==r.size)return!1;for(let t of e)if(!r.has(t))return!1;return!0};function _isClickEvent(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}let g=Math.PI,y=2*g,v=y+g,x=Number.POSITIVE_INFINITY,b=g/180,N=g/2,w=g/4,_=2*g/3,D=Math.log10,E=Math.sign;function almostEquals(e,r,t){return Math.abs(e-r)<t}function niceNum(e){let r=Math.round(e);e=almostEquals(e,r,e/1e3)?r:e;let t=Math.pow(10,Math.floor(D(e))),n=e/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function _factorize(e){let r;let t=[],n=Math.sqrt(e);for(r=1;r<n;r++)e%r==0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort((e,r)=>e-r).pop(),t}function isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}function almostWhole(e,r){let t=Math.round(e);return t-r<=e&&t+r>=e}function _setMinAndMaxByKey(e,r,t){let n,a,o;for(n=0,a=e.length;n<a;n++)isNaN(o=e[n][t])||(r.min=Math.min(r.min,o),r.max=Math.max(r.max,o))}function toRadians(e){return e*(g/180)}function toDegrees(e){return e*(180/g)}function _decimalPlaces(e){if(!isNumberFinite(e))return;let r=1,t=0;for(;Math.round(e*r)/r!==e;)r*=10,t++;return t}function getAngleFromPoint(e,r){let t=r.x-e.x,n=r.y-e.y,a=Math.sqrt(t*t+n*n),o=Math.atan2(n,t);return o<-.5*g&&(o+=y),{angle:o,distance:a}}function distanceBetweenPoints(e,r){return Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))}function _angleDiff(e,r){return(e-r+v)%y-g}function _normalizeAngle(e){return(e%y+y)%y}function _angleBetween(e,r,t,n){let a=_normalizeAngle(e),o=_normalizeAngle(r),s=_normalizeAngle(t),u=_normalizeAngle(o-a),c=_normalizeAngle(s-a),l=_normalizeAngle(a-o),p=_normalizeAngle(a-s);return a===o||a===s||n&&o===s||u>c&&l<p}function _limitValue(e,r,t){return Math.max(r,Math.min(t,e))}function _int16Range(e){return _limitValue(e,-32768,32767)}function _isBetween(e,r,t,n=1e-6){return e>=Math.min(r,t)-n&&e<=Math.max(r,t)+n}function _lookup(e,r,t){let n;t=t||(t=>e[t]<r);let a=e.length-1,o=0;for(;a-o>1;)t(n=o+a>>1)?o=n:a=n;return{lo:o,hi:a}}let _lookupByKey=(e,r,t,n)=>_lookup(e,t,n?n=>{let a=e[n][r];return a<t||a===t&&e[n+1][r]===t}:n=>e[n][r]<t),_rlookupByKey=(e,r,t)=>_lookup(e,t,n=>e[n][r]>=t);function _filterBetween(e,r,t){let n=0,a=e.length;for(;n<a&&e[n]<r;)n++;for(;a>n&&e[a-1]>t;)a--;return n>0||a<e.length?e.slice(n,a):e}let A=["push","pop","shift","splice","unshift"];function listenArrayEvents(e,r){if(e._chartjs){e._chartjs.listeners.push(r);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[r]}}),A.forEach(r=>{let t="_onData"+_capitalize(r),n=e[r];Object.defineProperty(e,r,{configurable:!0,enumerable:!1,value(...r){let a=n.apply(this,r);return e._chartjs.listeners.forEach(e=>{"function"==typeof e[t]&&e[t](...r)}),a}})})}function unlistenArrayEvents(e,r){let t=e._chartjs;if(!t)return;let n=t.listeners,a=n.indexOf(r);-1!==a&&n.splice(a,1),n.length>0||(A.forEach(r=>{delete e[r]}),delete e._chartjs)}function _arrayUnique(e){let r=new Set(e);return r.size===e.length?e:Array.from(r)}let C="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function throttled(e,r){let t=[],n=!1;return function(...a){t=a,n||(n=!0,C.call(window,()=>{n=!1,e.apply(r,t)}))}}function debounce(e,r){let t;return function(...n){return r?(clearTimeout(t),t=setTimeout(e,r,n)):e.apply(this,n),r}}let _toLeftRightCenter=e=>"start"===e?"left":"end"===e?"right":"center",_alignStartEnd=(e,r,t)=>"start"===e?r:"end"===e?t:(r+t)/2,_textX=(e,r,t,n)=>e===(n?"left":"right")?t:"center"===e?(r+t)/2:r;function _getStartAndCountOfVisiblePoints(e,r,t){let n=r.length,a=0,o=n;if(e._sorted){let{iScale:s,_parsed:u}=e,c=s.axis,{min:l,max:p,minDefined:m,maxDefined:h}=s.getUserBounds();m&&(a=_limitValue(Math.min(_lookupByKey(u,c,l).lo,t?n:_lookupByKey(r,c,s.getPixelForValue(l)).lo),0,n-1)),o=h?_limitValue(Math.max(_lookupByKey(u,s.axis,p,!0).hi+1,t?0:_lookupByKey(r,c,s.getPixelForValue(p),!0).hi+1),a,n)-a:n-a}return{start:a,count:o}}function _scaleRangesChanged(e){let{xScale:r,yScale:t,_scaleRanges:n}=e,a={xmin:r.min,xmax:r.max,ymin:t.min,ymax:t.max};if(!n)return e._scaleRanges=a,!0;let o=n.xmin!==r.min||n.xmax!==r.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,a),o}let atEdge=e=>0===e||1===e,elasticIn=(e,r,t)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-r)*y/t)),elasticOut=(e,r,t)=>Math.pow(2,-10*e)*Math.sin((e-r)*y/t)+1,S={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*N)+1,easeOutSine:e=>Math.sin(e*N),easeInOutSine:e=>-.5*(Math.cos(g*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>atEdge(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(-Math.pow(2,-10*(2*e-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>atEdge(e)?e:elasticIn(e,.075,.3),easeOutElastic:e=>atEdge(e)?e:elasticOut(e,.075,.3),easeInOutElastic:e=>atEdge(e)?e:e<.5?.5*elasticIn(2*e,.1125,.45):.5+.5*elasticOut(2*e-1,.1125,.45),easeInBack:e=>e*e*(2.70158*e-1.70158),easeOutBack:e=>(e-=1)*e*(2.70158*e+1.70158)+1,easeInOutBack(e){let r=1.70158;return(e/=.5)<1?.5*(e*e*(((r*=1.525)+1)*e-r)):.5*((e-=2)*e*(((r*=1.525)+1)*e+r)+2)},easeInBounce:e=>1-S.easeOutBounce(1-e),easeOutBounce:e=>e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375,easeInOutBounce:e=>e<.5?.5*S.easeInBounce(2*e):.5*S.easeOutBounce(2*e-1)+.5};function isPatternOrGradient(e){if(e&&"object"==typeof e){let r=e.toString();return"[object CanvasPattern]"===r||"[object CanvasGradient]"===r}return!1}function color(e){return isPatternOrGradient(e)?e:new Color(e)}function getHoverColor(e){return isPatternOrGradient(e)?e:new Color(e).saturate(.5).darken(.1).hexString()}let M=["x","y","borderWidth","radius","tension"],F=["color","borderColor","backgroundColor"],T=new Map;function formatNumber(e,r,t){return(function(e,r){r=r||{};let t=e+JSON.stringify(r),n=T.get(t);return n||(n=new Intl.NumberFormat(e,r),T.set(t,n)),n})(r,t).format(e)}let O={values:e=>isArray(e)?e:""+e,numeric(e,r,t){let n;if(0===e)return"0";let a=this.chart.options.locale,o=e;if(t.length>1){let r;let a=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(a<1e-4||a>1e15)&&(n="scientific"),Math.abs(r=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value)>=1&&e!==Math.floor(e)&&(r=e-Math.floor(e)),o=r}let s=D(Math.abs(o)),u=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),c={notation:n,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(c,this.options.ticks.format),formatNumber(e,a,c)},logarithmic(e,r,t){if(0===e)return"0";let n=t[r].significand||e/Math.pow(10,Math.floor(D(e)));return[1,2,3,5,10,15].includes(n)||r>.8*t.length?O.numeric.call(this,e,r,t):""}};var B={formatters:O};let k=Object.create(null),I=Object.create(null);function getScope$1(e,r){if(!r)return e;let t=r.split(".");for(let r=0,n=t.length;r<n;++r){let n=t[r];e=e[n]||(e[n]=Object.create(null))}return e}function set(e,r,t){return"string"==typeof r?merge(getScope$1(e,r),t):merge(getScope$1(e,""),r)}var P=new class{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,r)=>getHoverColor(r.backgroundColor),this.hoverBorderColor=(e,r)=>getHoverColor(r.borderColor),this.hoverColor=(e,r)=>getHoverColor(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return set(this,e,r)}get(e){return getScope$1(this,e)}describe(e,r){return set(I,e,r)}override(e,r){return set(k,e,r)}route(e,r,t,n){let a=getScope$1(this,e),o=getScope$1(this,t),s="_"+r;Object.defineProperties(a,{[s]:{value:a[r],writable:!0},[r]:{enumerable:!0,get(){let e=this[s],r=o[n];return isObject(e)?Object.assign({},r,e):valueOrDefault(e,r)},set(e){this[s]=e}}})}apply(e){e.forEach(e=>e(this))}}({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:F},numbers:{type:"number",properties:M}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:B.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function _measureText(e,r,t,n,a){let o=r[a];return o||(o=r[a]=e.measureText(a).width,t.push(a)),o>n&&(n=o),n}function _longestText(e,r,t,n){let a,o,s,u,c;let l=(n=n||{}).data=n.data||{},p=n.garbageCollect=n.garbageCollect||[];n.font!==r&&(l=n.data={},p=n.garbageCollect=[],n.font=r),e.save(),e.font=r;let m=0,h=t.length;for(a=0;a<h;a++)if(null==(u=t[a])||isArray(u)){if(isArray(u))for(o=0,s=u.length;o<s;o++)null==(c=u[o])||isArray(c)||(m=_measureText(e,l,p,m,c))}else m=_measureText(e,l,p,m,u);e.restore();let g=p.length/2;if(g>t.length){for(a=0;a<g;a++)delete l[p[a]];p.splice(0,g)}return m}function _alignPixel(e,r,t){let n=e.currentDevicePixelRatio,a=0!==t?Math.max(t/2,.5):0;return Math.round((r-a)*n)/n+a}function clearCanvas(e,r){(r=r||e.getContext("2d")).save(),r.resetTransform(),r.clearRect(0,0,e.width,e.height),r.restore()}function drawPoint(e,r,t,n){drawPointLegend(e,r,t,n,null)}function drawPointLegend(e,r,t,n,a){let o,s,u,c,l,p,m,h;let v=r.pointStyle,x=r.rotation,D=r.radius,E=(x||0)*b;if(v&&"object"==typeof v&&("[object HTMLImageElement]"===(o=v.toString())||"[object HTMLCanvasElement]"===o)){e.save(),e.translate(t,n),e.rotate(E),e.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),e.restore();return}if(!isNaN(D)&&!(D<=0)){switch(e.beginPath(),v){default:a?e.ellipse(t,n,a/2,D,0,0,y):e.arc(t,n,D,0,y),e.closePath();break;case"triangle":p=a?a/2:D,e.moveTo(t+Math.sin(E)*p,n-Math.cos(E)*D),E+=_,e.lineTo(t+Math.sin(E)*p,n-Math.cos(E)*D),E+=_,e.lineTo(t+Math.sin(E)*p,n-Math.cos(E)*D),e.closePath();break;case"rectRounded":l=.516*D,s=Math.cos(E+w)*(c=D-l),m=Math.cos(E+w)*(a?a/2-l:c),u=Math.sin(E+w)*c,h=Math.sin(E+w)*(a?a/2-l:c),e.arc(t-m,n-u,l,E-g,E-N),e.arc(t+h,n-s,l,E-N,E),e.arc(t+m,n+u,l,E,E+N),e.arc(t-h,n+s,l,E+N,E+g),e.closePath();break;case"rect":if(!x){c=Math.SQRT1_2*D,p=a?a/2:c,e.rect(t-p,n-c,2*p,2*c);break}E+=w;case"rectRot":m=Math.cos(E)*(a?a/2:D),s=Math.cos(E)*D,u=Math.sin(E)*D,h=Math.sin(E)*(a?a/2:D),e.moveTo(t-m,n-u),e.lineTo(t+h,n-s),e.lineTo(t+m,n+u),e.lineTo(t-h,n+s),e.closePath();break;case"crossRot":E+=w;case"cross":m=Math.cos(E)*(a?a/2:D),s=Math.cos(E)*D,u=Math.sin(E)*D,h=Math.sin(E)*(a?a/2:D),e.moveTo(t-m,n-u),e.lineTo(t+m,n+u),e.moveTo(t+h,n-s),e.lineTo(t-h,n+s);break;case"star":m=Math.cos(E)*(a?a/2:D),s=Math.cos(E)*D,u=Math.sin(E)*D,h=Math.sin(E)*(a?a/2:D),e.moveTo(t-m,n-u),e.lineTo(t+m,n+u),e.moveTo(t+h,n-s),e.lineTo(t-h,n+s),E+=w,m=Math.cos(E)*(a?a/2:D),s=Math.cos(E)*D,u=Math.sin(E)*D,h=Math.sin(E)*(a?a/2:D),e.moveTo(t-m,n-u),e.lineTo(t+m,n+u),e.moveTo(t+h,n-s),e.lineTo(t-h,n+s);break;case"line":s=a?a/2:Math.cos(E)*D,u=Math.sin(E)*D,e.moveTo(t-s,n-u),e.lineTo(t+s,n+u);break;case"dash":e.moveTo(t,n),e.lineTo(t+Math.cos(E)*(a?a/2:D),n+Math.sin(E)*D);break;case!1:e.closePath()}e.fill(),r.borderWidth>0&&e.stroke()}}function _isPointInArea(e,r,t){return t=t||.5,!r||e&&e.x>r.left-t&&e.x<r.right+t&&e.y>r.top-t&&e.y<r.bottom+t}function clipArea(e,r){e.save(),e.beginPath(),e.rect(r.left,r.top,r.right-r.left,r.bottom-r.top),e.clip()}function unclipArea(e){e.restore()}function _steppedLineTo(e,r,t,n,a){if(!r)return e.lineTo(t.x,t.y);if("middle"===a){let n=(r.x+t.x)/2;e.lineTo(n,r.y),e.lineTo(n,t.y)}else"after"===a!=!!n?e.lineTo(r.x,t.y):e.lineTo(t.x,r.y);e.lineTo(t.x,t.y)}function _bezierCurveTo(e,r,t,n){if(!r)return e.lineTo(t.x,t.y);e.bezierCurveTo(n?r.cp1x:r.cp2x,n?r.cp1y:r.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function renderText(e,r,t,n,a,o={}){let s,u;let c=isArray(r)?r:[r],l=o.strokeWidth>0&&""!==o.strokeColor;for(e.save(),e.font=a.string,o.translation&&e.translate(o.translation[0],o.translation[1]),isNullOrUndef(o.rotation)||e.rotate(o.rotation),o.color&&(e.fillStyle=o.color),o.textAlign&&(e.textAlign=o.textAlign),o.textBaseline&&(e.textBaseline=o.textBaseline),s=0;s<c.length;++s)u=c[s],o.backdrop&&function(e,r){let t=e.fillStyle;e.fillStyle=r.color,e.fillRect(r.left,r.top,r.width,r.height),e.fillStyle=t}(e,o.backdrop),l&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),isNullOrUndef(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(u,t,n,o.maxWidth)),e.fillText(u,t,n,o.maxWidth),function(e,r,t,n,a){if(a.strikethrough||a.underline){let o=e.measureText(n),s=r-o.actualBoundingBoxLeft,u=r+o.actualBoundingBoxRight,c=t-o.actualBoundingBoxAscent,l=t+o.actualBoundingBoxDescent,p=a.strikethrough?(c+l)/2:l;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(s,p),e.lineTo(u,p),e.stroke()}}(e,t,n,u,o),n+=Number(a.lineHeight);e.restore()}function addRoundedRectPath(e,r){let{x:t,y:n,w:a,h:o,radius:s}=r;e.arc(t+s.topLeft,n+s.topLeft,s.topLeft,1.5*g,g,!0),e.lineTo(t,n+o-s.bottomLeft),e.arc(t+s.bottomLeft,n+o-s.bottomLeft,s.bottomLeft,g,N,!0),e.lineTo(t+a-s.bottomRight,n+o),e.arc(t+a-s.bottomRight,n+o-s.bottomRight,s.bottomRight,N,0,!0),e.lineTo(t+a,n+s.topRight),e.arc(t+a-s.topRight,n+s.topRight,s.topRight,0,-N,!0),e.lineTo(t+s.topLeft,n)}let z=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,R=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/,numberOrZero=e=>+e||0;function _readValueToProps(e,r){let t={},n=isObject(r),a=n?Object.keys(r):r,o=isObject(e)?n?t=>valueOrDefault(e[t],e[r[t]]):r=>e[r]:()=>e;for(let e of a)t[e]=numberOrZero(o(e));return t}function toTRBL(e){return _readValueToProps(e,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(e){return _readValueToProps(e,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(e){let r=toTRBL(e);return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function toFont(e,r){e=e||{},r=r||P.font;let t=valueOrDefault(e.size,r.size);"string"==typeof t&&(t=parseInt(t,10));let n=valueOrDefault(e.style,r.style);n&&!(""+n).match(R)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);let a={family:valueOrDefault(e.family,r.family),lineHeight:function(e,r){let t=(""+e).match(z);if(!t||"normal"===t[1])return 1.2*r;switch(e=+t[2],t[3]){case"px":return e;case"%":e/=100}return r*e}(valueOrDefault(e.lineHeight,r.lineHeight),t),size:t,style:n,weight:valueOrDefault(e.weight,r.weight),string:""};return a.string=!a||isNullOrUndef(a.size)||isNullOrUndef(a.family)?null:(a.style?a.style+" ":"")+(a.weight?a.weight+" ":"")+a.size+"px "+a.family,a}function resolve(e,r,t,n){let a,o,s,u=!0;for(a=0,o=e.length;a<o;++a)if(void 0!==(s=e[a])&&(void 0!==r&&"function"==typeof s&&(s=s(r),u=!1),void 0!==t&&isArray(s)&&(s=s[t%s.length],u=!1),void 0!==s))return n&&!u&&(n.cacheable=!1),s}function _addGrace(e,r,t){let{min:n,max:a}=e,o=toDimension(r,(a-n)/2),keepZero=(e,r)=>t&&0===e?0:e+r;return{min:keepZero(n,-Math.abs(o)),max:keepZero(a,o)}}function createContext(e,r){return Object.assign(Object.create(e),r)}function _createResolver(e,r=[""],t,n,a=()=>e[0]){let o=t||e;void 0===n&&(n=_resolve("_fallback",e));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:n,_getTarget:a,override:t=>_createResolver([t,...e],r,o,n)};return new Proxy(s,{deleteProperty:(r,t)=>(delete r[t],delete r._keys,delete e[0][t],!0),get:(t,n)=>_cached(t,n,()=>(function(e,r,t,n){let a;for(let o of r)if(void 0!==(a=_resolve(readKey(o,e),t)))return needsSubResolver(e,a)?createSubResolver(t,n,e,a):a})(n,r,e,t)),getOwnPropertyDescriptor:(e,r)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],r),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,r)=>getKeysFromAllScopes(e).includes(r),ownKeys:e=>getKeysFromAllScopes(e),set(e,r,t){let n=e._storage||(e._storage=a());return e[r]=n[r]=t,delete e._keys,!0}})}function _descriptors(e,r={scriptable:!0,indexable:!0}){let{_scriptable:t=r.scriptable,_indexable:n=r.indexable,_allKeys:a=r.allKeys}=e;return{allKeys:a,scriptable:t,indexable:n,isScriptable:isFunction(t)?t:()=>t,isIndexable:isFunction(n)?n:()=>n}}let readKey=(e,r)=>e?e+_capitalize(r):r,needsSubResolver=(e,r)=>isObject(r)&&"adapters"!==e&&(null===Object.getPrototypeOf(r)||r.constructor===Object);function _cached(e,r,t){if(Object.prototype.hasOwnProperty.call(e,r))return e[r];let n=t();return e[r]=n,n}let getScope=(e,r)=>!0===e?r:"string"==typeof e?resolveObjectKey(r,e):void 0;function createSubResolver(e,r,t,n){var a;let o=r._rootScopes,s=isFunction(a=r._fallback)?a(t,n):a,u=[...e,...o],c=new Set;c.add(n);let l=addScopesFromKey(c,u,t,s||t,n);return null!==l&&(void 0===s||s===t||null!==(l=addScopesFromKey(c,u,s,l,n)))&&_createResolver(Array.from(c),[""],o,s,()=>(function(e,r,t){let n=e._getTarget();r in n||(n[r]={});let a=n[r];return isArray(a)&&isObject(t)?t:a||{}})(r,t,n))}function addScopesFromKey(e,r,t,n,a){for(;t;)t=function(e,r,t,n,a){for(let s of r){let r=getScope(t,s);if(r){var o;e.add(r);let s=isFunction(o=r._fallback)?o(t,a):o;if(void 0!==s&&s!==t&&s!==n)return s}else if(!1===r&&void 0!==n&&t!==n)return null}return!1}(e,r,t,n,a);return t}function _resolve(e,r){for(let t of r){if(!t)continue;let r=t[e];if(void 0!==r)return r}}function getKeysFromAllScopes(e){let r=e._keys;return r||(r=e._keys=function(e){let r=new Set;for(let t of e)for(let e of Object.keys(t).filter(e=>!e.startsWith("_")))r.add(e);return Array.from(r)}(e._scopes)),r}function _parseObjectDataRadialScale(e,r,t,n){let a,o,s;let{iScale:u}=e,{key:c="r"}=this._parsing,l=Array(n);for(a=0;a<n;++a)s=r[o=a+t],l[a]={r:u.parse(resolveObjectKey(s,c),o)};return l}let q=Number.EPSILON||1e-14,getPoint=(e,r)=>r<e.length&&!e[r].skip&&e[r],getValueAxis=e=>"x"===e?"y":"x";function capControlPoint(e,r,t){return Math.max(Math.min(e,t),r)}function _updateBezierControlPoints(e,r,t,n,a){let o,s,u,c;if(r.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===r.cubicInterpolationMode)!function(e,r="x"){let t,n,a;let o=getValueAxis(r),s=e.length,u=Array(s).fill(0),c=Array(s),l=getPoint(e,0);for(t=0;t<s;++t)if(n=a,a=l,l=getPoint(e,t+1),a){if(l){let e=l[r]-a[r];u[t]=0!==e?(l[o]-a[o])/e:0}c[t]=n?l?E(u[t-1])!==E(u[t])?0:(u[t-1]+u[t])/2:u[t-1]:u[t]}!function(e,r,t){let n,a,o,s,u;let c=e.length,l=getPoint(e,0);for(let p=0;p<c-1;++p)if(u=l,l=getPoint(e,p+1),u&&l){if(almostEquals(r[p],0,q)){t[p]=t[p+1]=0;continue}(s=Math.pow(n=t[p]/r[p],2)+Math.pow(a=t[p+1]/r[p],2))<=9||(o=3/Math.sqrt(s),t[p]=n*o*r[p],t[p+1]=a*o*r[p])}}(e,u,c),function(e,r,t="x"){let n,a,o;let s=getValueAxis(t),u=e.length,c=getPoint(e,0);for(let l=0;l<u;++l){if(a=o,o=c,c=getPoint(e,l+1),!o)continue;let u=o[t],p=o[s];a&&(n=(u-a[t])/3,o[`cp1${t}`]=u-n,o[`cp1${s}`]=p-n*r[l]),c&&(n=(c[t]-u)/3,o[`cp2${t}`]=u+n,o[`cp2${s}`]=p+n*r[l])}}(e,c,r)}(e,a);else{let t=n?e[e.length-1]:e[0];for(o=0,s=e.length;o<s;++o)c=function(e,r,t,n){let a=e.skip?r:e,o=t.skip?r:t,s=distanceBetweenPoints(r,a),u=distanceBetweenPoints(o,r),c=s/(s+u),l=u/(s+u);c=isNaN(c)?0:c,l=isNaN(l)?0:l;let p=n*c,m=n*l;return{previous:{x:r.x-p*(o.x-a.x),y:r.y-p*(o.y-a.y)},next:{x:r.x+m*(o.x-a.x),y:r.y+m*(o.y-a.y)}}}(t,u=e[o],e[Math.min(o+1,s-(n?0:1))%s],r.tension),u.cp1x=c.previous.x,u.cp1y=c.previous.y,u.cp2x=c.next.x,u.cp2y=c.next.y,t=u}r.capBezierPoints&&function(e,r){let t,n,a,o,s;let u=_isPointInArea(e[0],r);for(t=0,n=e.length;t<n;++t)s=o,o=u,u=t<n-1&&_isPointInArea(e[t+1],r),o&&(a=e[t],s&&(a.cp1x=capControlPoint(a.cp1x,r.left,r.right),a.cp1y=capControlPoint(a.cp1y,r.top,r.bottom)),u&&(a.cp2x=capControlPoint(a.cp2x,r.left,r.right),a.cp2y=capControlPoint(a.cp2y,r.top,r.bottom)))}(e,t)}function _isDomSupported(){return"undefined"!=typeof window&&"undefined"!=typeof document}function _getParentNode(e){let r=e.parentNode;return r&&"[object ShadowRoot]"===r.toString()&&(r=r.host),r}function parseMaxStyle(e,r,t){let n;return"string"==typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*r.parentNode[t])):n=e,n}let getComputedStyle=e=>e.ownerDocument.defaultView.getComputedStyle(e,null),j=["top","right","bottom","left"];function getPositionedStyle(e,r,t){let n={};t=t?"-"+t:"";for(let a=0;a<4;a++){let o=j[a];n[o]=parseFloat(e[r+"-"+o+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}let useOffsetPos=(e,r,t)=>(e>0||r>0)&&(!t||!t.shadowRoot);function getRelativePosition(e,r){if("native"in e)return e;let{canvas:t,currentDevicePixelRatio:n}=r,a=getComputedStyle(t),o="border-box"===a.boxSizing,s=getPositionedStyle(a,"padding"),u=getPositionedStyle(a,"border","width"),{x:c,y:l,box:p}=function(e,r){let t,n;let a=e.touches,o=a&&a.length?a[0]:e,{offsetX:s,offsetY:u}=o,c=!1;if(useOffsetPos(s,u,e.target))t=s,n=u;else{let e=r.getBoundingClientRect();t=o.clientX-e.left,n=o.clientY-e.top,c=!0}return{x:t,y:n,box:c}}(e,t),m=s.left+(p&&u.left),h=s.top+(p&&u.top),{width:g,height:y}=r;return o&&(g-=s.width+u.width,y-=s.height+u.height),{x:Math.round((c-m)/g*t.width/n),y:Math.round((l-h)/y*t.height/n)}}let round1=e=>Math.round(10*e)/10;function getMaximumSize(e,r,t,n){let a=getComputedStyle(e),o=getPositionedStyle(a,"margin"),s=parseMaxStyle(a.maxWidth,e,"clientWidth")||x,u=parseMaxStyle(a.maxHeight,e,"clientHeight")||x,c=function(e,r,t){let n,a;if(void 0===r||void 0===t){let o=_getParentNode(e);if(o){let e=o.getBoundingClientRect(),s=getComputedStyle(o),u=getPositionedStyle(s,"border","width"),c=getPositionedStyle(s,"padding");r=e.width-c.width-u.width,t=e.height-c.height-u.height,n=parseMaxStyle(s.maxWidth,o,"clientWidth"),a=parseMaxStyle(s.maxHeight,o,"clientHeight")}else r=e.clientWidth,t=e.clientHeight}return{width:r,height:t,maxWidth:n||x,maxHeight:a||x}}(e,r,t),{width:l,height:p}=c;if("content-box"===a.boxSizing){let e=getPositionedStyle(a,"border","width"),r=getPositionedStyle(a,"padding");l-=r.width+e.width,p-=r.height+e.height}l=Math.max(0,l-o.width),p=Math.max(0,n?l/n:p-o.height),l=round1(Math.min(l,s,c.maxWidth)),p=round1(Math.min(p,u,c.maxHeight)),l&&!p&&(p=round1(l/2));let m=void 0!==r||void 0!==t;return m&&n&&c.height&&p>c.height&&(l=round1(Math.floor((p=c.height)*n))),{width:l,height:p}}function retinaScale(e,r,t){let n=r||1,a=Math.floor(e.height*n),o=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);let s=e.canvas;return s.style&&(t||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==n||s.height!==a||s.width!==o)&&(e.currentDevicePixelRatio=n,s.height=a,s.width=o,e.ctx.setTransform(n,0,0,n,0,0),!0)}let U=function(){let e=!1;try{let r={get passive(){return e=!0,!1}};window.addEventListener("test",null,r),window.removeEventListener("test",null,r)}catch(e){}return e}();function readUsedSize(e,r){let t=getComputedStyle(e).getPropertyValue(r),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function _pointInLine(e,r,t,n){return{x:e.x+t*(r.x-e.x),y:e.y+t*(r.y-e.y)}}function _steppedInterpolation(e,r,t,n){return{x:e.x+t*(r.x-e.x),y:"middle"===n?t<.5?e.y:r.y:"after"===n?t<1?e.y:r.y:t>0?r.y:e.y}}function _bezierInterpolation(e,r,t,n){let a={x:e.cp2x,y:e.cp2y},o={x:r.cp1x,y:r.cp1y},s=_pointInLine(e,a,t),u=_pointInLine(a,o,t),c=_pointInLine(o,r,t),l=_pointInLine(s,u,t),p=_pointInLine(u,c,t);return _pointInLine(l,p,t)}function getRtlAdapter(e,r,t){var n;return e?(n=t,{x:e=>r+r+n-e,setWidth(e){n=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,r)=>e-r,leftForLtr:(e,r)=>e-r}):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,r)=>e+r,leftForLtr:(e,r)=>e}}function overrideTextDirection(e,r){let t,n;("ltr"===r||"rtl"===r)&&(n=[(t=e.canvas.style).getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",r,"important"),e.prevTextDirection=n)}function restoreTextDirection(e,r){void 0!==r&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",r[0],r[1]))}function propertyFn(e){return"angle"===e?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:(e,r)=>e-r,normalize:e=>e}}function normalizeSegment({start:e,end:r,count:t,loop:n,style:a}){return{start:e%t,end:r%t,loop:n&&(r-e+1)%t==0,style:a}}function _boundSegment(e,r,t){let n,a,o;if(!t)return[e];let{property:s,start:u,end:c}=t,l=r.length,{compare:p,between:m,normalize:h}=propertyFn(s),{start:g,end:y,loop:v,style:x}=function(e,r,t){let n;let{property:a,start:o,end:s}=t,{between:u,normalize:c}=propertyFn(a),l=r.length,{start:p,end:m,loop:h}=e;if(h){for(p+=l,m+=l,n=0;n<l&&u(c(r[p%l][a]),o,s);++n)p--,m--;p%=l,m%=l}return m<p&&(m+=l),{start:p,end:m,loop:h,style:e.style}}(e,r,t),b=[],N=!1,w=null,startIsBefore=()=>m(u,o,n)&&0!==p(u,o),endIsBefore=()=>0===p(c,n)||m(c,o,n),shouldStart=()=>N||startIsBefore(),shouldStop=()=>!N||endIsBefore();for(let e=g,t=g;e<=y;++e)(a=r[e%l]).skip||(n=h(a[s]))===o||(N=m(n,u,c),null===w&&shouldStart()&&(w=0===p(n,u)?e:t),null!==w&&shouldStop()&&(b.push(normalizeSegment({start:w,end:e,loop:v,count:l,style:x})),w=null),t=e,o=n);return null!==w&&b.push(normalizeSegment({start:w,end:y,loop:v,count:l,style:x})),b}function _boundSegments(e,r){let t=[],n=e.segments;for(let a=0;a<n.length;a++){let o=_boundSegment(n[a],e.points,r);o.length&&t.push(...o)}return t}function _computeSegments(e,r){let t=e.points,n=e.options.spanGaps,a=t.length;if(!a)return[];let o=!!e._loop,{start:s,end:u}=function(e,r,t,n){let a=0,o=r-1;if(t&&!n)for(;a<r&&!e[a].skip;)a++;for(;a<r&&e[a].skip;)a++;for(a%=r,t&&(o+=a);o>a&&e[o%r].skip;)o--;return{start:a,end:o%=r}}(t,a,o,n);if(!0===n)return splitByStyles(e,[{start:s,end:u,loop:o}],t,r);let c=u<s?u+a:u,l=!!e._fullLoop&&0===s&&u===a-1;return splitByStyles(e,function(e,r,t,n){let a;let o=e.length,s=[],u=r,c=e[r];for(a=r+1;a<=t;++a){let t=e[a%o];t.skip||t.stop?c.skip||(n=!1,s.push({start:r%o,end:(a-1)%o,loop:n}),r=u=t.stop?a:null):(u=a,c.skip&&(r=a)),c=t}return null!==u&&s.push({start:r%o,end:u%o,loop:n}),s}(t,s,c,l),t,r)}function splitByStyles(e,r,t,n){return n&&n.setContext&&t?function(e,r,t,n){let a=e._chart.getContext(),o=readStyle(e.options),{_datasetIndex:s,options:{spanGaps:u}}=e,c=t.length,l=[],p=o,m=r[0].start,h=m;function addStyle(e,r,n,a){let o=u?-1:1;if(e!==r){for(e+=c;t[e%c].skip;)e-=o;for(;t[r%c].skip;)r+=o;e%c!=r%c&&(l.push({start:e%c,end:r%c,loop:n,style:a}),p=a,m=r%c)}}for(let e of r){let r;let o=t[(m=u?m:e.start)%c];for(h=m+1;h<=e.end;h++){let u=t[h%c];(function(e,r){if(!r)return!1;let t=[],replacer=function(e,r){return isPatternOrGradient(r)?(t.includes(r)||t.push(r),t.indexOf(r)):r};return JSON.stringify(e,replacer)!==JSON.stringify(r,replacer)})(r=readStyle(n.setContext(createContext(a,{type:"segment",p0:o,p1:u,p0DataIndex:(h-1)%c,p1DataIndex:h%c,datasetIndex:s}))),p)&&addStyle(m,h-1,e.loop,p),o=u,p=r}m<h-1&&addStyle(m,h-1,e.loop,p)}return l}(e,r,t,n):r}function readStyle(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}},9752:function(e,r,t){"use strict";t.d(r,{Z:function(){return Fraction}});var n={s:1,n:0,d:1};function assign(e,r){if(isNaN(e=parseInt(e,10)))throw InvalidParameter();return e*r}function newFraction(e,r){if(0===r)throw DivisionByZero();var t=Object.create(Fraction.prototype);t.s=e<0?-1:1;var n=gcd(e=e<0?-e:e,r);return t.n=e/n,t.d=r/n,t}function factorize(e){for(var r={},t=e,n=2,a=4;a<=t;){for(;t%n==0;)t/=n,r[n]=(r[n]||0)+1;a+=1+2*n++}return t!==e?t>1&&(r[t]=(r[t]||0)+1):r[e]=(r[e]||0)+1,r}var parse=function(e,r){var t,a=0,o=1,s=1,u=0,c=0,l=0,p=1,m=1,h=0,g=1,y=1,v=1;if(null==e);else if(void 0!==r){if(s=(a=e)*(o=r),a%1!=0||o%1!=0)throw NonIntegerParameter()}else switch(typeof e){case"object":if("d"in e&&"n"in e)a=e.n,o=e.d,"s"in e&&(a*=e.s);else if(0 in e)a=e[0],1 in e&&(o=e[1]);else throw InvalidParameter();s=a*o;break;case"number":if(e<0&&(s=e,e=-e),e%1==0)a=e;else if(e>0){for(e>=1&&(m=Math.pow(10,Math.floor(1+Math.log(e)/Math.LN10)),e/=m);g<=1e7&&v<=1e7;){if(e===(t=(h+y)/(g+v))){g+v<=1e7?(a=h+y,o=g+v):v>g?(a=y,o=v):(a=h,o=g);break}e>t?(h+=y,g+=v):(y+=h,v+=g),g>1e7?(a=y,o=v):(a=h,o=g)}a*=m}else(isNaN(e)||isNaN(r))&&(o=a=NaN);break;case"string":if(null===(g=e.match(/\d+|./g)))throw InvalidParameter();if("-"===g[h]?(s=-1,h++):"+"===g[h]&&h++,g.length===h+1?c=assign(g[h++],s):"."===g[h+1]||"."===g[h]?("."!==g[h]&&(u=assign(g[h++],s)),(++h+1===g.length||"("===g[h+1]&&")"===g[h+3]||"'"===g[h+1]&&"'"===g[h+3])&&(c=assign(g[h],s),p=Math.pow(10,g[h].length),h++),("("===g[h]&&")"===g[h+2]||"'"===g[h]&&"'"===g[h+2])&&(l=assign(g[h+1],s),m=Math.pow(10,g[h+1].length)-1,h+=3)):"/"===g[h+1]||":"===g[h+1]?(c=assign(g[h],s),p=assign(g[h+2],1),h+=3):"/"===g[h+3]&&" "===g[h+1]&&(u=assign(g[h],s),c=assign(g[h+2],s),p=assign(g[h+4],1),h+=5),g.length<=h){s=a=l+(o=p*m)*u+m*c;break}default:throw InvalidParameter()}if(0===o)throw DivisionByZero();n.s=s<0?-1:1,n.n=Math.abs(a),n.d=Math.abs(o)};function gcd(e,r){if(!e)return r;if(!r)return e;for(;;){if(!(e%=r))return r;if(!(r%=e))return e}}function Fraction(e,r){if(parse(e,r),!(this instanceof Fraction))return newFraction(n.s*n.n,n.d);e=gcd(n.d,n.n),this.s=n.s,this.n=n.n/e,this.d=n.d/e}var DivisionByZero=function(){return Error("Division by Zero")},InvalidParameter=function(){return Error("Invalid argument")},NonIntegerParameter=function(){return Error("Parameters must be integer")};Fraction.prototype={s:1,n:0,d:1,abs:function(){return newFraction(this.n,this.d)},neg:function(){return newFraction(-this.s*this.n,this.d)},add:function(e,r){return parse(e,r),newFraction(this.s*this.n*n.d+n.s*this.d*n.n,this.d*n.d)},sub:function(e,r){return parse(e,r),newFraction(this.s*this.n*n.d-n.s*this.d*n.n,this.d*n.d)},mul:function(e,r){return parse(e,r),newFraction(this.s*n.s*this.n*n.n,this.d*n.d)},div:function(e,r){return parse(e,r),newFraction(this.s*n.s*this.n*n.d,this.d*n.n)},clone:function(){return newFraction(this.s*this.n,this.d)},mod:function(e,r){if(isNaN(this.n)||isNaN(this.d))return new Fraction(NaN);if(void 0===e)return newFraction(this.s*this.n%this.d,1);if(parse(e,r),0===n.n&&0===this.d)throw DivisionByZero();return newFraction(this.s*(n.d*this.n)%(n.n*this.d),n.d*this.d)},gcd:function(e,r){return parse(e,r),newFraction(gcd(n.n,this.n)*gcd(n.d,this.d),n.d*this.d)},lcm:function(e,r){return(parse(e,r),0===n.n&&0===this.n)?newFraction(0,1):newFraction(n.n*this.n,gcd(n.n,this.n)*gcd(n.d,this.d))},ceil:function(e){return(e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d))?new Fraction(NaN):newFraction(Math.ceil(e*this.s*this.n/this.d),e)},floor:function(e){return(e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d))?new Fraction(NaN):newFraction(Math.floor(e*this.s*this.n/this.d),e)},round:function(e){return(e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d))?new Fraction(NaN):newFraction(Math.round(e*this.s*this.n/this.d),e)},roundTo:function(e,r){return parse(e,r),newFraction(this.s*Math.round(this.n*n.d/(this.d*n.n))*n.n,n.d)},inverse:function(){return newFraction(this.s*this.d,this.n)},pow:function(e,r){if(parse(e,r),1===n.d)return n.s<0?newFraction(Math.pow(this.s*this.d,n.n),Math.pow(this.n,n.n)):newFraction(Math.pow(this.s*this.n,n.n),Math.pow(this.d,n.n));if(this.s<0)return null;var t=factorize(this.n),a=factorize(this.d),o=1,s=1;for(var u in t)if("1"!==u){if("0"===u){o=0;break}if(t[u]*=n.n,t[u]%n.d!=0)return null;t[u]/=n.d,o*=Math.pow(u,t[u])}for(var u in a)if("1"!==u){if(a[u]*=n.n,a[u]%n.d!=0)return null;a[u]/=n.d,s*=Math.pow(u,a[u])}return n.s<0?newFraction(s,o):newFraction(o,s)},equals:function(e,r){return parse(e,r),this.s*this.n*n.d==n.s*n.n*this.d},compare:function(e,r){parse(e,r);var t=this.s*this.n*n.d-n.s*n.n*this.d;return(0<t)-(t<0)},simplify:function(e){if(isNaN(this.n)||isNaN(this.d))return this;e=e||.001;for(var r=this.abs(),t=r.toContinued(),n=1;n<t.length;n++){for(var a=newFraction(t[n-1],1),o=n-2;o>=0;o--)a=a.inverse().add(t[o]);if(Math.abs(a.sub(r).valueOf())<e)return a.mul(this.s)}return this},divisible:function(e,r){return parse(e,r),!(!(n.n*this.d)||this.n*n.d%(n.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(e){var r,t="",n=this.n,a=this.d;return this.s<0&&(t+="-"),1===a?t+=n:(e&&(r=Math.floor(n/a))>0&&(t+=r+" ",n%=a),t+=n+"/"+a),t},toLatex:function(e){var r,t="",n=this.n,a=this.d;return this.s<0&&(t+="-"),1===a?t+=n:(e&&(r=Math.floor(n/a))>0&&(t+=r,n%=a),t+="\\frac{"+n+"}{"+a+"}"),t},toContinued:function(){var e,r=this.n,t=this.d,n=[];if(isNaN(r)||isNaN(t))return n;do n.push(Math.floor(r/t)),e=r%t,r=t,t=e;while(1!==r);return n},toString:function(e){var r=this.n,t=this.d;if(isNaN(r)||isNaN(t))return"NaN";e=e||15;var n=function(e,r){for(;r%2==0;r/=2);for(;r%5==0;r/=5);if(1===r)return 0;for(var t=10%r,n=1;1!==t;n++)if(t=10*t%r,n>2e3)return 0;return n}(0,t),a=function(e,r,t){for(var n=1,a=function(e,r,t){for(var n=1;r>0;e=e*e%t,r>>=1)1&r&&(n=n*e%t);return n}(10,t,r),o=0;o<300;o++){if(n===a)return o;n=10*n%r,a=10*a%r}return 0}(0,t,n),o=this.s<0?"-":"";if(o+=r/t|0,r%=t,(r*=10)&&(o+="."),n){for(var s=a;s--;)o+=r/t|0,r%=t,r*=10;o+="(";for(var s=n;s--;)o+=r/t|0,r%=t,r*=10;o+=")"}else for(var s=e;r&&s--;)o+=r/t|0,r%=t,r*=10;return o}}},3604:function(e,r,t){"use strict";function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}t.d(r,{ku:function(){return h3}});var n={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null},config=function(e){if(e)throw Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(n)};function isNumber(e){return"number"==typeof e}function isBigNumber(e){return!!e&&"object"==typeof e&&"function"==typeof e.constructor&&(!0===e.isBigNumber&&"object"==typeof e.constructor.prototype&&!0===e.constructor.prototype.isBigNumber||"function"==typeof e.constructor.isDecimal&&!0===e.constructor.isDecimal(e))}function isComplex(e){return e&&"object"==typeof e&&!0===Object.getPrototypeOf(e).isComplex||!1}function isFraction(e){return e&&"object"==typeof e&&!0===Object.getPrototypeOf(e).isFraction||!1}function isUnit(e){return e&&!0===e.constructor.prototype.isUnit||!1}function isString(e){return"string"==typeof e}_extends(config,n,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","Fraction"]});var a=Array.isArray;function isMatrix(e){return e&&!0===e.constructor.prototype.isMatrix||!1}function isCollection(e){return Array.isArray(e)||isMatrix(e)}function isDenseMatrix(e){return e&&e.isDenseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function isSparseMatrix(e){return e&&e.isSparseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function isRange(e){return e&&!0===e.constructor.prototype.isRange||!1}function isIndex(e){return e&&!0===e.constructor.prototype.isIndex||!1}function isBoolean(e){return"boolean"==typeof e}function isResultSet(e){return e&&!0===e.constructor.prototype.isResultSet||!1}function isHelp(e){return e&&!0===e.constructor.prototype.isHelp||!1}function isFunction(e){return"function"==typeof e}function isDate(e){return e instanceof Date}function isRegExp(e){return e instanceof RegExp}function isObject(e){return!!(e&&"object"==typeof e&&e.constructor===Object&&!isComplex(e)&&!isFraction(e))}function isNull(e){return null===e}function isUndefined(e){return void 0===e}function isAccessorNode(e){return e&&!0===e.isAccessorNode&&!0===e.constructor.prototype.isNode||!1}function isArrayNode(e){return e&&!0===e.isArrayNode&&!0===e.constructor.prototype.isNode||!1}function isAssignmentNode(e){return e&&!0===e.isAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function isBlockNode(e){return e&&!0===e.isBlockNode&&!0===e.constructor.prototype.isNode||!1}function isConditionalNode(e){return e&&!0===e.isConditionalNode&&!0===e.constructor.prototype.isNode||!1}function isConstantNode(e){return e&&!0===e.isConstantNode&&!0===e.constructor.prototype.isNode||!1}function rule2Node(e){return isConstantNode(e)||isOperatorNode(e)&&1===e.args.length&&isConstantNode(e.args[0])&&"-+~".includes(e.op)}function isFunctionAssignmentNode(e){return e&&!0===e.isFunctionAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function isFunctionNode(e){return e&&!0===e.isFunctionNode&&!0===e.constructor.prototype.isNode||!1}function isIndexNode(e){return e&&!0===e.isIndexNode&&!0===e.constructor.prototype.isNode||!1}function isNode(e){return e&&!0===e.isNode&&!0===e.constructor.prototype.isNode||!1}function isObjectNode(e){return e&&!0===e.isObjectNode&&!0===e.constructor.prototype.isNode||!1}function isOperatorNode(e){return e&&!0===e.isOperatorNode&&!0===e.constructor.prototype.isNode||!1}function isParenthesisNode(e){return e&&!0===e.isParenthesisNode&&!0===e.constructor.prototype.isNode||!1}function isRangeNode(e){return e&&!0===e.isRangeNode&&!0===e.constructor.prototype.isNode||!1}function isRelationalNode(e){return e&&!0===e.isRelationalNode&&!0===e.constructor.prototype.isNode||!1}function isSymbolNode(e){return e&&!0===e.isSymbolNode&&!0===e.constructor.prototype.isNode||!1}function isChain(e){return e&&!0===e.constructor.prototype.isChain||!1}function typeOf(e){var r=typeof e;return"object"===r?null===e?"null":isBigNumber(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":r}var o=new Set(["end"]);function object_clone(e){var r=typeof e;if("number"===r||"string"===r||"boolean"===r||null==e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map(function(e){return object_clone(e)});if(e instanceof Date)return new Date(e.valueOf());if(isBigNumber(e))return e;if(isObject(e))return function(e,r){var t={};for(var n in e)object_hasOwnProperty(e,n)&&(t[n]=r(e[n]));return t}(e,object_clone);throw TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function extend(e,r){for(var t in r)object_hasOwnProperty(r,t)&&(e[t]=r[t]);return e}function deepStrictEqual(e,r){var t,n,a;if(Array.isArray(e)){if(!Array.isArray(r)||e.length!==r.length)return!1;for(n=0,a=e.length;n<a;n++)if(!deepStrictEqual(e[n],r[n]))return!1;return!0}if("function"==typeof e||!(e instanceof Object))return e===r;if(Array.isArray(r)||!(r instanceof Object))return!1;for(t in e)if(!(t in r)||!deepStrictEqual(e[t],r[t]))return!1;for(t in r)if(!(t in e))return!1;return!0}function object_hasOwnProperty(e,r){return e&&Object.hasOwnProperty.call(e,r)}function factory_factory(e,r,t,n){function assertAndCreate(n){var a=function(e,r){for(var t={},n=0;n<r.length;n++){var a=r[n],o=e[a];void 0!==o&&(t[a]=o)}return t}(n,r.map(stripOptionalNotation));return function(e,r,t){if(!r.filter(e=>!(e&&"?"===e[0])).every(e=>void 0!==t[e])){var n=r.filter(e=>void 0===t[e]);throw Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(n.map(e=>'"'.concat(e,'"')).join(", "),"."))}}(e,r,n),t(a)}return assertAndCreate.isFactory=!0,assertAndCreate.fn=e,assertAndCreate.dependencies=r.slice().sort(),n&&(assertAndCreate.meta=n),assertAndCreate}function stripOptionalNotation(e){return e&&"?"===e[0]?e.slice(1):e}function getSafeProperty(e,r){if(isPlainObject(e)&&isSafeProperty(e,r))return e[r];if("function"==typeof e[r]&&isSafeMethod(e,r))throw Error('Cannot access method "'+r+'" as a property');throw Error('No access to property "'+r+'"')}function setSafeProperty(e,r,t){if(isPlainObject(e)&&isSafeProperty(e,r))return e[r]=t,t;throw Error('No access to property "'+r+'"')}function isSafeProperty(e,r){return!!e&&"object"==typeof e&&(!!object_hasOwnProperty(s,r)||!(r in Object.prototype)&&!(r in Function.prototype))}function isSafeMethod(e,r){return!(null==e||"function"!=typeof e[r]||object_hasOwnProperty(e,r)&&Object.getPrototypeOf&&r in Object.getPrototypeOf(e))&&(!!object_hasOwnProperty(u,r)||!(r in Object.prototype)&&!(r in Function.prototype))}function isPlainObject(e){return"object"==typeof e&&e&&e.constructor===Object}var s={length:!0,name:!0},u={toString:!0,valueOf:!0,toLocaleString:!0};let ObjectWrappingMap=class ObjectWrappingMap{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return getSafeProperty(this.wrappedObject,e)}set(e,r){return setSafeProperty(this.wrappedObject,e,r),this}has(e){return e in this.wrappedObject}};function createEmptyMap(){return new Map}function createMap(e){if(!e)return createEmptyMap();if(isMap(e))return e;if(isObject(e))return new ObjectWrappingMap(e);throw Error("createMap can create maps from objects or Maps")}function isMap(e){return!!e&&(e instanceof Map||e instanceof ObjectWrappingMap||"function"==typeof e.set&&"function"==typeof e.get&&"function"==typeof e.keys&&"function"==typeof e.has)}function map_assign(e){for(var r=arguments.length,t=Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];for(var a of t)if(a){if(isMap(a))for(var o of a.keys())e.set(o,a.get(o));else if(isObject(a))for(var s of Object.keys(a))e.set(s,a[s])}return e}var c=factory_factory("Node",["mathWithTransform"],e=>{var{mathWithTransform:r}=e;return class{get type(){return"Node"}get isNode(){return!0}evaluate(e){return this.compile().evaluate(e)}compile(){var e=this._compile(r,{}),t={};return{evaluate:function(r){var n=createMap(r);return!function(e){for(var r of[...o])if(e.has(r))throw Error('Scope contains an illegal symbol, "'+r+'" is a reserved keyword')}(n),e(n,t,null)}}}_compile(e,r){throw Error("Method _compile must be implemented by type "+this.type)}forEach(e){throw Error("Cannot run forEach on a Node interface")}map(e){throw Error("Cannot run map on a Node interface")}_ifNode(e){if(!isNode(e))throw TypeError("Callback function must return a Node");return e}traverse(e){e(this,null,null),function _traverse(e,r){e.forEach(function(e,t,n){r(e,t,n),_traverse(e,r)})}(this,e)}transform(e){return function _transform(r,t,n){var a=e(r,t,n);return a!==r?a:r.map(_transform)}(this,null,null)}filter(e){var r=[];return this.traverse(function(t,n,a){e(t,n,a)&&r.push(t)}),r}clone(){throw Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(e){return e.cloneDeep()})}equals(e){return!!e&&this.type===e.type&&deepStrictEqual(this,e)}toString(e){var r=this._getCustomString(e);return void 0!==r?r:this._toString(e)}toJSON(){throw Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(e){var r=this._getCustomString(e);return void 0!==r?r:this.toHTML(e)}_toString(){throw Error("_toString not implemented for "+this.type)}toTex(e){var r=this._getCustomString(e);return void 0!==r?r:this._toTex(e)}_toTex(e){throw Error("_toTex not implemented for "+this.type)}_getCustomString(e){if(e&&"object"==typeof e)switch(typeof e.handler){case"object":case"undefined":return;case"function":return e.handler(this,e);default:throw TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}},{isClass:!0,isNode:!0});function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,r,t){var n;return n=function(e,r){if("object"!==_typeof(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!==_typeof(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(r,"string"),(r="symbol"===_typeof(n)?n:String(n))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function isInteger(e){return"boolean"==typeof e||!!isFinite(e)&&e===Math.round(e)}var l=Math.sign||function(e){return e>0?1:e<0?-1:0},p=Math.log2||function(e){return Math.log(e)/Math.LN2},m=Math.log10||function(e){return Math.log(e)/Math.LN10},h=Math.log1p||function(e){return Math.log(e+1)},g=Math.cbrt||function(e){if(0===e)return e;var r,t=e<0;return t&&(e=-e),isFinite(e)?(r=Math.exp(Math.log(e)/3),r=(e/(r*r)+2*r)/3):r=e,t?-r:r},y=Math.expm1||function(e){return e>=2e-4||e<=-.0002?Math.exp(e)-1:e+e*e/2+e*e*e/6};function formatNumberToBase(e,r,t){var n={2:"0b",8:"0o",16:"0x"}[r],a="";if(t){if(t<1)throw Error("size must be in greater than 0");if(!isInteger(t))throw Error("size must be an integer");if(e>2**(t-1)-1||e<-(2**(t-1)))throw Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!isInteger(e))throw Error("Value must be an integer");e<0&&(e+=2**t),a="i".concat(t)}var o="";return e<0&&(e=-e,o="-"),"".concat(o).concat(n).concat(e.toString(r)).concat(a)}function format(e,r){if("function"==typeof r)return r(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var t,n,a="auto";if(r&&(r.notation&&(a=r.notation),isNumber(r)?t=r:isNumber(r.precision)&&(t=r.precision),r.wordSize&&"number"!=typeof(n=r.wordSize)))throw Error('Option "wordSize" must be a number');switch(a){case"fixed":return toFixed(e,t);case"exponential":return toExponential(e,t);case"engineering":return function(e,r){if(isNaN(e)||!isFinite(e))return String(e);var t=roundDigits(splitNumber(e),r),n=t.exponent,a=t.coefficients,o=n%3==0?n:n<0?n-3-n%3:n-n%3;if(isNumber(r))for(;r>a.length||n-o+1>a.length;)a.push(0);else for(var s=Math.abs(n-o)-(a.length-1),u=0;u<s;u++)a.push(0);for(var c=Math.abs(n-o),l=1;c>0;)l++,c--;var p=a.slice(l).join(""),m=isNumber(r)&&p.length||p.match(/[1-9]/)?"."+p:"",h=a.slice(0,l).join("")+m+"e"+(n>=0?"+":"")+o.toString();return t.sign+h}(e,t);case"bin":return formatNumberToBase(e,2,n);case"oct":return formatNumberToBase(e,8,n);case"hex":return formatNumberToBase(e,16,n);case"auto":return(function(e,r,t){if(isNaN(e)||!isFinite(e))return String(e);var n=t&&void 0!==t.lowerExp?t.lowerExp:-3,a=t&&void 0!==t.upperExp?t.upperExp:5,o=splitNumber(e),s=r?roundDigits(o,r):o;if(s.exponent<n||s.exponent>=a)return toExponential(e,r);var u=s.coefficients,c=s.exponent;u.length<r&&(u=u.concat(zeros(r-u.length))),u=u.concat(zeros(c-u.length+1+(u.length<r?r-u.length:0))),u=zeros(-c).concat(u);var l=c>0?c:0;return l<u.length-1&&u.splice(l+1,0,"."),s.sign+u.join("")})(e,t,r&&r).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],r=arguments[4];return"."!==e?e+r:r});default:throw Error('Unknown notation "'+a+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function splitNumber(e){var r=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!r)throw SyntaxError("Invalid number "+e);var t=r[1],n=r[2],a=parseFloat(r[4]||"0"),o=n.indexOf(".");a+=-1!==o?o-1:n.length-1;var s=n.replace(".","").replace(/^0*/,function(e){return a-=e.length,""}).replace(/0*$/,"").split("").map(function(e){return parseInt(e)});return 0===s.length&&(s.push(0),a++),{sign:t,coefficients:s,exponent:a}}function toFixed(e,r){if(isNaN(e)||!isFinite(e))return String(e);var t=splitNumber(e),n="number"==typeof r?roundDigits(t,t.exponent+1+r):t,a=n.coefficients,o=n.exponent+1,s=o+(r||0);return a.length<s&&(a=a.concat(zeros(s-a.length))),o<0&&(a=zeros(-o+1).concat(a),o=1),o<a.length&&a.splice(o,0,0===o?"0.":"."),n.sign+a.join("")}function toExponential(e,r){if(isNaN(e)||!isFinite(e))return String(e);var t=splitNumber(e),n=r?roundDigits(t,r):t,a=n.coefficients,o=n.exponent;a.length<r&&(a=a.concat(zeros(r-a.length)));var s=a.shift();return n.sign+s+(a.length>0?"."+a.join(""):"")+"e"+(o>=0?"+":"")+o}function roundDigits(e,r){for(var t={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=t.coefficients;r<=0;)n.unshift(0),t.exponent++,r++;if(n.length>r&&n.splice(r,n.length-r)[0]>=5){var a=r-1;for(n[a]++;10===n[a];)n.pop(),0===a&&(n.unshift(0),t.exponent++,a++),a--,n[a]++}return t}function zeros(e){for(var r=[],t=0;t<e;t++)r.push(0);return r}var v=Number.EPSILON||2220446049250313e-31;function nearlyEqual(e,r,t){if(null==t)return e===r;if(e===r)return!0;if(isNaN(e)||isNaN(r))return!1;if(isFinite(e)&&isFinite(r)){var n=Math.abs(e-r);return n<=v||n<=Math.max(Math.abs(e),Math.abs(r))*t}return!1}var x=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e)},b=Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e)},N=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2},w=Math.cosh||function(e){return(Math.exp(e)+Math.exp(-e))/2},_=Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2},D=Math.tanh||function(e){var r=Math.exp(2*e);return(r-1)/(r+1)};function formatBigNumberToBase(e,r,t){var n=new e.constructor(2),a="";if(t){if(t<1)throw Error("size must be in greater than 0");if(!isInteger(t))throw Error("size must be an integer");if(e.greaterThan(n.pow(t-1).sub(1))||e.lessThan(n.pow(t-1).mul(-1)))throw Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!e.isInteger())throw Error("Value must be an integer");e.lessThan(0)&&(e=e.add(n.pow(t))),a="i".concat(t)}switch(r){case 2:return"".concat(e.toBinary()).concat(a);case 8:return"".concat(e.toOctal()).concat(a);case 16:return"".concat(e.toHexadecimal()).concat(a);default:throw Error("Base ".concat(r," not supported "))}}function formatter_toExponential(e,r){return void 0!==r?e.toExponential(r-1):e.toExponential()}function string_format(e,r){var t=function(e,r){return"number"==typeof e?format(e,r):isBigNumber(e)?function(e,r){if("function"==typeof r)return r(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var t="auto";if(void 0!==r&&(r.notation&&(t=r.notation),"number"==typeof r?c=r:void 0!==r.precision&&(c=r.precision),r.wordSize&&"number"!=typeof(l=r.wordSize)))throw Error('Option "wordSize" must be a number');switch(t){case"fixed":return n=c,e.toFixed(n);case"exponential":return formatter_toExponential(e,c);case"engineering":return a=c,s=(o=e.e)%3==0?o:o<0?o-3-o%3:o-o%3,-1!==(u=e.mul(Math.pow(10,-s)).toPrecision(a)).indexOf("e")&&(u=new e.constructor(u).toFixed()),u+"e"+(o>=0?"+":"")+s.toString();case"bin":return formatBigNumberToBase(e,2,l);case"oct":return formatBigNumberToBase(e,8,l);case"hex":return formatBigNumberToBase(e,16,l);case"auto":var n,a,o,s,u,c,l,p=r&&void 0!==r.lowerExp?r.lowerExp:-3,m=r&&void 0!==r.upperExp?r.upperExp:5;if(e.isZero())return"0";var h=e.toSignificantDigits(c),g=h.e;return(g>=p&&g<m?h.toFixed():formatter_toExponential(e,c)).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],r=arguments[4];return"."!==e?e+r:r});default:throw Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}(e,r):e&&"object"==typeof e&&"number"==typeof e.s&&"number"==typeof e.n&&"number"==typeof e.d?r&&"decimal"===r.fraction?e.toString():e.s*e.n+"/"+e.d:Array.isArray(e)?function formatArray(e,r){if(!Array.isArray(e))return string_format(e,r);for(var t="[",n=e.length,a=0;a<n;a++)0!==a&&(t+=", "),t+=formatArray(e[a],r);return t+"]"}(e,r):isString(e)?stringify(e):"function"==typeof e?e.syntax?String(e.syntax):"function":e&&"object"==typeof e?"function"==typeof e.format?e.format(r):e&&e.toString(r)!==({}).toString()?e.toString(r):"{"+Object.keys(e).map(t=>stringify(t)+": "+string_format(e[t],r)).join(", ")+"}":String(e)}(e,r);return r&&"object"==typeof r&&"truncate"in r&&t.length>r.truncate?t.substring(0,r.truncate-3)+"...":t}function stringify(e){for(var r=String(e),t="",n=0;n<r.length;){var a=r.charAt(n);t+=a in E?E[a]:a,n++}return'"'+t+'"'}var E={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function string_escape(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function compareText(e,r){if(!isString(e))throw TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+typeOf(e)+", index: 0)");if(!isString(r))throw TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+typeOf(r)+", index: 1)");return e===r?0:e>r?1:-1}var A="ObjectNode",C=factory_factory(A,["Node"],e=>{var{Node:r}=e;let ObjectNode=class ObjectNode extends r{constructor(e){if(super(),this.properties=e||{},e&&("object"!=typeof e||!Object.keys(e).every(function(r){return isNode(e[r])})))throw TypeError("Object containing Nodes expected")}get type(){return A}get isObjectNode(){return!0}_compile(e,r){var t={};for(var n in this.properties)if(object_hasOwnProperty(this.properties,n)){var a=JSON.parse(stringify(n)),o=getSafeProperty(this.properties,n);t[a]=o._compile(e,r)}return function(e,r,n){var a={};for(var o in t)object_hasOwnProperty(t,o)&&(a[o]=t[o](e,r,n));return a}}forEach(e){for(var r in this.properties)object_hasOwnProperty(this.properties,r)&&e(this.properties[r],"properties["+stringify(r)+"]",this)}map(e){var r={};for(var t in this.properties)object_hasOwnProperty(this.properties,t)&&(r[t]=this._ifNode(e(this.properties[t],"properties["+stringify(t)+"]",this)));return new ObjectNode(r)}clone(){var e={};for(var r in this.properties)object_hasOwnProperty(this.properties,r)&&(e[r]=this.properties[r]);return new ObjectNode(e)}_toString(e){var r=[];for(var t in this.properties)object_hasOwnProperty(this.properties,t)&&r.push(stringify(t)+": "+this.properties[t].toString(e));return"{"+r.join(", ")+"}"}toJSON(){return{mathjs:A,properties:this.properties}}static fromJSON(e){return new ObjectNode(e.properties)}toHTML(e){var r=[];for(var t in this.properties)object_hasOwnProperty(this.properties,t)&&r.push('<span class="math-symbol math-property">'+string_escape(t)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[t].toHTML(e));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+r.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(e){var r=[];for(var t in this.properties)object_hasOwnProperty(this.properties,t)&&r.push("\\mathbf{"+t+":} & "+this.properties[t].toTex(e)+"\\\\");return"\\left\\{\\begin{array}{ll}"+r.join("\n")+"\\end{array}\\right\\}"}};return _defineProperty(ObjectNode,"name",A),ObjectNode},{isClass:!0,isNode:!0});function DimensionError(e,r,t){if(!(this instanceof DimensionError))throw SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=r,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(r)?"["+r.join(", ")+"]":r)+")",this.stack=Error().stack}function IndexError(e,r,t){if(!(this instanceof IndexError))throw SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=r):(this.min=r,this.max=t),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=Error().stack}function arraySize(e){for(var r=[];Array.isArray(e);)r.push(e.length),e=e[0];return r}function validate(e,r){if(0===r.length){if(Array.isArray(e))throw new DimensionError(e.length,0)}else!function _validate(e,r,t){var n,a=e.length;if(a!==r[t])throw new DimensionError(a,r[t]);if(t<r.length-1){var o=t+1;for(n=0;n<a;n++){if(!Array.isArray(e[n]))throw new DimensionError(r.length-1,r.length,"<");_validate(e[n],r,o)}}else for(n=0;n<a;n++)if(Array.isArray(e[n]))throw new DimensionError(r.length+1,r.length,">")}(e,r,0)}function validateIndexSourceSize(e,r){var t=e.isMatrix?e._size:arraySize(e);r._sourceSize.forEach((e,r)=>{if(null!==e&&e!==t[r])throw new DimensionError(e,t[r])})}function validateIndex(e,r){if(void 0!==e){if(!isNumber(e)||!isInteger(e))throw TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"==typeof r&&e>=r)throw new IndexError(e,r)}}function isEmptyIndex(e){for(var r=0;r<e._dimensions.length;++r){var t=e._dimensions[r];if(t._data&&a(t._data)){if(0===t._size[0])return!0}else if(t.isRange){if(t.start===t.end)return!0}else if(isString(t)&&0===t.length)return!0}return!1}function array_resize(e,r,t){if(!Array.isArray(r))throw TypeError("Array expected");if(0===r.length)throw Error("Resizing to scalar is not supported");return r.forEach(function(e){if(!isNumber(e)||!isInteger(e)||e<0)throw TypeError("Invalid size, must contain positive integers (size: "+string_format(r)+")")}),(isNumber(e)||isBigNumber(e))&&(e=[e]),function _resize(e,r,t,n){var a,o,s=e.length,u=r[t],c=Math.min(s,u);if(e.length=u,t<r.length-1){var l=t+1;for(a=0;a<c;a++)Array.isArray(o=e[a])||(o=[o],e[a]=o),_resize(o,r,l,n);for(a=c;a<u;a++)o=[],e[a]=o,_resize(o,r,l,n)}else{for(a=0;a<c;a++)for(;Array.isArray(e[a]);)e[a]=e[a][0];for(a=c;a<u;a++)e[a]=n}}(e,r,0,void 0!==t?t:0),e}function reshape(e,r){var t=flatten(e),n=t.length;if(!Array.isArray(e)||!Array.isArray(r))throw TypeError("Array expected");if(0===r.length)throw new DimensionError(0,n,"!=");var a=product(r=processSizesWildcard(r,n));if(n!==a)throw new DimensionError(a,n,"!=");try{return function(e,r){for(var t,n=e,a=r.length-1;a>0;a--){var o=r[a];t=[];for(var s=n.length/o,u=0;u<s;u++)t.push(n.slice(u*o,(u+1)*o));n=t}return n}(t,r)}catch(e){if(e instanceof DimensionError)throw new DimensionError(a,n,"!=");throw e}}function processSizesWildcard(e,r){var t=product(e),n=e.slice(),a=e.indexOf(-1);if(e.indexOf(-1,a+1)>=0)throw Error("More than one wildcard in sizes");if(a>=0){if(r%t==0)n[a]=-r/t;else throw Error("Could not replace wildcard, since "+r+" is no multiple of "+-t)}return n}function product(e){return e.reduce((e,r)=>e*r,1)}function squeeze(e,r){for(var t=r||arraySize(e);Array.isArray(e)&&1===e.length;)e=e[0],t.shift();for(var n=t.length;1===t[n-1];)n--;return n<t.length&&(e=function _squeeze(e,r,t){var n,a;if(t<r){var o=t+1;for(n=0,a=e.length;n<a;n++)e[n]=_squeeze(e[n],r,o)}else for(;Array.isArray(e);)e=e[0];return e}(e,n,0),t.length=n),e}function unsqueeze(e,r,t,n){var a=n||arraySize(e);if(t)for(var o=0;o<t;o++)e=[e],a.unshift(1);for(e=function _unsqueeze(e,r,t){var n,a;if(Array.isArray(e)){var o=t+1;for(n=0,a=e.length;n<a;n++)e[n]=_unsqueeze(e[n],r,o)}else for(var s=t;s<r;s++)e=[e];return e}(e,r,0);a.length<r;)a.push(1);return e}function flatten(e){if(!Array.isArray(e))return e;var r=[];return e.forEach(function callback(e){Array.isArray(e)?e.forEach(callback):r.push(e)}),r}function map(e,r){return Array.prototype.map.call(e,r)}function forEach(e,r){Array.prototype.forEach.call(e,r)}function filter(e,r){if(1!==arraySize(e).length)throw Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,r)}function filterRegExp(e,r){if(1!==arraySize(e).length)throw Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,e=>r.test(e))}function join(e,r){return Array.prototype.join.call(e,r)}function identify(e){if(!Array.isArray(e))throw TypeError("Array input expected");if(0===e.length)return e;var r=[],t=0;r[0]={value:e[0],identifier:0};for(var n=1;n<e.length;n++)e[n]===e[n-1]?t++:t=0,r.push({value:e[n],identifier:t});return r}function generalize(e){if(!Array.isArray(e))throw TypeError("Array input expected");if(0===e.length)return e;for(var r=[],t=0;t<e.length;t++)r.push(e[t].value);return r}function getArrayDataType(e,r){for(var t,n=0,a=0;a<e.length;a++){var o=e[a],s=Array.isArray(o);if(0===a&&s&&(n=o.length),s&&o.length!==n)return;var u=s?getArrayDataType(o,r):r(o);if(void 0===t)t=u;else if(t!==u)return"mixed"}return t}function concat(){var e=Array.prototype.slice.call(arguments,0,-1),r=Array.prototype.slice.call(arguments,-1);if(1===e.length)return e[0];if(e.length>1)return e.slice(1).reduce(function(e,t){return function concatRecursive(e,r,t,n){if(!(n<t))return e.concat(r);if(e.length!==r.length)throw new DimensionError(e.length,r.length);for(var a=[],o=0;o<e.length;o++)a[o]=concatRecursive(e[o],r[o],t,n+1);return a}(e,t,r,0)},e[0]);throw Error("Wrong number of arguments in function concat")}function checkBroadcastingRules(e,r){for(var t=r.length,n=e.length,a=0;a<n;a++){var o=t-n+a;if(e[a]<r[o]&&e[a]>1||e[a]>r[o])throw Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(n," with size ").concat(e[a]," to size ").concat(r[o]))}}function broadcastTo(e,r){var t,n,a,o=arraySize(e);if(deepStrictEqual(o,r))return e;checkBroadcastingRules(o,r);var s=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];for(var n=r.map(e=>e.length),a=Math.max(...n),o=Array(a).fill(null),s=0;s<r.length;s++)for(var u=r[s],c=n[s],l=0;l<c;l++){var p=a-c+l;u[l]>o[p]&&(o[p]=u[l])}for(var m=0;m<r.length;m++)checkBroadcastingRules(r[m],o);return o}(o,r),u=s.length,c=[...Array(u-o.length).fill(1),...o],l=_extends([],e);o.length<u&&(o=arraySize(l=reshape(l,c)));for(var p=0;p<u;p++)o[p]<s[p]&&(o=arraySize((t=l,n=s[p],a=p,l=concat(...Array(n).fill(t),a))));return l}DimensionError.prototype=RangeError(),DimensionError.prototype.constructor=RangeError,DimensionError.prototype.name="DimensionError",DimensionError.prototype.isDimensionError=!0,IndexError.prototype=RangeError(),IndexError.prototype.constructor=RangeError,IndexError.prototype.name="IndexError",IndexError.prototype.isIndexError=!0;var S=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function unwrapParen(e,r){if(!r||"auto"!==r)return e;for(var t=e;isParenthesisNode(t);)t=t.content;return t}function getPrecedence(e,r,t,n){var a=e;"keep"!==r&&(a=e.getContent());for(var o=a.getIdentifier(),s=null,u=0;u<S.length;u++)if(o in S[u]){s=u;break}if("OperatorNode:multiply"===o&&a.implicit&&"show"!==t){var c=unwrapParen(a.args[0],r);isConstantNode(c)&&n&&"OperatorNode:divide"===n.getIdentifier()&&rule2Node(unwrapParen(n.args[0],r))||"OperatorNode:divide"===c.getIdentifier()&&rule2Node(unwrapParen(c.args[0],r))&&isConstantNode(unwrapParen(c.args[1]))||(s+=1)}return s}function getAssociativity(e,r){var t=e;"keep"!==r&&(t=e.getContent());var n=t.getIdentifier(),a=getPrecedence(t,r);if(null===a)return null;var o=S[a][n];if(object_hasOwnProperty(o,"associativity")){if("left"===o.associativity)return"left";if("right"===o.associativity)return"right";throw Error("'"+n+"' has the invalid associativity '"+o.associativity+"'.")}return null}function isAssociativeWith(e,r,t){var n="keep"!==t?e.getContent():e,a="keep"!==t?e.getContent():r,o=n.getIdentifier(),s=a.getIdentifier(),u=getPrecedence(n,t);if(null===u)return null;var c=S[u][o];if(object_hasOwnProperty(c,"associativeWith")&&c.associativeWith instanceof Array){for(var l=0;l<c.associativeWith.length;l++)if(c.associativeWith[l]===s)return!0;return!1}return null}var M=t(7928),F={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},T={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},O={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(T.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(T.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(T.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(T.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(T.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(T.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(T.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(T.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(T.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(T.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(T.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(T.bitAnd,"${args[1]}\\right)")},bitNot:{1:T.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(T.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(T.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(T.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(T.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(T.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(T.and,"${args[1]}\\right)")},not:{1:T.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(T.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(T.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(T.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(T.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(T.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(T.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(T.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(T.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(T.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(T.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(T.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(T.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(T.to,"${args[1]}\\right)")},numeric:function(e,r){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(F.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},B={deg:"^\\circ"};function escapeLatex(e){return M(e,{preserveFormatting:!0})}function toSymbol(e,r){return(r=void 0!==r&&r)?object_hasOwnProperty(B,e)?B[e]:"\\mathrm{"+escapeLatex(e)+"}":object_hasOwnProperty(F,e)?F[e]:escapeLatex(e)}var k="OperatorNode",I=factory_factory(k,["Node"],e=>{var{Node:r}=e;function calculateNecessaryParentheses(e,r,t,n,a){var o=getPrecedence(e,r,t),s=getAssociativity(e,r);if("all"===r||n.length>2&&"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier())return n.map(function(e){switch(e.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});switch(n.length){case 0:u=[];break;case 1:var u,c,l,p=getPrecedence(n[0],r,t,e);if(a&&null!==p&&("keep"===r?(c=n[0].getIdentifier(),l=e.getIdentifier()):(c=n[0].getContent().getIdentifier(),l=e.getContent().getIdentifier()),!1===S[o][l].latexLeftParens||!1===S[p][c].latexParens)||null===p){u=[!1];break}if(p<=o){u=[!0];break}u=[!1];break;case 2:var m,h,g,y,v,x=getPrecedence(n[0],r,t,e),b=isAssociativeWith(e,n[0],r);m=null!==x&&(x===o&&"right"===s&&!b||x<o);var N=getPrecedence(n[1],r,t,e),w=isAssociativeWith(e,n[1],r);h=null!==N&&(N===o&&"left"===s&&!w||N<o),a&&("keep"===r?(g=e.getIdentifier(),y=e.args[0].getIdentifier(),v=e.args[1].getIdentifier()):(g=e.getContent().getIdentifier(),y=e.args[0].getContent().getIdentifier(),v=e.args[1].getContent().getIdentifier()),null!==x&&(!1===S[o][g].latexLeftParens&&(m=!1),!1===S[x][y].latexParens&&(m=!1)),null!==N&&(!1===S[o][g].latexRightParens&&(h=!1),!1===S[N][v].latexParens&&(h=!1))),u=[m,h];break;default:("OperatorNode:add"===e.getIdentifier()||"OperatorNode:multiply"===e.getIdentifier())&&(u=n.map(function(n){var a=getPrecedence(n,r,t,e),u=isAssociativeWith(e,n,r),c=getAssociativity(n,r);if(null===a);else if(o===a&&s===c&&!u)return!0;else if(a<o)return!0;return!1}))}if(n.length>=2&&"OperatorNode:multiply"===e.getIdentifier()&&e.implicit&&"all"!==r&&"hide"===t)for(var _=1;_<u.length;++_)!function startsWithConstant(e,r){var t=e;if("auto"===r)for(;isParenthesisNode(t);)t=t.content;return!!isConstantNode(t)||!!isOperatorNode(t)&&startsWithConstant(t.args[0],r)}(n[_],r)||u[_-1]||"keep"===r&&isParenthesisNode(n[_-1])||(u[_]=!0);return u}let OperatorNode=class OperatorNode extends r{constructor(e,r,t,n,a){if(super(),"string"!=typeof e)throw TypeError('string expected for parameter "op"');if("string"!=typeof r)throw TypeError('string expected for parameter "fn"');if(!Array.isArray(t)||!t.every(isNode))throw TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===n,this.isPercentage=!0===a,this.op=e,this.fn=r,this.args=t||[]}get type(){return k}get isOperatorNode(){return!0}_compile(e,r){if("string"!=typeof this.fn||!isSafeMethod(e,this.fn)){if(e[this.fn])throw Error('No access to function "'+this.fn+'"');throw Error("Function "+this.fn+' missing in provided namespace "math"')}var t=getSafeProperty(e,this.fn),n=map(this.args,function(t){return t._compile(e,r)});if(1===n.length){var a=n[0];return function(e,r,n){return t(a(e,r,n))}}if(2!==n.length)return function(e,r,a){return t.apply(null,map(n,function(t){return t(e,r,a)}))};var o=n[0],s=n[1];return function(e,r,n){return t(o(e,r,n),s(e,r,n))}}forEach(e){for(var r=0;r<this.args.length;r++)e(this.args[r],"args["+r+"]",this)}map(e){for(var r=[],t=0;t<this.args.length;t++)r[t]=this._ifNode(e(this.args[t],"args["+t+"]",this));return new OperatorNode(this.op,this.fn,r,this.implicit,this.isPercentage)}clone(){return new OperatorNode(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return 1===this.args.length}isBinary(){return 2===this.args.length}_toString(e){var r=e&&e.parenthesis?e.parenthesis:"keep",t=e&&e.implicit?e.implicit:"hide",n=this.args,a=calculateNecessaryParentheses(this,r,t,n,!1);if(1===n.length){var o=getAssociativity(this,r),s=n[0].toString(e);a[0]&&(s="("+s+")");var u=/[a-zA-Z]+/.test(this.op);return"right"===o?this.op+(u?" ":"")+s:"left"===o?s+(u?" ":"")+this.op:s+this.op}if(2===n.length){var c=n[0].toString(e),l=n[1].toString(e);return(a[0]&&(c="("+c+")"),a[1]&&(l="("+l+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===t)?c+" "+l:c+" "+this.op+" "+l}if(!(n.length>2)||"OperatorNode:add"!==this.getIdentifier()&&"OperatorNode:multiply"!==this.getIdentifier())return this.fn+"("+this.args.join(", ")+")";var p=n.map(function(r,t){return r=r.toString(e),a[t]&&(r="("+r+")"),r});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===t?p.join(" "):p.join(" "+this.op+" ")}toJSON(){return{mathjs:k,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(e){return new OperatorNode(e.op,e.fn,e.args,e.implicit,e.isPercentage)}toHTML(e){var r=e&&e.parenthesis?e.parenthesis:"keep",t=e&&e.implicit?e.implicit:"hide",n=this.args,a=calculateNecessaryParentheses(this,r,t,n,!1);if(1===n.length){var o=getAssociativity(this,r),s=n[0].toHTML(e);return(a[0]&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===o)?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+string_escape(this.op)+"</span>"+s:s+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+string_escape(this.op)+"</span>"}if(2===n.length){var u=n[0].toHTML(e),c=n[1].toHTML(e);return(a[0]&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),a[1]&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===t)?u+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+c:u+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+string_escape(this.op)+"</span>"+c}var l=n.map(function(r,t){return r=r.toHTML(e),a[t]&&(r='<span class="math-parenthesis math-round-parenthesis">(</span>'+r+'<span class="math-parenthesis math-round-parenthesis">)</span>'),r});return n.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===t?l.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):l.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+string_escape(this.op)+"</span>"):'<span class="math-function">'+string_escape(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}_toTex(e){var r=e&&e.parenthesis?e.parenthesis:"keep",t=e&&e.implicit?e.implicit:"hide",n=this.args,a=calculateNecessaryParentheses(this,r,t,n,!0),o=T[this.fn];if(o=void 0===o?this.op:o,1===n.length){var s=getAssociativity(this,r),u=n[0].toTex(e);return(a[0]&&(u="\\left(".concat(u,"\\right)")),"right"===s)?o+u:u+o}if(2===n.length){var c,l=n[0],p=l.toTex(e);a[0]&&(p="\\left(".concat(p,"\\right)"));var m=n[1].toTex(e);switch(a[1]&&(m="\\left(".concat(m,"\\right)")),c="keep"===r?l.getIdentifier():l.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return o+"{"+p+"}{"+m+"}";case"OperatorNode:pow":switch(p="{"+p+"}",m="{"+m+"}",c){case"ConditionalNode":case"OperatorNode:divide":p="\\left(".concat(p,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===t)return p+"~"+m}return p+o+m}if(!(n.length>2)||"OperatorNode:add"!==this.getIdentifier()&&"OperatorNode:multiply"!==this.getIdentifier())return"\\mathrm{"+this.fn+"}\\left("+n.map(function(r){return r.toTex(e)}).join(",")+"\\right)";var h=n.map(function(r,t){return r=r.toTex(e),a[t]&&(r="\\left(".concat(r,"\\right)")),r});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit&&"hide"===t?h.join("~"):h.join(o)}getIdentifier(){return this.type+":"+this.fn}};return _defineProperty(OperatorNode,"name",k),OperatorNode},{isClass:!0,isNode:!0}),P="ParenthesisNode",z=factory_factory(P,["Node"],e=>{var{Node:r}=e;let ParenthesisNode=class ParenthesisNode extends r{constructor(e){if(super(),!isNode(e))throw TypeError('Node expected for parameter "content"');this.content=e}get type(){return P}get isParenthesisNode(){return!0}_compile(e,r){return this.content._compile(e,r)}getContent(){return this.content.getContent()}forEach(e){e(this.content,"content",this)}map(e){var r=e(this.content,"content",this);return new ParenthesisNode(r)}clone(){return new ParenthesisNode(this.content)}_toString(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"("+this.content.toString(e)+")":this.content.toString(e)}toJSON(){return{mathjs:P,content:this.content}}static fromJSON(e){return new ParenthesisNode(e.content)}toHTML(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(e)}_toTex(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"\\left(".concat(this.content.toTex(e),"\\right)"):this.content.toTex(e)}};return _defineProperty(ParenthesisNode,"name",P),ParenthesisNode},{isClass:!0,isNode:!0}),R="RelationalNode",q=factory_factory(R,["Node"],e=>{var{Node:r}=e,t={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};let RelationalNode=class RelationalNode extends r{constructor(e,r){if(super(),!Array.isArray(e))throw TypeError("Parameter conditionals must be an array");if(!Array.isArray(r))throw TypeError("Parameter params must be an array");if(e.length!==r.length-1)throw TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=e,this.params=r}get type(){return R}get isRelationalNode(){return!0}_compile(e,r){var t=this,n=this.params.map(t=>t._compile(e,r));return function(r,a,o){for(var s,u=n[0](r,a,o),c=0;c<t.conditionals.length;c++)if(s=u,u=n[c+1](r,a,o),!getSafeProperty(e,t.conditionals[c])(s,u))return!1;return!0}}forEach(e){this.params.forEach((r,t)=>e(r,"params["+t+"]",this),this)}map(e){return new RelationalNode(this.conditionals.slice(),this.params.map((r,t)=>this._ifNode(e(r,"params["+t+"]",this)),this))}clone(){return new RelationalNode(this.conditionals,this.params)}_toString(e){for(var r=e&&e.parenthesis?e.parenthesis:"keep",n=getPrecedence(this,r,e&&e.implicit),a=this.params.map(function(t,a){var o=getPrecedence(t,r,e&&e.implicit);return"all"===r||null!==o&&o<=n?"("+t.toString(e)+")":t.toString(e)}),o=a[0],s=0;s<this.conditionals.length;s++)o+=" "+t[this.conditionals[s]]+" "+a[s+1];return o}toJSON(){return{mathjs:R,conditionals:this.conditionals,params:this.params}}static fromJSON(e){return new RelationalNode(e.conditionals,e.params)}toHTML(e){for(var r=e&&e.parenthesis?e.parenthesis:"keep",n=getPrecedence(this,r,e&&e.implicit),a=this.params.map(function(t,a){var o=getPrecedence(t,r,e&&e.implicit);return"all"===r||null!==o&&o<=n?'<span class="math-parenthesis math-round-parenthesis">(</span>'+t.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':t.toHTML(e)}),o=a[0],s=0;s<this.conditionals.length;s++)o+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+string_escape(t[this.conditionals[s]])+"</span>"+a[s+1];return o}_toTex(e){for(var r=e&&e.parenthesis?e.parenthesis:"keep",t=getPrecedence(this,r,e&&e.implicit),n=this.params.map(function(n,a){var o=getPrecedence(n,r,e&&e.implicit);return"all"===r||null!==o&&o<=t?"\\left("+n.toTex(e)+"\right)":n.toTex(e)}),a=n[0],o=0;o<this.conditionals.length;o++)a+=T[this.conditionals[o]]+n[o+1];return a}};return _defineProperty(RelationalNode,"name",R),RelationalNode},{isClass:!0,isNode:!0}),j="ArrayNode",U=factory_factory(j,["Node"],e=>{var{Node:r}=e;let ArrayNode=class ArrayNode extends r{constructor(e){if(super(),this.items=e||[],!Array.isArray(this.items)||!this.items.every(isNode))throw TypeError("Array containing Nodes expected")}get type(){return j}get isArrayNode(){return!0}_compile(e,r){var t=map(this.items,function(t){return t._compile(e,r)});if(!("Array"!==e.config.matrix))return function(e,r,n){return map(t,function(t){return t(e,r,n)})};var n=e.matrix;return function(e,r,a){return n(map(t,function(t){return t(e,r,a)}))}}forEach(e){for(var r=0;r<this.items.length;r++)e(this.items[r],"items["+r+"]",this)}map(e){for(var r=[],t=0;t<this.items.length;t++)r[t]=this._ifNode(e(this.items[t],"items["+t+"]",this));return new ArrayNode(r)}clone(){return new ArrayNode(this.items.slice(0))}_toString(e){return"["+this.items.map(function(r){return r.toString(e)}).join(", ")+"]"}toJSON(){return{mathjs:j,items:this.items}}static fromJSON(e){return new ArrayNode(e.items)}toHTML(e){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map(function(r){return r.toHTML(e)}).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(e){return function itemsToTex(r,t){var n=r.some(isArrayNode)&&!r.every(isArrayNode),a=t||n,o=r.map(function(r){return r.items?itemsToTex(r.items,!t):r.toTex(e)}).join(a?"&":"\\\\");return n||!a||a&&!t?"\\begin{bmatrix}"+o+"\\end{bmatrix}":o}(this.items,!1)}};return _defineProperty(ArrayNode,"name",j),ArrayNode},{isClass:!0,isNode:!0}),L="BlockNode",H=factory_factory(L,["ResultSet","Node"],e=>{var{ResultSet:r,Node:t}=e;let BlockNode=class BlockNode extends t{constructor(e){if(super(),!Array.isArray(e))throw Error("Array expected");this.blocks=e.map(function(e){var r=e&&e.node,t=!e||void 0===e.visible||e.visible;if(!isNode(r))throw TypeError('Property "node" must be a Node');if("boolean"!=typeof t)throw TypeError('Property "visible" must be a boolean');return{node:r,visible:t}})}get type(){return L}get isBlockNode(){return!0}_compile(e,t){var n=map(this.blocks,function(r){return{evaluate:r.node._compile(e,t),visible:r.visible}});return function(e,t,a){var o=[];return forEach(n,function(r){var n=r.evaluate(e,t,a);r.visible&&o.push(n)}),new r(o)}}forEach(e){for(var r=0;r<this.blocks.length;r++)e(this.blocks[r].node,"blocks["+r+"].node",this)}map(e){for(var r=[],t=0;t<this.blocks.length;t++){var n=this.blocks[t],a=this._ifNode(e(n.node,"blocks["+t+"].node",this));r[t]={node:a,visible:n.visible}}return new BlockNode(r)}clone(){var e=this.blocks.map(function(e){return{node:e.node,visible:e.visible}});return new BlockNode(e)}_toString(e){return this.blocks.map(function(r){return r.node.toString(e)+(r.visible?"":";")}).join("\n")}toJSON(){return{mathjs:L,blocks:this.blocks}}static fromJSON(e){return new BlockNode(e.blocks)}toHTML(e){return this.blocks.map(function(r){return r.node.toHTML(e)+(r.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(e){return this.blocks.map(function(r){return r.node.toTex(e)+(r.visible?"":";")}).join("\\;\\;\n")}};return _defineProperty(BlockNode,"name",L),BlockNode},{isClass:!0,isNode:!0}),$="ConditionalNode",V=factory_factory($,["Node"],e=>{var{Node:r}=e;let ConditionalNode=class ConditionalNode extends r{constructor(e,r,t){if(super(),!isNode(e))throw TypeError("Parameter condition must be a Node");if(!isNode(r))throw TypeError("Parameter trueExpr must be a Node");if(!isNode(t))throw TypeError("Parameter falseExpr must be a Node");this.condition=e,this.trueExpr=r,this.falseExpr=t}get type(){return $}get isConditionalNode(){return!0}_compile(e,r){var t=this.condition._compile(e,r),n=this.trueExpr._compile(e,r),a=this.falseExpr._compile(e,r);return function(e,r,o){return!function(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e)return!!e;if(e){if(isBigNumber(e))return!e.isZero();if(isComplex(e))return!!(e.re||e.im);if(isUnit(e))return!!e.value}if(null==e)return!1;throw TypeError('Unsupported type of condition "'+typeOf(e)+'"')}(t(e,r,o))?a(e,r,o):n(e,r,o)}}forEach(e){e(this.condition,"condition",this),e(this.trueExpr,"trueExpr",this),e(this.falseExpr,"falseExpr",this)}map(e){return new ConditionalNode(this._ifNode(e(this.condition,"condition",this)),this._ifNode(e(this.trueExpr,"trueExpr",this)),this._ifNode(e(this.falseExpr,"falseExpr",this)))}clone(){return new ConditionalNode(this.condition,this.trueExpr,this.falseExpr)}_toString(e){var r=e&&e.parenthesis?e.parenthesis:"keep",t=getPrecedence(this,r,e&&e.implicit),n=this.condition.toString(e),a=getPrecedence(this.condition,r,e&&e.implicit);("all"===r||"OperatorNode"===this.condition.type||null!==a&&a<=t)&&(n="("+n+")");var o=this.trueExpr.toString(e),s=getPrecedence(this.trueExpr,r,e&&e.implicit);("all"===r||"OperatorNode"===this.trueExpr.type||null!==s&&s<=t)&&(o="("+o+")");var u=this.falseExpr.toString(e),c=getPrecedence(this.falseExpr,r,e&&e.implicit);return("all"===r||"OperatorNode"===this.falseExpr.type||null!==c&&c<=t)&&(u="("+u+")"),n+" ? "+o+" : "+u}toJSON(){return{mathjs:$,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(e){return new ConditionalNode(e.condition,e.trueExpr,e.falseExpr)}toHTML(e){var r=e&&e.parenthesis?e.parenthesis:"keep",t=getPrecedence(this,r,e&&e.implicit),n=this.condition.toHTML(e),a=getPrecedence(this.condition,r,e&&e.implicit);("all"===r||"OperatorNode"===this.condition.type||null!==a&&a<=t)&&(n='<span class="math-parenthesis math-round-parenthesis">(</span>'+n+'<span class="math-parenthesis math-round-parenthesis">)</span>');var o=this.trueExpr.toHTML(e),s=getPrecedence(this.trueExpr,r,e&&e.implicit);("all"===r||"OperatorNode"===this.trueExpr.type||null!==s&&s<=t)&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>');var u=this.falseExpr.toHTML(e),c=getPrecedence(this.falseExpr,r,e&&e.implicit);return("all"===r||"OperatorNode"===this.falseExpr.type||null!==c&&c<=t)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),n+'<span class="math-operator math-conditional-operator">?</span>'+o+'<span class="math-operator math-conditional-operator">:</span>'+u}_toTex(e){return"\\begin{cases} {"+this.trueExpr.toTex(e)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(e)+"}\\\\{"+this.falseExpr.toTex(e)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}};return _defineProperty(ConditionalNode,"name",$),ConditionalNode},{isClass:!0,isNode:!0}),Z="ConstantNode",G=factory_factory(Z,["Node"],e=>{var{Node:r}=e;let ConstantNode=class ConstantNode extends r{constructor(e){super(),this.value=e}get type(){return Z}get isConstantNode(){return!0}_compile(e,r){var t=this.value;return function(){return t}}forEach(e){}map(e){return this.clone()}clone(){return new ConstantNode(this.value)}_toString(e){return string_format(this.value,e)}toHTML(e){var r=this._toString(e);switch(typeOf(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+r+"</span>";case"string":return'<span class="math-string">'+r+"</span>";case"boolean":return'<span class="math-boolean">'+r+"</span>";case"null":return'<span class="math-null-symbol">'+r+"</span>";case"undefined":return'<span class="math-undefined">'+r+"</span>";default:return'<span class="math-symbol">'+r+"</span>"}}toJSON(){return{mathjs:Z,value:this.value}}static fromJSON(e){return new ConstantNode(e.value)}_toTex(e){var r=this._toString(e);switch(typeOf(this.value)){case"string":return"\\mathtt{"+escapeLatex(r)+"}";case"number":case"BigNumber":if(!isFinite(this.value))return 0>this.value.valueOf()?"-\\infty":"\\infty";var t=r.toLowerCase().indexOf("e");if(-1!==t)return r.substring(0,t)+"\\cdot10^{"+r.substring(t+1)+"}";return r;case"Fraction":return this.value.toLatex();default:return r}}};return _defineProperty(ConstantNode,"name",Z),ConstantNode},{isClass:!0,isNode:!0}),W="RangeNode",Y=factory_factory(W,["Node"],e=>{var{Node:r}=e;function calculateNecessaryParentheses(e,r,t){var n=getPrecedence(e,r,t),a={},o=getPrecedence(e.start,r,t);if(a.start=null!==o&&o<=n||"all"===r,e.step){var s=getPrecedence(e.step,r,t);a.step=null!==s&&s<=n||"all"===r}var u=getPrecedence(e.end,r,t);return a.end=null!==u&&u<=n||"all"===r,a}let RangeNode=class RangeNode extends r{constructor(e,r,t){if(super(),!isNode(e)||!isNode(r)||t&&!isNode(t))throw TypeError("Node expected");if(arguments.length>3)throw Error("Too many arguments");this.start=e,this.end=r,this.step=t||null}get type(){return W}get isRangeNode(){return!0}needsEnd(){return this.filter(function(e){return isSymbolNode(e)&&"end"===e.name}).length>0}_compile(e,r){var t=e.range,n=this.start._compile(e,r),a=this.end._compile(e,r);if(!this.step)return function(e,r,o){return t(n(e,r,o),a(e,r,o))};var o=this.step._compile(e,r);return function(e,r,s){return t(n(e,r,s),a(e,r,s),o(e,r,s))}}forEach(e){e(this.start,"start",this),e(this.end,"end",this),this.step&&e(this.step,"step",this)}map(e){return new RangeNode(this._ifNode(e(this.start,"start",this)),this._ifNode(e(this.end,"end",this)),this.step&&this._ifNode(e(this.step,"step",this)))}clone(){return new RangeNode(this.start,this.end,this.step&&this.step)}_toString(e){var r,t=calculateNecessaryParentheses(this,e&&e.parenthesis?e.parenthesis:"keep",e&&e.implicit),n=this.start.toString(e);if(t.start&&(n="("+n+")"),r=n,this.step){var a=this.step.toString(e);t.step&&(a="("+a+")"),r+=":"+a}var o=this.end.toString(e);return t.end&&(o="("+o+")"),r+=":"+o}toJSON(){return{mathjs:W,start:this.start,end:this.end,step:this.step}}static fromJSON(e){return new RangeNode(e.start,e.end,e.step)}toHTML(e){var r,t=calculateNecessaryParentheses(this,e&&e.parenthesis?e.parenthesis:"keep",e&&e.implicit),n=this.start.toHTML(e);if(t.start&&(n='<span class="math-parenthesis math-round-parenthesis">(</span>'+n+'<span class="math-parenthesis math-round-parenthesis">)</span>'),r=n,this.step){var a=this.step.toHTML(e);t.step&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),r+='<span class="math-operator math-range-operator">:</span>'+a}var o=this.end.toHTML(e);return t.end&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),r+='<span class="math-operator math-range-operator">:</span>'+o}_toTex(e){var r=calculateNecessaryParentheses(this,e&&e.parenthesis?e.parenthesis:"keep",e&&e.implicit),t=this.start.toTex(e);if(r.start&&(t="\\left(".concat(t,"\\right)")),this.step){var n=this.step.toTex(e);r.step&&(n="\\left(".concat(n,"\\right)")),t+=":"+n}var a=this.end.toTex(e);return r.end&&(a="\\left(".concat(a,"\\right)")),t+=":"+a}};return _defineProperty(RangeNode,"name",W),RangeNode},{isClass:!0,isNode:!0}),X=factory_factory("reviver",["classes"],e=>{var{classes:r}=e;return function(e,t){var n=r[t&&t.mathjs];return n&&"function"==typeof n.fromJSON?n.fromJSON(t):t}}),J=factory_factory("Chain",["?on","math","typed"],e=>{var{on:r,math:t,typed:n}=e;function Chain(e){if(!(this instanceof Chain))throw SyntaxError("Constructor must be called with the new operator");isChain(e)?this.value=e.value:this.value=e}function createLazyProxy(e,r){var t,n,a,o;t=Chain.prototype,n=function(){var e=r();if("function"==typeof e)return chainify(e)},o=!0,Object.defineProperty(t,e,{get:function(){return o&&(a=n(),o=!1),a},set:function(e){a=e,o=!1},configurable:!0,enumerable:!0})}function chainify(e){return function(){if(0==arguments.length)return new Chain(e(this.value));for(var r=[this.value],t=0;t<arguments.length;t++)r[t+1]=arguments[t];if(n.isTypedFunction(e)){var a=n.resolve(e,r);if(1===a.params.length)throw Error("chain function "+e.name+" cannot match rest parameter between chain value and additional arguments.");return new Chain(a.implementation.apply(e,r))}return new Chain(e.apply(e,r))}}Chain.prototype.type="Chain",Chain.prototype.isChain=!0,Chain.prototype.done=function(){return this.value},Chain.prototype.valueOf=function(){return this.value},Chain.prototype.toString=function(){return string_format(this.value)},Chain.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},Chain.fromJSON=function(e){return new Chain(e.value)},Chain.createProxy=function(e,r){if("string"==typeof e)"function"==typeof r&&(Chain.prototype[e]=chainify(r));else{var _loop=function(r){object_hasOwnProperty(e,r)&&void 0===a[r]&&createLazyProxy(r,()=>e[r])};for(var t in e)_loop(t)}};var a={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return Chain.createProxy(t),r&&r("import",function(e,r,t){t||createLazyProxy(e,r)}),Chain},{isClass:!0}),K="FunctionAssignmentNode",Q=factory_factory(K,["typed","Node"],e=>{var{typed:r,Node:t}=e;function needParenthesis(e,r,t){var n=getPrecedence(e,r,t),a=getPrecedence(e.expr,r,t);return"all"===r||null!==a&&a<=n}let FunctionAssignmentNode=class FunctionAssignmentNode extends t{constructor(e,r,t){if(super(),"string"!=typeof e)throw TypeError('String expected for parameter "name"');if(!Array.isArray(r))throw TypeError('Array containing strings or objects expected for parameter "params"');if(!isNode(t))throw TypeError('Node expected for parameter "expr"');if(o.has(e))throw Error('Illegal function name, "'+e+'" is a reserved keyword');var n=new Set;for(var a of r){var s="string"==typeof a?a:a.name;if(n.has(s))throw Error('Duplicate parameter name "'.concat(s,'"'));n.add(s)}this.name=e,this.params=r.map(function(e){return e&&e.name||e}),this.types=r.map(function(e){return e&&e.type||"any"}),this.expr=t}get type(){return K}get isFunctionAssignmentNode(){return!0}_compile(e,t){var n=Object.create(t);forEach(this.params,function(e){n[e]=!0});var a=this.expr._compile(e,n),o=this.name,s=this.params,u=join(this.types,","),c=o+"("+join(this.params,", ")+")";return function(e,t,n){var l={};l[u]=function(){for(var r=Object.create(t),o=0;o<s.length;o++)r[s[o]]=arguments[o];return a(e,r,n)};var p=r(o,l);return p.syntax=c,e.set(o,p),p}}forEach(e){e(this.expr,"expr",this)}map(e){var r=this._ifNode(e(this.expr,"expr",this));return new FunctionAssignmentNode(this.name,this.params.slice(0),r)}clone(){return new FunctionAssignmentNode(this.name,this.params.slice(0),this.expr)}_toString(e){var r=e&&e.parenthesis?e.parenthesis:"keep",t=this.expr.toString(e);return needParenthesis(this,r,e&&e.implicit)&&(t="("+t+")"),this.name+"("+this.params.join(", ")+") = "+t}toJSON(){var e=this.types;return{mathjs:K,name:this.name,params:this.params.map(function(r,t){return{name:r,type:e[t]}}),expr:this.expr}}static fromJSON(e){return new FunctionAssignmentNode(e.name,e.params,e.expr)}toHTML(e){for(var r=e&&e.parenthesis?e.parenthesis:"keep",t=[],n=0;n<this.params.length;n++)t.push('<span class="math-symbol math-parameter">'+string_escape(this.params[n])+"</span>");var a=this.expr.toHTML(e);return needParenthesis(this,r,e&&e.implicit)&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+string_escape(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+a}_toTex(e){var r=e&&e.parenthesis?e.parenthesis:"keep",t=this.expr.toTex(e);return needParenthesis(this,r,e&&e.implicit)&&(t="\\left(".concat(t,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(toSymbol).join(",")+"\\right)="+t}};return _defineProperty(FunctionAssignmentNode,"name",K),FunctionAssignmentNode},{isClass:!0,isNode:!0}),ee="chain",er=factory_factory(ee,["typed","Chain"],e=>{var{typed:r,Chain:t}=e;return r(ee,{"":function(){return new t},any:function(e){return new t(e)}})}),et="IndexNode",en=factory_factory(et,["Node","size"],e=>{var{Node:r,size:t}=e;let IndexNode=class IndexNode extends r{constructor(e,r){if(super(),this.dimensions=e,this.dotNotation=r||!1,!Array.isArray(e)||!e.every(isNode))throw TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw Error("dotNotation only applicable for object properties")}get type(){return et}get isIndexNode(){return!0}_compile(e,r){var n=map(this.dimensions,function(n,o){if(!(n.filter(e=>e.isSymbolNode&&"end"===e.name).length>0))return n._compile(e,r);var s=Object.create(r);s.end=!0;var u=n._compile(e,s);return function(e,r,n){if(!isMatrix(n)&&!a(n)&&!isString(n))throw TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+typeOf(n));var s=t(n).valueOf(),c=Object.create(r);return c.end=s[o],u(e,c,n)}}),o=getSafeProperty(e,"index");return function(e,r,t){return o(...map(n,function(n){return n(e,r,t)}))}}forEach(e){for(var r=0;r<this.dimensions.length;r++)e(this.dimensions[r],"dimensions["+r+"]",this)}map(e){for(var r=[],t=0;t<this.dimensions.length;t++)r[t]=this._ifNode(e(this.dimensions[t],"dimensions["+t+"]",this));return new IndexNode(r,this.dotNotation)}clone(){return new IndexNode(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return 1===this.dimensions.length&&isConstantNode(this.dimensions[0])&&"string"==typeof this.dimensions[0].value}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(e){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:et,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(e){return new IndexNode(e.dimensions,e.dotNotation)}toHTML(e){for(var r=[],t=0;t<this.dimensions.length;t++)r[t]=this.dimensions[t].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+string_escape(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+r.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(e){var r=this.dimensions.map(function(r){return r.toTex(e)});return this.dotNotation?"."+this.getObjectProperty():"_{"+r.join(",")+"}"}};return _defineProperty(IndexNode,"name",et),IndexNode},{isClass:!0,isNode:!0});function errorTransform(e){return e&&e.isIndexError?new IndexError(e.index+1,e.min+1,void 0!==e.max?e.max+1:void 0):e}function accessFactory(e){var{subset:r}=e;return function(e,t){try{if(Array.isArray(e))return r(e,t);if(e&&"function"==typeof e.subset)return e.subset(t);if("string"==typeof e)return r(e,t);if("object"==typeof e){if(!t.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return getSafeProperty(e,t.getObjectProperty())}else throw TypeError("Cannot apply index: unsupported type of object")}catch(e){throw errorTransform(e)}}}var ei="AccessorNode",ea=factory_factory(ei,["subset","Node"],e=>{var{subset:r,Node:t}=e,n=accessFactory({subset:r});function needParenthesis(e){return!(isAccessorNode(e)||isArrayNode(e)||isConstantNode(e)||isFunctionNode(e)||isObjectNode(e)||isParenthesisNode(e)||isSymbolNode(e))}let AccessorNode=class AccessorNode extends t{constructor(e,r){if(super(),!isNode(e))throw TypeError('Node expected for parameter "object"');if(!isIndexNode(r))throw TypeError('IndexNode expected for parameter "index"');this.object=e,this.index=r}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return ei}get isAccessorNode(){return!0}_compile(e,r){var t=this.object._compile(e,r),a=this.index._compile(e,r);if(!this.index.isObjectProperty())return function(e,r,o){var s=t(e,r,o),u=a(e,r,s);return n(s,u)};var o=this.index.getObjectProperty();return function(e,r,n){return getSafeProperty(t(e,r,n),o)}}forEach(e){e(this.object,"object",this),e(this.index,"index",this)}map(e){return new AccessorNode(this._ifNode(e(this.object,"object",this)),this._ifNode(e(this.index,"index",this)))}clone(){return new AccessorNode(this.object,this.index)}_toString(e){var r=this.object.toString(e);return needParenthesis(this.object)&&(r="("+r+")"),r+this.index.toString(e)}toHTML(e){var r=this.object.toHTML(e);return needParenthesis(this.object)&&(r='<span class="math-parenthesis math-round-parenthesis">(</span>'+r+'<span class="math-parenthesis math-round-parenthesis">)</span>'),r+this.index.toHTML(e)}_toTex(e){var r=this.object.toTex(e);return needParenthesis(this.object)&&(r="\\left(' + object + '\\right)"),r+this.index.toTex(e)}toJSON(){return{mathjs:ei,object:this.object,index:this.index}}static fromJSON(e){return new AccessorNode(e.object,e.index)}};return _defineProperty(AccessorNode,"name",ei),AccessorNode},{isClass:!0,isNode:!0}),eo="AssignmentNode",es=factory_factory(eo,["subset","?matrix","Node"],e=>{var{subset:r,matrix:t,Node:n}=e,a=accessFactory({subset:r}),o=function(e){var{subset:r,matrix:t}=e;return function(e,n,a){try{if(Array.isArray(e))return t(e).subset(n,a).valueOf().forEach((r,t)=>{e[t]=r}),e;if(e&&"function"==typeof e.subset)return e.subset(n,a);if("string"==typeof e)return r(e,n,a);if("object"==typeof e){if(!n.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return setSafeProperty(e,n.getObjectProperty(),a),e}else throw TypeError("Cannot apply index: unsupported type of object")}catch(e){throw errorTransform(e)}}}({subset:r,matrix:t});function needParenthesis(e,r,t){r||(r="keep");var n=getPrecedence(e,r,t),a=getPrecedence(e.value,r,t);return"all"===r||null!==a&&a<=n}let AssignmentNode=class AssignmentNode extends n{constructor(e,r,t){if(super(),this.object=e,this.index=t?r:null,this.value=t||r,!isSymbolNode(e)&&!isAccessorNode(e))throw TypeError('SymbolNode or AccessorNode expected as "object"');if(isSymbolNode(e)&&"end"===e.name)throw Error('Cannot assign to symbol "end"');if(this.index&&!isIndexNode(this.index))throw TypeError('IndexNode expected as "index"');if(!isNode(this.value))throw TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return eo}get isAssignmentNode(){return!0}_compile(e,r){var t=this.object._compile(e,r),n=this.index?this.index._compile(e,r):null,s=this.value._compile(e,r),u=this.object.name;if(this.index){if(this.index.isObjectProperty()){var c=this.index.getObjectProperty();return function(e,r,n){var a=t(e,r,n),o=s(e,r,n);return setSafeProperty(a,c,o),o}}if(isSymbolNode(this.object))return function(e,r,a){var c=t(e,r,a),l=s(e,r,a),p=n(e,r,c);return e.set(u,o(c,p,l)),l};var l=this.object.object._compile(e,r);if(this.object.index.isObjectProperty()){var p=this.object.index.getObjectProperty();return function(e,r,t){var a=l(e,r,t),u=getSafeProperty(a,p),c=n(e,r,u),m=s(e,r,t);return setSafeProperty(a,p,o(u,c,m)),m}}var m=this.object.index._compile(e,r);return function(e,r,t){var u=l(e,r,t),c=m(e,r,u),p=a(u,c),h=n(e,r,p),g=s(e,r,t);return o(u,c,o(p,h,g)),g}}if(!isSymbolNode(this.object))throw TypeError("SymbolNode expected as object");return function(e,r,t){var n=s(e,r,t);return e.set(u,n),n}}forEach(e){e(this.object,"object",this),this.index&&e(this.index,"index",this),e(this.value,"value",this)}map(e){var r=this._ifNode(e(this.object,"object",this)),t=this.index?this._ifNode(e(this.index,"index",this)):null,n=this._ifNode(e(this.value,"value",this));return new AssignmentNode(r,t,n)}clone(){return new AssignmentNode(this.object,this.index,this.value)}_toString(e){var r=this.object.toString(e),t=this.index?this.index.toString(e):"",n=this.value.toString(e);return needParenthesis(this,e&&e.parenthesis,e&&e.implicit)&&(n="("+n+")"),r+t+" = "+n}toJSON(){return{mathjs:eo,object:this.object,index:this.index,value:this.value}}static fromJSON(e){return new AssignmentNode(e.object,e.index,e.value)}toHTML(e){var r=this.object.toHTML(e),t=this.index?this.index.toHTML(e):"",n=this.value.toHTML(e);return needParenthesis(this,e&&e.parenthesis,e&&e.implicit)&&(n='<span class="math-paranthesis math-round-parenthesis">(</span>'+n+'<span class="math-paranthesis math-round-parenthesis">)</span>'),r+t+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+n}_toTex(e){var r=this.object.toTex(e),t=this.index?this.index.toTex(e):"",n=this.value.toTex(e);return needParenthesis(this,e&&e.parenthesis,e&&e.implicit)&&(n="\\left(".concat(n,"\\right)")),r+t+"="+n}};return _defineProperty(AssignmentNode,"name",eo),AssignmentNode},{isClass:!0,isNode:!0}),eu=factory_factory("SymbolNode",["math","?Unit","Node"],e=>{var{math:r,Unit:t,Node:n}=e;function isValuelessUnit(e){return!!t&&t.isValuelessUnit(e)}let SymbolNode=class SymbolNode extends n{constructor(e){if(super(),"string"!=typeof e)throw TypeError('String expected for parameter "name"');this.name=e}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(e,r){var n=this.name;if(!0===r[n])return function(e,r,t){return getSafeProperty(r,n)};if(n in e)return function(r,t,a){return r.has(n)?r.get(n):getSafeProperty(e,n)};var a=isValuelessUnit(n);return function(e,r,o){return e.has(n)?e.get(n):a?new t(null,n):SymbolNode.onUndefinedSymbol(n)}}forEach(e){}map(e){return this.clone()}static onUndefinedSymbol(e){throw Error("Undefined symbol "+e)}clone(){return new SymbolNode(this.name)}_toString(e){return this.name}toHTML(e){var r=string_escape(this.name);return"true"===r||"false"===r?'<span class="math-symbol math-boolean">'+r+"</span>":"i"===r?'<span class="math-symbol math-imaginary-symbol">'+r+"</span>":"Infinity"===r?'<span class="math-symbol math-infinity-symbol">'+r+"</span>":"NaN"===r?'<span class="math-symbol math-nan-symbol">'+r+"</span>":"null"===r?'<span class="math-symbol math-null-symbol">'+r+"</span>":"undefined"===r?'<span class="math-symbol math-undefined-symbol">'+r+"</span>":'<span class="math-symbol">'+r+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(e){return new SymbolNode(e.name)}_toTex(e){var t=!1;void 0===r[this.name]&&isValuelessUnit(this.name)&&(t=!0);var n=toSymbol(this.name,t);return"\\"===n[0]?n:" "+n}};return SymbolNode},{isClass:!0,isNode:!0});function createSubScope(e){for(var r=arguments.length,t=Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return"function"==typeof e.createSubScope?map_assign(e.createSubScope(),...t):map_assign(createEmptyMap(),e,...t)}var ec="FunctionNode",el=factory_factory(ec,["math","Node","SymbolNode"],e=>{var{math:r,Node:t,SymbolNode:n}=e,strin=e=>string_format(e,{truncate:78});function expandTemplate(e,r,t){for(var n,a="",o=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,s=0;null!==(n=o.exec(e));)if(a+=e.substring(s,n.index),s=n.index,"$$"===n[0])a+="$",s++;else{s+=n[0].length;var u=r[n[1]];if(!u)throw ReferenceError("Template: Property "+n[1]+" does not exist.");if(void 0===n[2])switch(typeof u){case"string":a+=u;break;case"object":if(isNode(u))a+=u.toTex(t);else if(Array.isArray(u))a+=u.map(function(e,r){if(isNode(e))return e.toTex(t);throw TypeError("Template: "+n[1]+"["+r+"] is not a Node.")}).join(",");else throw TypeError("Template: "+n[1]+" has to be a Node, String or array of Nodes");break;default:throw TypeError("Template: "+n[1]+" has to be a Node, String or array of Nodes")}else if(isNode(u[n[2]]&&u[n[2]]))a+=u[n[2]].toTex(t);else throw TypeError("Template: "+n[1]+"["+n[2]+"] is not a Node.")}return a+e.slice(s)}let FunctionNode=class FunctionNode extends t{constructor(e,r){if(super(),"string"==typeof e&&(e=new n(e)),!isNode(e))throw TypeError('Node expected as parameter "fn"');if(!Array.isArray(r)||!r.every(isNode))throw TypeError('Array containing Nodes expected for parameter "args"');this.fn=e,this.args=r||[]}get name(){return this.fn.name||""}get type(){return ec}get isFunctionNode(){return!0}_compile(e,r){var t=this.args.map(t=>t._compile(e,r));if(isSymbolNode(this.fn)){var n=this.fn.name;if(r[n]){var a=this.args;return function(r,o,s){var u=getSafeProperty(o,n);if("function"!=typeof u)throw TypeError("Argument '".concat(n,"' was not a function; received: ").concat(strin(u)));if(u.rawArgs)return u(a,e,createSubScope(r,o),r);var c=t.map(e=>e(r,o,s));return u.apply(u,c)}}var o=n in e?getSafeProperty(e,n):void 0,s="function"==typeof o&&!0===o.rawArgs,resolveFn=r=>{var t;if(r.has(n))t=r.get(n);else{if(!(n in e))return FunctionNode.onUndefinedFunction(n);t=getSafeProperty(e,n)}if("function"==typeof t)return t;throw TypeError("'".concat(n,"' is not a function; its value is:\n  ").concat(strin(t)))};if(s){var u=this.args;return function(r,t,n){return resolveFn(r)(u,e,createSubScope(r,t),r)}}switch(t.length){case 0:return function(e,r,t){return resolveFn(e)()};case 1:return function(e,r,n){return resolveFn(e)((0,t[0])(e,r,n))};case 2:return function(e,r,n){var a=resolveFn(e),o=t[0],s=t[1];return a(o(e,r,n),s(e,r,n))};default:return function(e,r,n){return resolveFn(e)(...t.map(t=>t(e,r,n)))}}}else if(isAccessorNode(this.fn)&&isIndexNode(this.fn.index)&&this.fn.index.isObjectProperty()){var c=this.fn.object._compile(e,r),l=this.fn.index.getObjectProperty(),p=this.args;return function(r,n,a){var o=c(r,n,a),s=function(e,r){if(!isSafeMethod(e,r))throw Error('No access to method "'+r+'"');return e[r]}(o,l);if(null!=s&&s.rawArgs)return s(p,e,createSubScope(r,n),r);var u=t.map(e=>e(r,n,a));return s.apply(o,u)}}else{var m=this.fn.toString(),h=this.fn._compile(e,r),g=this.args;return function(r,n,a){var o=h(r,n,a);if("function"!=typeof o)throw TypeError("Expression '".concat(m,"' did not evaluate to a function; value is:")+"\n  ".concat(strin(o)));if(o.rawArgs)return o(g,e,createSubScope(r,n),r);var s=t.map(e=>e(r,n,a));return o.apply(o,s)}}}forEach(e){e(this.fn,"fn",this);for(var r=0;r<this.args.length;r++)e(this.args[r],"args["+r+"]",this)}map(e){for(var r=this._ifNode(e(this.fn,"fn",this)),t=[],n=0;n<this.args.length;n++)t[n]=this._ifNode(e(this.args[n],"args["+n+"]",this));return new FunctionNode(r,t)}clone(){return new FunctionNode(this.fn,this.args.slice(0))}toString(e){var r,t=this.fn.toString(e);return(e&&"object"==typeof e.handler&&object_hasOwnProperty(e.handler,t)&&(r=e.handler[t](this,e)),void 0!==r)?r:super.toString(e)}_toString(e){var r=this.args.map(function(r){return r.toString(e)});return(isFunctionAssignmentNode(this.fn)?"("+this.fn.toString(e)+")":this.fn.toString(e))+"("+r.join(", ")+")"}toJSON(){return{mathjs:ec,fn:this.fn,args:this.args}}toHTML(e){var r=this.args.map(function(r){return r.toHTML(e)});return'<span class="math-function">'+string_escape(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+r.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(e){var r;return(e&&"object"==typeof e.handler&&object_hasOwnProperty(e.handler,this.name)&&(r=e.handler[this.name](this,e)),void 0!==r)?r:super.toTex(e)}_toTex(e){var t,n,a=this.args.map(function(r){return r.toTex(e)});switch(O[this.name]&&(t=O[this.name]),r[this.name]&&("function"==typeof r[this.name].toTex||"object"==typeof r[this.name].toTex||"string"==typeof r[this.name].toTex)&&(t=r[this.name].toTex),typeof t){case"function":n=t(this,e);break;case"string":n=expandTemplate(t,this,e);break;case"object":switch(typeof t[a.length]){case"function":n=t[a.length](this,e);break;case"string":n=expandTemplate(t[a.length],this,e)}}return void 0!==n?n:expandTemplate("\\mathrm{${name}}\\left(${args}\\right)",this,e)}getIdentifier(){return this.type+":"+this.name}};return _defineProperty(FunctionNode,"name",ec),_defineProperty(FunctionNode,"onUndefinedFunction",function(e){throw Error("Undefined function "+e)}),_defineProperty(FunctionNode,"fromJSON",function(e){return new FunctionNode(e.fn,e.args)}),FunctionNode},{isClass:!0,isNode:!0});function _switch(e){var r,t,n=e.length,a=e[0].length,o=[];for(t=0;t<a;t++){var s=[];for(r=0;r<n;r++)s.push(e[r][t]);o.push(s)}return o}function containsCollections(e){for(var r=0;r<e.length;r++)if(isCollection(e[r]))return!0;return!1}function deepForEach(e,r){isMatrix(e)&&(e=e.valueOf());for(var t=0,n=e.length;t<n;t++){var a=e[t];Array.isArray(a)?deepForEach(a,r):r(a)}}function deepMap(e,r,t){return e&&"function"==typeof e.map?e.map(function(e){return deepMap(e,r,t)}):r(e)}function reduce(e,r,t){var n=Array.isArray(e)?arraySize(e):e.size();if(r<0||r>=n.length)throw new IndexError(r,n.length);return isMatrix(e)?e.create(_reduce(e.valueOf(),r,t)):_reduce(e,r,t)}function _reduce(e,r,t){var n,a,o,s;if(r<=0){if(Array.isArray(e[0])){for(n=0,s=_switch(e),a=[];n<s.length;n++)a[n]=_reduce(s[n],r-1,t);return a}for(n=1,o=e[0];n<e.length;n++)o=t(o,e[n]);return o}for(n=0,a=[];n<e.length;n++)a[n]=_reduce(e[n],r-1,t);return a}function scatter(e,r,t,n,a,o,s,u,c,l,p){var m,h,g,y,v=e._values,x=e._index,b=e._ptr;if(n)for(h=b[r],g=b[r+1],m=h;m<g;m++)t[y=x[m]]!==o?(t[y]=o,s.push(y),l?(n[y]=c?u(v[m],p):u(p,v[m]),a[y]=o):n[y]=v[m]):(n[y]=c?u(v[m],n[y]):u(n[y],v[m]),a[y]=o);else for(h=b[r],g=b[r+1],m=h;m<g;m++)t[y=x[m]]!==o?(t[y]=o,s.push(y)):a[y]=o}var ef="parse",ep=factory_factory(ef,["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],e=>{var{typed:r,numeric:t,config:n,AccessorNode:a,ArrayNode:o,AssignmentNode:s,BlockNode:u,ConditionalNode:c,ConstantNode:l,FunctionAssignmentNode:p,FunctionNode:m,IndexNode:h,ObjectNode:g,OperatorNode:y,ParenthesisNode:v,RangeNode:x,RelationalNode:b,SymbolNode:N}=e,w=r(ef,{string:function(e){return parseStart(e,{})},"Array | Matrix":function(e){return parseMultiple(e,{})},"string, Object":function(e,r){return parseStart(e,void 0!==r.nodes?r.nodes:{})},"Array | Matrix, Object":parseMultiple});function parseMultiple(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=void 0!==r.nodes?r.nodes:{};return deepMap(e,function(e){if("string"!=typeof e)throw TypeError("String expected");return parseStart(e,t)})}var _={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},D={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},E={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},A={true:!0,false:!1,null:null,undefined},C=["NaN","Infinity"],S={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"};function currentString(e,r){return e.expression.substr(e.index,r)}function currentCharacter(e){return currentString(e,1)}function next(e){e.index++}function prevCharacter(e){return e.expression.charAt(e.index-1)}function nextCharacter(e){return e.expression.charAt(e.index+1)}function getToken(e){for(e.tokenType=_.NULL,e.token="",e.comment="";;){if("#"===currentCharacter(e))for(;"\n"!==currentCharacter(e)&&""!==currentCharacter(e);)e.comment+=currentCharacter(e),next(e);if(w.isWhitespace(currentCharacter(e),e.nestingLevel))next(e);else break}if(""===currentCharacter(e)){e.tokenType=_.DELIMITER;return}if("\n"===currentCharacter(e)&&!e.nestingLevel){e.tokenType=_.DELIMITER,e.token=currentCharacter(e),next(e);return}var r=currentCharacter(e),t=currentString(e,2),n=currentString(e,3);if(3===n.length&&D[n]){e.tokenType=_.DELIMITER,e.token=n,next(e),next(e),next(e);return}if(2===t.length&&D[t]){e.tokenType=_.DELIMITER,e.token=t,next(e),next(e);return}if(D[r]){e.tokenType=_.DELIMITER,e.token=r,next(e);return}if(w.isDigitDot(r)){e.tokenType=_.NUMBER;var a=currentString(e,2);if("0b"===a||"0o"===a||"0x"===a){for(e.token+=currentCharacter(e),next(e),e.token+=currentCharacter(e),next(e);w.isHexDigit(currentCharacter(e));)e.token+=currentCharacter(e),next(e);if("."===currentCharacter(e))for(e.token+=".",next(e);w.isHexDigit(currentCharacter(e));)e.token+=currentCharacter(e),next(e);else if("i"===currentCharacter(e))for(e.token+="i",next(e);w.isDigit(currentCharacter(e));)e.token+=currentCharacter(e),next(e);return}if("."===currentCharacter(e)){if(e.token+=currentCharacter(e),next(e),!w.isDigit(currentCharacter(e))){e.tokenType=_.DELIMITER;return}}else{for(;w.isDigit(currentCharacter(e));)e.token+=currentCharacter(e),next(e);w.isDecimalMark(currentCharacter(e),nextCharacter(e))&&(e.token+=currentCharacter(e),next(e))}for(;w.isDigit(currentCharacter(e));)e.token+=currentCharacter(e),next(e);if("E"===currentCharacter(e)||"e"===currentCharacter(e)){if(w.isDigit(nextCharacter(e))||"-"===nextCharacter(e)||"+"===nextCharacter(e)){if(e.token+=currentCharacter(e),next(e),("+"===currentCharacter(e)||"-"===currentCharacter(e))&&(e.token+=currentCharacter(e),next(e)),!w.isDigit(currentCharacter(e)))throw createSyntaxError(e,'Digit expected, got "'+currentCharacter(e)+'"');for(;w.isDigit(currentCharacter(e));)e.token+=currentCharacter(e),next(e);if(w.isDecimalMark(currentCharacter(e),nextCharacter(e)))throw createSyntaxError(e,'Digit expected, got "'+currentCharacter(e)+'"')}else if("."===nextCharacter(e))throw next(e),createSyntaxError(e,'Digit expected, got "'+currentCharacter(e)+'"')}return}if(w.isAlpha(currentCharacter(e),prevCharacter(e),nextCharacter(e))){for(;w.isAlpha(currentCharacter(e),prevCharacter(e),nextCharacter(e))||w.isDigit(currentCharacter(e));)e.token+=currentCharacter(e),next(e);object_hasOwnProperty(E,e.token)?e.tokenType=_.DELIMITER:e.tokenType=_.SYMBOL;return}for(e.tokenType=_.UNKNOWN;""!==currentCharacter(e);)e.token+=currentCharacter(e),next(e);throw createSyntaxError(e,'Syntax error in part "'+e.token+'"')}function getTokenSkipNewline(e){do getToken(e);while("\n"===e.token)}function openParams(e){e.nestingLevel++}function closeParams(e){e.nestingLevel--}function parseStart(e,r){var t={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:_.NULL,nestingLevel:0,conditionalLevel:null};_extends(t,{expression:e,extraNodes:r}),getToken(t);var n=function(e){var r,t,n=[];for(""!==e.token&&"\n"!==e.token&&";"!==e.token&&(r=parseAssignment(e),e.comment&&(r.comment=e.comment));"\n"===e.token||";"===e.token;)0===n.length&&r&&(t=";"!==e.token,n.push({node:r,visible:t})),getToken(e),"\n"!==e.token&&";"!==e.token&&""!==e.token&&(r=parseAssignment(e),e.comment&&(r.comment=e.comment),t=";"!==e.token,n.push({node:r,visible:t}));return n.length>0?new u(n):(!r&&(r=new l(void 0),e.comment&&(r.comment=e.comment)),r)}(t);if(""!==t.token){if(t.tokenType===_.DELIMITER)throw createError(t,"Unexpected operator "+t.token);throw createSyntaxError(t,'Unexpected part "'+t.token+'"')}return n}function parseAssignment(e){var r,t,n,a,o=function(e){for(var r=function(e){for(var r=parseLogicalXor(e);"or"===e.token;)getTokenSkipNewline(e),r=new y("or","or",[r,parseLogicalXor(e)]);return r}(e);"?"===e.token;){var t=e.conditionalLevel;e.conditionalLevel=e.nestingLevel,getTokenSkipNewline(e);var n=r,a=parseAssignment(e);if(":"!==e.token)throw createSyntaxError(e,"False part of conditional expression expected");e.conditionalLevel=null,getTokenSkipNewline(e);var o=parseAssignment(e);r=new c(n,a,o),e.conditionalLevel=t}return r}(e);if("="===e.token){if(isSymbolNode(o))return r=o.name,getTokenSkipNewline(e),n=parseAssignment(e),new s(new N(r),n);if(isAccessorNode(o))return getTokenSkipNewline(e),n=parseAssignment(e),new s(o.object,o.index,n);if(isFunctionNode(o)&&isSymbolNode(o.fn)&&(a=!0,t=[],r=o.name,o.args.forEach(function(e,r){isSymbolNode(e)?t[r]=e.name:a=!1}),a))return getTokenSkipNewline(e),n=parseAssignment(e),new p(r,t,n);throw createSyntaxError(e,"Invalid left hand side of assignment operator =")}return o}function parseLogicalXor(e){for(var r=parseLogicalAnd(e);"xor"===e.token;)getTokenSkipNewline(e),r=new y("xor","xor",[r,parseLogicalAnd(e)]);return r}function parseLogicalAnd(e){for(var r=parseBitwiseOr(e);"and"===e.token;)getTokenSkipNewline(e),r=new y("and","and",[r,parseBitwiseOr(e)]);return r}function parseBitwiseOr(e){for(var r=parseBitwiseXor(e);"|"===e.token;)getTokenSkipNewline(e),r=new y("|","bitOr",[r,parseBitwiseXor(e)]);return r}function parseBitwiseXor(e){for(var r=parseBitwiseAnd(e);"^|"===e.token;)getTokenSkipNewline(e),r=new y("^|","bitXor",[r,parseBitwiseAnd(e)]);return r}function parseBitwiseAnd(e){for(var r=parseRelational(e);"&"===e.token;)getTokenSkipNewline(e),r=new y("&","bitAnd",[r,parseRelational(e)]);return r}function parseRelational(e){for(var r=[parseShift(e)],t=[],n={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};object_hasOwnProperty(n,e.token);){var a={name:e.token,fn:n[e.token]};t.push(a),getTokenSkipNewline(e),r.push(parseShift(e))}return 1===r.length?r[0]:2===r.length?new y(t[0].name,t[0].fn,r):new b(t.map(e=>e.fn),r)}function parseShift(e){r=parseConversion(e);for(var r,t,n,a,o={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};object_hasOwnProperty(o,e.token);)n=o[t=e.token],getTokenSkipNewline(e),a=[r,parseConversion(e)],r=new y(t,n,a);return r}function parseConversion(e){r=parseRange(e);for(var r,t,n,a,o={to:"to",in:"to"};object_hasOwnProperty(o,e.token);)n=o[t=e.token],getTokenSkipNewline(e),"in"===t&&""===e.token?r=new y("*","multiply",[r,new N("in")],!0):(a=[r,parseRange(e)],r=new y(t,n,a));return r}function parseRange(e){var r,t=[];if(r=":"===e.token?new l(1):parseAddSubtract(e),":"===e.token&&e.conditionalLevel!==e.nestingLevel){for(t.push(r);":"===e.token&&t.length<3;)getTokenSkipNewline(e),")"===e.token||"]"===e.token||","===e.token||""===e.token?t.push(new N("end")):t.push(parseAddSubtract(e));r=3===t.length?new x(t[0],t[2],t[1]):new x(t[0],t[1])}return r}function parseAddSubtract(e){r=parseMultiplyDivide(e);for(var r,t,n,a,o={"+":"add","-":"subtract"};object_hasOwnProperty(o,e.token);){n=o[t=e.token],getTokenSkipNewline(e);var s=parseMultiplyDivide(e);a=s.isPercentage?[r,new y("*","multiply",[r,s])]:[r,s],r=new y(t,n,a)}return r}function parseMultiplyDivide(e){t=r=parseImplicitMultiplication(e);for(var r,t,n,a,o={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};;)if(object_hasOwnProperty(o,e.token))a=o[n=e.token],getTokenSkipNewline(e),t=parseImplicitMultiplication(e),r=new y(n,a,[r,t]);else break;return r}function parseImplicitMultiplication(e){var r,t;for(t=r=parseRule2(e);;)if(e.tokenType===_.SYMBOL||"in"===e.token&&isConstantNode(r)||e.tokenType===_.NUMBER&&!isConstantNode(t)&&(!isOperatorNode(t)||"!"===t.op)||"("===e.token)t=parseRule2(e),r=new y("*","multiply",[r,t],!0);else break;return r}function parseRule2(e){for(var r=parsePercentage(e),t=r,n=[];;)if("/"===e.token&&rule2Node(t)){if(n.push(_extends({},e)),getTokenSkipNewline(e),e.tokenType===_.NUMBER){if(n.push(_extends({},e)),getTokenSkipNewline(e),e.tokenType===_.SYMBOL||"("===e.token)_extends(e,n.pop()),n.pop(),t=parsePercentage(e),r=new y("/","divide",[r,t]);else{n.pop(),_extends(e,n.pop());break}}else{_extends(e,n.pop());break}}else break;return r}function parsePercentage(e){r=parseUnary(e);for(var r,t,n,a,o={"%":"mod",mod:"mod"};object_hasOwnProperty(o,e.token);)n=o[t=e.token],getTokenSkipNewline(e),"%"===t&&e.tokenType===_.DELIMITER&&"("!==e.token?r=new y("/","divide",[r,new l(100)],!1,!0):(a=[r,parseUnary(e)],r=new y(t,n,a));return r}function parseUnary(e){var r,a,s,u,c,p,m,h={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return object_hasOwnProperty(h,e.token)?(m=h[e.token],c=e.token,getTokenSkipNewline(e),p=[parseUnary(e)],new y(c,m,p)):(r=function(e){r=function(e){var r,a,s=[];if(e.tokenType===_.SYMBOL&&object_hasOwnProperty(e.extraNodes,e.token)){var u=e.extraNodes[e.token];if(getToken(e),"("===e.token){if(s=[],openParams(e),getToken(e),")"!==e.token)for(s.push(parseAssignment(e));","===e.token;)getToken(e),s.push(parseAssignment(e));if(")"!==e.token)throw createSyntaxError(e,"Parenthesis ) expected");closeParams(e),getToken(e)}return new u(s)}return e.tokenType===_.SYMBOL||e.tokenType===_.DELIMITER&&e.token in E?(r=e.token,getToken(e),parseAccessors(e,object_hasOwnProperty(A,r)?new l(A[r]):-1!==C.indexOf(r)?new l(t(r,"number")):new N(r))):'"'===e.token||"'"===e.token?(a=parseStringToken(e,e.token),parseAccessors(e,new l(a))):function(e){var r,a,s,u;if("["===e.token){if(openParams(e),getToken(e),"]"!==e.token){var c=parseRow(e);if(";"===e.token){for(s=1,a=[c];";"===e.token;)getToken(e),a[s]=parseRow(e),s++;if("]"!==e.token)throw createSyntaxError(e,"End of matrix ] expected");closeParams(e),getToken(e),u=a[0].items.length;for(var p=1;p<s;p++)if(a[p].items.length!==u)throw createError(e,"Column dimensions mismatch ("+a[p].items.length+" !== "+u+")");r=new o(a)}else{if("]"!==e.token)throw createSyntaxError(e,"End of matrix ] expected");closeParams(e),getToken(e),r=c}}else closeParams(e),getToken(e),r=new o([]);return parseAccessors(e,r)}return function(e){if("{"===e.token){openParams(e);var r,a,o={};do if(getToken(e),"}"!==e.token){if('"'===e.token||"'"===e.token)a=parseStringToken(e,e.token);else if(e.tokenType===_.SYMBOL||e.tokenType===_.DELIMITER&&e.token in E)a=e.token,getToken(e);else throw createSyntaxError(e,"Symbol or string expected as object key");if(":"!==e.token)throw createSyntaxError(e,"Colon : expected after object key");getToken(e),o[a]=parseAssignment(e)}while(","===e.token);if("}"!==e.token)throw createSyntaxError(e,"Comma , or bracket } expected after object value");return closeParams(e),getToken(e),parseAccessors(e,new g(o))}return e.tokenType===_.NUMBER?(r=e.token,getToken(e),new l(t(r,n.number))):function(e){var r;if("("===e.token){if(openParams(e),getToken(e),r=parseAssignment(e),")"!==e.token)throw createSyntaxError(e,"Parenthesis ) expected");return closeParams(e),getToken(e),r=parseAccessors(e,r=new v(r))}return function(e){if(""===e.token)throw createSyntaxError(e,"Unexpected end of expression");throw createSyntaxError(e,"Value expected")}(e)}(e)}(e)}(e)}(e);for(var r,a,s,u,c={"!":"factorial","'":"ctranspose"};object_hasOwnProperty(c,e.token);)s=c[a=e.token],getToken(e),u=[r],r=parseAccessors(e,r=new y(a,s,u));return r}(e),("^"===e.token||".^"===e.token)&&(s="^"===(a=e.token)?"pow":"dotPow",getTokenSkipNewline(e),u=[r,parseUnary(e)],r=new y(a,s,u)),r)}function parseAccessors(e,r,t){for(var n;("("===e.token||"["===e.token||"."===e.token)&&(!t||-1!==t.indexOf(e.token));)if(n=[],"("===e.token){if(isSymbolNode(r)||isAccessorNode(r)){if(openParams(e),getToken(e),")"!==e.token)for(n.push(parseAssignment(e));","===e.token;)getToken(e),n.push(parseAssignment(e));if(")"!==e.token)throw createSyntaxError(e,"Parenthesis ) expected");closeParams(e),getToken(e),r=new m(r,n)}else break}else if("["===e.token){if(openParams(e),getToken(e),"]"!==e.token)for(n.push(parseAssignment(e));","===e.token;)getToken(e),n.push(parseAssignment(e));if("]"!==e.token)throw createSyntaxError(e,"Parenthesis ] expected");closeParams(e),getToken(e),r=new a(r,new h(n))}else{if(getToken(e),!(e.tokenType===_.SYMBOL||e.tokenType===_.DELIMITER&&e.token in E))throw createSyntaxError(e,"Property name expected after dot");n.push(new l(e.token)),getToken(e),r=new a(r,new h(n,!0))}return r}function parseStringToken(e,r){for(var t="";""!==currentCharacter(e)&&currentCharacter(e)!==r;)if("\\"===currentCharacter(e)){next(e);var n=currentCharacter(e),a=S[n];if(void 0!==a)t+=a,e.index+=1;else if("u"===n){var o=e.expression.slice(e.index+1,e.index+5);if(/^[0-9A-Fa-f]{4}$/.test(o))t+=String.fromCharCode(parseInt(o,16)),e.index+=5;else throw createSyntaxError(e,"Invalid unicode character \\u".concat(o))}else throw createSyntaxError(e,"Bad escape character \\".concat(n))}else t+=currentCharacter(e),next(e);if(getToken(e),e.token!==r)throw createSyntaxError(e,"End of string ".concat(r," expected"));return getToken(e),t}function parseRow(e){for(var r=[parseAssignment(e)],t=1;","===e.token;)getToken(e),r[t]=parseAssignment(e),t++;return new o(r)}function col(e){return e.index-e.token.length+1}function createSyntaxError(e,r){var t=col(e),n=SyntaxError(r+" (char "+t+")");return n.char=t,n}function createError(e,r){var t=col(e),n=SyntaxError(r+" (char "+t+")");return n.char=t,n}return w.isAlpha=function(e,r,t){return w.isValidLatinOrGreek(e)||w.isValidMathSymbol(e,t)||w.isValidMathSymbol(r,e)},w.isValidLatinOrGreek=function(e){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(e)},w.isValidMathSymbol=function(e,r){return/^[\uD835]$/.test(e)&&/^[\uDC00-\uDFFF]$/.test(r)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(r)},w.isWhitespace=function(e,r){return" "===e||"	"===e||"\n"===e&&r>0},w.isDecimalMark=function(e,r){return"."===e&&"/"!==r&&"*"!==r&&"^"!==r},w.isDigitDot=function(e){return e>="0"&&e<="9"||"."===e},w.isDigit=function(e){return e>="0"&&e<="9"},w.isHexDigit=function(e){return e>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F"},r.addConversion({from:"string",to:"Node",convert:w}),w}),em=factory_factory("resolve",["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],e=>{var{typed:r,parse:t,ConstantNode:n,FunctionNode:a,OperatorNode:o,ParenthesisNode:s}=e;function _resolve(e,r){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(!r)return e;if(isSymbolNode(e)){if(u.has(e.name)){var c=Array.from(u).join(", ");throw ReferenceError("recursive loop of variable definitions among {".concat(c,"}"))}var l=r.get(e.name);if(isNode(l)){var p=new Set(u);return p.add(e.name),_resolve(l,r,p)}return"number"==typeof l?t(String(l)):void 0!==l?new n(l):e}if(isOperatorNode(e)){var m=e.args.map(function(e){return _resolve(e,r,u)});return new o(e.op,e.fn,m,e.implicit)}if(isParenthesisNode(e))return new s(_resolve(e.content,r,u));if(isFunctionNode(e)){var h=e.args.map(function(e){return _resolve(e,r,u)});return new a(e.name,h)}return e.map(e=>_resolve(e,r,u))}return r("resolve",{Node:_resolve,"Node, Map | null | undefined":_resolve,"Node, Object":(e,r)=>_resolve(e,createMap(r)),"Array | Matrix":r.referToSelf(e=>r=>r.map(r=>e(r))),"Array | Matrix, null | undefined":r.referToSelf(e=>r=>r.map(r=>e(r))),"Array, Object":r.referTo("Array,Map",e=>(r,t)=>e(r,createMap(t))),"Matrix, Object":r.referTo("Matrix,Map",e=>(r,t)=>e(r,createMap(t))),"Array | Matrix, Map":r.referToSelf(e=>(r,t)=>r.map(r=>e(r,t)))})});function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var eh=factory_factory("simplifyUtil",["FunctionNode","OperatorNode","SymbolNode"],e=>{var{FunctionNode:r,OperatorNode:t,SymbolNode:n}=e,a="defaultF",o={add:{trivial:!0,total:!0,commutative:!0,associative:!0},unaryPlus:{trivial:!0,total:!0,commutative:!0,associative:!0},subtract:{trivial:!1,total:!0,commutative:!1,associative:!1},multiply:{trivial:!0,total:!0,commutative:!0,associative:!0},divide:{trivial:!1,total:!0,commutative:!1,associative:!1},paren:{trivial:!0,total:!0,commutative:!0,associative:!1},defaultF:{trivial:!1,total:!0,commutative:!1,associative:!1}};function hasProperty(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,n=a;if("string"==typeof e?n=e:isOperatorNode(e)?n=e.fn.toString():isFunctionNode(e)?n=e.name:isParenthesisNode(e)&&(n="paren"),object_hasOwnProperty(t,n)){var s=t[n];if(object_hasOwnProperty(s,r))return s[r];if(object_hasOwnProperty(o,n))return o[n][r]}if(object_hasOwnProperty(t,a)){var u=t[a];return object_hasOwnProperty(u,r)?u[r]:o[a][r]}if(object_hasOwnProperty(o,n)){var c=o[n];if(object_hasOwnProperty(c,r))return c[r]}return o[a][r]}function isAssociative(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return hasProperty(e,"associative",r)}function allChildren(e,r){var t,n=[];return isAssociative(e,r)?(t=e.op,!function findChildren(e){for(var r=0;r<e.args.length;r++){var a=e.args[r];isOperatorNode(a)&&t===a.op?findChildren(a):n.push(a)}}(e),n):e.args}function createMakeNodeFunction(e){return isOperatorNode(e)?function(r){try{return new t(e.op,e.fn,r,e.implicit)}catch(e){return console.error(e),[]}}:function(t){return new r(new n(e.name),t)}}return{createMakeNodeFunction,hasProperty,isCommutative:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return hasProperty(e,"commutative",r)},isAssociative,mergeContext:function(e,r){var t=_objectSpread({},e);for(var n in r)object_hasOwnProperty(e,n)?t[n]=_objectSpread(_objectSpread({},r[n]),e[n]):t[n]=r[n];return t},flatten:function flatten(e,r){if(!e.args||0===e.args.length)return e;e.args=allChildren(e,r);for(var t=0;t<e.args.length;t++)flatten(e.args[t],r)},allChildren,unflattenr:function unflattenr(e,r){if(e.args&&0!==e.args.length){for(var t=createMakeNodeFunction(e),n=e.args.length,a=0;a<n;a++)unflattenr(e.args[a],r);if(n>2&&isAssociative(e,r)){for(var o=e.args.pop();e.args.length>0;)o=t([e.args.pop(),o]);e.args=o.args}}},unflattenl:function unflattenl(e,r){if(e.args&&0!==e.args.length){for(var t=createMakeNodeFunction(e),n=e.args.length,a=0;a<n;a++)unflattenl(e.args[a],r);if(n>2&&isAssociative(e,r)){for(var o=e.args.shift();e.args.length>0;)o=t([o,e.args.shift()]);e.args=o.args}}},defaultContext:o,realContext:{divide:{total:!1},log:{total:!1}},positiveContext:{subtract:{total:!1},abs:{trivial:!0},log:{total:!0}}}});function noBignumber(){throw Error('No "bignumber" implementation available')}function noFraction(){throw Error('No "fraction" implementation available')}function noMatrix(){throw Error('No "matrix" implementation available')}var ed=factory_factory("simplifyConstant",["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],e=>{var{typed:r,config:t,mathWithTransform:n,matrix:a,fraction:o,bignumber:s,AccessorNode:u,ArrayNode:c,ConstantNode:l,FunctionNode:p,IndexNode:m,ObjectNode:h,OperatorNode:g,SymbolNode:y}=e,{isCommutative:v,isAssociative:x,allChildren:b,createMakeNodeFunction:N}=eh({FunctionNode:p,OperatorNode:g,SymbolNode:y}),w=r("simplifyConstant",{Node:e=>_ensureNode(foldFraction(e,{})),"Node, Object":function(e,r){return _ensureNode(foldFraction(e,r))}});function _eval(e,r,t){try{return n[e].apply(null,r)}catch(o){return r=r.map(function _removeFractions(e){return isFraction(e)?e.valueOf():e instanceof Array?e.map(_removeFractions):isMatrix(e)?a(_removeFractions(e.valueOf())):e}),D(n[e].apply(null,r),t)}}var _=r({Fraction:function(e){var r,t=e.s*e.n;return(r=t<0?new g("-","unaryMinus",[new l(-t)]):new l(t),1===e.d)?r:new g("/","divide",[r,new l(e.d)])},number:function(e){return e<0?unaryMinusNode(new l(-e)):new l(e)},BigNumber:function(e){return e<0?unaryMinusNode(new l(-e)):new l(e)},Complex:function(e){throw Error("Cannot convert Complex number to Node")},string:function(e){return new l(e)},Matrix:function(e){return new c(e.valueOf().map(e=>_(e)))}});function _ensureNode(e){return isNode(e)?e:_(e)}function _exactFraction(e,r){if(r&&!1!==r.exactFractions&&isFinite(e)&&o){var t=o(e),n=r&&"number"==typeof r.fractionsLimit?r.fractionsLimit:1/0;if(t.valueOf()===e&&t.n<n&&t.d<n)return t}return e}var D=r({"string, Object":function(e,r){return"BigNumber"===t.number?(void 0===s&&noBignumber(),s(e)):"Fraction"===t.number?(void 0===o&&noFraction(),o(e)):_exactFraction(parseFloat(e),r)},"Fraction, Object":function(e,r){return e},"BigNumber, Object":function(e,r){return e},"number, Object":function(e,r){return _exactFraction(e,r)},"Complex, Object":function(e,r){return 0!==e.im?e:_exactFraction(e.re,r)},"Matrix, Object":function(e,r){return a(_exactFraction(e.valueOf()))},"Array, Object":function(e,r){return e.map(_exactFraction)}});function unaryMinusNode(e){return new g("-","unaryMinus",[e])}function foldOp(e,r,t,n){var a=r.shift(),o=r.reduce((r,a)=>{if(!isNode(a)){var o=r.pop();if(isNode(o))return[o,a];try{return r.push(_eval(e,[o,a],n)),r}catch(e){r.push(o)}}r.push(_ensureNode(r.pop()));var s=1===r.length?r[0]:t(r);return[t([s,_ensureNode(a)])]},[a]);return 1===o.length?o[0]:t([o[0],_(o[1])])}function foldFraction(e,r){switch(e.type){case"SymbolNode":return e;case"ConstantNode":switch(typeof e.value){case"number":return D(e.value,r);case"string":return e.value;default:if(!isNaN(e.value))return D(e.value,r)}return e;case"FunctionNode":if(n[e.name]&&n[e.name].rawArgs)return e;if(-1===["add","multiply"].indexOf(e.name)){var t=e.args.map(e=>foldFraction(e,r));if(!t.some(isNode))try{return _eval(e.name,t,r)}catch(e){}if("size"===e.name&&1===t.length&&isArrayNode(t[0])){for(var o=[],s=t[0];isArrayNode(s);)o.push(s.items.length),s=s.items[0];return a(o)}return new p(e.name,t.map(_ensureNode))}case"OperatorNode":var g,y,_=e.fn.toString(),E=N(e);if(isOperatorNode(e)&&e.isUnary())y=isNode((g=[foldFraction(e.args[0],r)])[0])?E(g):_eval(_,g,r);else if(x(e,r.context)){if(g=(g=b(e,r.context)).map(e=>foldFraction(e,r)),v(_,r.context)){for(var A=[],C=[],S=0;S<g.length;S++)isNode(g[S])?C.push(g[S]):A.push(g[S]);A.length>1?(y=foldOp(_,A,E,r),C.unshift(y),y=foldOp(_,C,E,r)):y=foldOp(_,g,E,r)}else y=foldOp(_,g,E,r)}else y=foldOp(_,g=e.args.map(e=>foldFraction(e,r)),E,r);return y;case"ParenthesisNode":return foldFraction(e.content,r);case"AccessorNode":return function(e,r,t){if(!isIndexNode(r))return new u(_ensureNode(e),_ensureNode(r));if(isArrayNode(e)||isMatrix(e)){for(var n=Array.from(r.dimensions);n.length>0;)if(isConstantNode(n[0])&&"string"!=typeof n[0].value){var o=D(n.shift().value,t);isArrayNode(e)?e=e.items[o-1]:(e=e.valueOf()[o-1])instanceof Array&&(e=a(e))}else if(n.length>1&&isConstantNode(n[1])&&"string"!=typeof n[1].value){var s=D(n[1].value,t),p=[],h=isArrayNode(e)?e.items:e.valueOf();for(var g of h)if(isArrayNode(g))p.push(g.items[s-1]);else if(isMatrix(e))p.push(g[s-1]);else break;if(p.length===h.length)e=isArrayNode(e)?new c(p):a(p),n.splice(1,1);else break}else break;return n.length===r.dimensions.length?new u(_ensureNode(e),r):n.length>0?(r=new m(n),new u(_ensureNode(e),r)):e}if(isObjectNode(e)&&1===r.dimensions.length&&isConstantNode(r.dimensions[0])){var y=r.dimensions[0].value;return y in e.properties?e.properties[y]:new l}return new u(_ensureNode(e),r)}(foldFraction(e.object,r),foldFraction(e.index,r),r);case"ArrayNode":var M=e.items.map(e=>foldFraction(e,r));if(M.some(isNode))return new c(M.map(_ensureNode));return a(M);case"IndexNode":return new m(e.dimensions.map(e=>w(e,r)));case"ObjectNode":var F={};for(var T in e.properties)F[T]=w(e.properties[T],r);return new h(F);default:throw Error("Unimplemented node type in simplifyConstant: ".concat(e.type))}}return w}),eg="compile",ey=factory_factory(eg,["typed","parse"],e=>{var{typed:r,parse:t}=e;return r(eg,{string:function(e){return t(e).compile()},"Array | Matrix":function(e){return deepMap(e,function(e){return t(e).compile()})}})}),ev=factory_factory("Help",["parse"],e=>{var{parse:r}=e;function Help(e){if(!(this instanceof Help))throw SyntaxError("Constructor must be called with the new operator");if(!e)throw Error('Argument "doc" missing');this.doc=e}return Help.prototype.type="Help",Help.prototype.isHelp=!0,Help.prototype.toString=function(){var e=this.doc||{},t="\n";if(e.name&&(t+="Name: "+e.name+"\n\n"),e.category&&(t+="Category: "+e.category+"\n\n"),e.description&&(t+="Description:\n    "+e.description+"\n\n"),e.syntax&&(t+="Syntax:\n    "+e.syntax.join("\n    ")+"\n\n"),e.examples){t+="Examples:\n";for(var n={},a=0;a<e.examples.length;a++){var o=e.examples[a];t+="    "+o+"\n";var s=void 0;try{s=r(o).compile().evaluate(n)}catch(e){s=e}void 0===s||isHelp(s)||(t+="        "+string_format(s,{precision:14})+"\n")}t+="\n"}return e.mayThrow&&e.mayThrow.length&&(t+="Throws: "+e.mayThrow.join(", ")+"\n\n"),e.seealso&&e.seealso.length&&(t+="See also: "+e.seealso.join(", ")+"\n"),t},Help.prototype.toJSON=function(){var e=object_clone(this.doc);return e.mathjs="Help",e},Help.fromJSON=function(e){var r={};return Object.keys(e).filter(e=>"mathjs"!==e).forEach(t=>{r[t]=e[t]}),new Help(r)},Help.prototype.valueOf=Help.prototype.toString,Help},{isClass:!0}),ex="leafCount",eb=factory_factory(ex,["parse","typed"],e=>{var{parse:r,typed:t}=e;return t(ex,{Node:function(e){return function countLeaves(e){var r=0;return e.forEach(e=>{r+=countLeaves(e)}),r||1}(e)}})}),eN="simplifyCore",ew=factory_factory(eN,["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],e=>{var{typed:r,parse:t,equal:n,isZero:a,add:o,subtract:s,multiply:u,divide:c,pow:l,AccessorNode:p,ArrayNode:m,ConstantNode:h,FunctionNode:g,IndexNode:y,ObjectNode:v,OperatorNode:x,ParenthesisNode:b,SymbolNode:N}=e,w=new h(0),_=new h(1),D=new h(!0),E=new h(!1);function isAlwaysBoolean(e){return isOperatorNode(e)&&["and","not","or"].includes(e.op)}var{hasProperty:A,isCommutative:C}=eh({FunctionNode:g,OperatorNode:x,SymbolNode:N});function _simplifyCore(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=r?r.context:void 0;if(A(e,"trivial",t)){if(isFunctionNode(e)&&1===e.args.length)return _simplifyCore(e.args[0],r);var o=!1,s=0;if(e.forEach(e=>{1==++s&&(o=_simplifyCore(e,r))}),1===s)return o}var u=e;if(isFunctionNode(u)){var c=function(e){var r="OperatorNode:"+e;for(var t of S)if(r in t)return t[r].op;return null}(u.name);if(!c)return new g(_simplifyCore(u.fn),u.args.map(e=>_simplifyCore(e,r)));if(u.args.length>2&&A(u,"associative",t))for(;u.args.length>2;){var l=u.args.pop(),h=u.args.pop();u.args.push(new x(c,u.name,[l,h]))}u=new x(c,u.name,u.args)}if(isOperatorNode(u)&&u.isUnary()){var b=_simplifyCore(u.args[0],r);if("~"===u.op&&isOperatorNode(b)&&b.isUnary()&&"~"===b.op||"not"===u.op&&isOperatorNode(b)&&b.isUnary()&&"not"===b.op&&isAlwaysBoolean(b.args[0]))return b.args[0];var N=!0;if("-"===u.op&&isOperatorNode(b)&&(b.isBinary()&&"subtract"===b.fn&&(u=new x("-","subtract",[b.args[1],b.args[0]]),N=!1),b.isUnary()&&"-"===b.op))return b.args[0];if(N)return new x(u.op,u.fn,[b])}if(isOperatorNode(u)&&u.isBinary()){var M=_simplifyCore(u.args[0],r),F=_simplifyCore(u.args[1],r);if("+"===u.op){if(isConstantNode(M)&&a(M.value))return F;if(isConstantNode(F)&&a(F.value))return M;isOperatorNode(F)&&F.isUnary()&&"-"===F.op&&(F=F.args[0],u=new x("-","subtract",[M,F]))}if("-"===u.op)return isOperatorNode(F)&&F.isUnary()&&"-"===F.op?_simplifyCore(new x("+","add",[M,F.args[0]]),r):isConstantNode(M)&&a(M.value)?_simplifyCore(new x("-","unaryMinus",[F])):isConstantNode(F)&&a(F.value)?M:new x(u.op,u.fn,[M,F]);if("*"===u.op){if(isConstantNode(M)){if(a(M.value))return w;if(n(M.value,1))return F}if(isConstantNode(F)){if(a(F.value))return w;if(n(F.value,1))return M;if(C(u,t))return new x(u.op,u.fn,[F,M],u.implicit)}return new x(u.op,u.fn,[M,F],u.implicit)}if("/"===u.op)return isConstantNode(M)&&a(M.value)?w:isConstantNode(F)&&n(F.value,1)?M:new x(u.op,u.fn,[M,F]);if("^"===u.op&&isConstantNode(F)){if(a(F.value))return _;if(n(F.value,1))return M}if("and"===u.op){if(isConstantNode(M)){if(!M.value)return E;if(isAlwaysBoolean(F))return F}if(isConstantNode(F)){if(!F.value)return E;if(isAlwaysBoolean(M))return M}}if("or"===u.op){if(isConstantNode(M)){if(M.value)return D;if(isAlwaysBoolean(F))return F}if(isConstantNode(F)){if(F.value)return D;if(isAlwaysBoolean(M))return M}}return new x(u.op,u.fn,[M,F])}if(isOperatorNode(u))return new x(u.op,u.fn,u.args.map(e=>_simplifyCore(e,r)));if(isArrayNode(u))return new m(u.items.map(e=>_simplifyCore(e,r)));if(isAccessorNode(u))return new p(_simplifyCore(u.object,r),_simplifyCore(u.index,r));if(isIndexNode(u))return new y(u.dimensions.map(e=>_simplifyCore(e,r)));if(isObjectNode(u)){var T={};for(var O in u.properties)T[O]=_simplifyCore(u.properties[O],r);return new v(T)}return u}return r(eN,{Node:_simplifyCore,"Node,Object":_simplifyCore})}),e_="evaluate",eD=factory_factory(e_,["typed","parse"],e=>{var{typed:r,parse:t}=e;return r(e_,{string:function(e){var r=createEmptyMap();return t(e).compile().evaluate(r)},"string, Map | Object":function(e,r){return t(e).compile().evaluate(r)},"Array | Matrix":function(e){var r=createEmptyMap();return deepMap(e,function(e){return t(e).compile().evaluate(r)})},"Array | Matrix, Map | Object":function(e,r){return deepMap(e,function(e){return t(e).compile().evaluate(r)})}})}),eE={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},eA={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},eC={bignumber:{name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]},boolean:{name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},complex:{name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},createUnit:{name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},fraction:{name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},index:{name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]},matrix:{name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},number:{name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]},sparse:{name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},splitUnit:{name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},string:{name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},unit:{name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},e:eE,E:eE,false:{name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},i:{name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},Infinity:{name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},LN2:{name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},LN10:{name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},LOG2E:{name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},LOG10E:{name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},NaN:{name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},null:{name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},pi:eA,PI:eA,phi:{name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},SQRT1_2:{name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},SQRT2:{name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},tau:{name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},true:{name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},version:{name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:{name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},lsolve:{name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},lsolveAll:{name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},lup:{name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},lusolve:{name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},leafCount:{name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},polynomialRoot:{name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]},resolve:{name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},simplify:{name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},simplifyConstant:{name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},simplifyCore:{name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},symbolicEqual:{name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},rationalize:{name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},slu:{name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},usolve:{name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},usolveAll:{name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},qr:{name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},abs:{name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},add:{name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},cbrt:{name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},ceil:{name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]},cube:{name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},divide:{name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},dotDivide:{name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},dotMultiply:{name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},dotPow:{name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},exp:{name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},expm:{name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},expm1:{name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},fix:{name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]},floor:{name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]},gcd:{name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},hypot:{name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},lcm:{name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},log:{name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},log2:{name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},log1p:{name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},log10:{name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},mod:{name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},multiply:{name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},norm:{name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},nthRoot:{name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},nthRoots:{name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},pow:{name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},round:{name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]},sign:{name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},sqrt:{name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},sqrtm:{name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},square:{name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},subtract:{name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},unaryMinus:{name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},unaryPlus:{name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},xgcd:{name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},invmod:{name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax ≣ 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]},bitAnd:{name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitNot:{name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitOr:{name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},bitXor:{name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},leftShift:{name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},rightArithShift:{name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},rightLogShift:{name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},bellNumbers:{name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},catalan:{name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},composition:{name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},stirlingS2:{name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},config:{name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},import:{name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},typed:{name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]},arg:{name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},conj:{name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},re:{name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},im:{name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},evaluate:{name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]},help:{name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},distance:{name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},intersect:{name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},and:{name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},not:{name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},or:{name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},xor:{name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},concat:{name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},count:{name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},cross:{name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},column:{name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},ctranspose:{name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},det:{name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diag:{name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diff:{name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]},dot:{name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},getMatrixDataType:{name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},identity:{name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},filter:{name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},flatten:{name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},forEach:{name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},inv:{name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},pinv:{name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore–Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},eigs:{name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false }"],seealso:["inv"]},kron:{name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},matrixFromFunction:{name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},matrixFromRows:{name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},matrixFromColumns:{name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},map:{name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]},ones:{name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},partitionSelect:{name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]},range:{name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},resize:{name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},reshape:{name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},rotate:{name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},rotationMatrix:{name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},row:{name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},size:{name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},sort:{name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},squeeze:{name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},subset:{name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},trace:{name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},transpose:{name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},zeros:{name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},fft:{name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},ifft:{name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},sylvester:{name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]},schur:{name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]},lyap:{name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]},solveODE:{name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]},combinations:{name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},combinationsWithRep:{name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},factorial:{name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},gamma:{name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},kldivergence:{name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},lgamma:{name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},multinomial:{name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},permutations:{name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},pickRandom:{name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},random:{name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},randomInt:{name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},compare:{name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},compareNatural:{name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},compareText:{name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},deepEqual:{name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},equal:{name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},equalText:{name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},larger:{name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},largerEq:{name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},smaller:{name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},smallerEq:{name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},unequal:{name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},setCartesian:{name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},setDifference:{name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},setDistinct:{name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},setIntersect:{name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},setIsSubset:{name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},setMultiplicity:{name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},setPowerset:{name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},setSize:{name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},setSymDifference:{name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},setUnion:{name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},zpk2tf:{name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]},freqz:{name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]},erf:{name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},zeta:{name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemanns Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]},cumsum:{name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},mad:{name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},max:{name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},mean:{name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},median:{name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},min:{name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},mode:{name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},prod:{name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},quantileSeq:{name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},std:{name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},sum:{name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]},variance:{name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},corr:{name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]},acos:{name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},acosh:{name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},acot:{name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},acoth:{name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},acsc:{name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},acsch:{name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},asec:{name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},asech:{name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},asin:{name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},asinh:{name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},atan:{name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},atanh:{name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},atan2:{name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},cos:{name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},cosh:{name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},cot:{name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},coth:{name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},csc:{name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},csch:{name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},sec:{name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},sech:{name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},sin:{name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},sinh:{name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},tan:{name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},tanh:{name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},to:{name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},clone:{name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},format:{name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},bin:{name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},oct:{name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},hex:{name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},isNaN:{name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isInteger:{name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isNegative:{name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},isNumeric:{name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},hasNumericValue:{name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},isPositive:{name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isPrime:{name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isZero:{name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},print:{name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]},typeOf:{name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},numeric:{name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","fraction","bignumber","string","format"]}},eS="help",eM=factory_factory(eS,["typed","mathWithTransform","Help"],e=>{var{typed:r,mathWithTransform:t,Help:n}=e;return r(eS,{any:function(e){var r,a=e;if("string"!=typeof e){for(r in t)if(object_hasOwnProperty(t,r)&&e===t[r]){a=r;break}}var o=getSafeProperty(eC,a);if(!o)throw Error('No documentation found on "'+("function"==typeof a?a.name:a)+'"');return new n(o)}})}),eF=factory_factory("Parser",["evaluate"],e=>{var{evaluate:r}=e;function Parser(){if(!(this instanceof Parser))throw SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:createEmptyMap(),writable:!1})}return Parser.prototype.type="Parser",Parser.prototype.isParser=!0,Parser.prototype.evaluate=function(e){return r(e,this.scope)},Parser.prototype.get=function(e){if(this.scope.has(e))return this.scope.get(e)},Parser.prototype.getAll=function(){return function(e){if(e instanceof ObjectWrappingMap)return e.wrappedObject;var r={};for(var t of e.keys()){var n=e.get(t);setSafeProperty(r,t,n)}return r}(this.scope)},Parser.prototype.getAllAsMap=function(){return this.scope},Parser.prototype.set=function(e,r){return this.scope.set(e,r),r},Parser.prototype.remove=function(e){this.scope.delete(e)},Parser.prototype.clear=function(){this.scope.clear()},Parser},{isClass:!0});function isNumericNode(e){return isConstantNode(e)||isOperatorNode(e)&&e.isUnary()&&isConstantNode(e.args[0])}function isConstantExpression(e){return!!(isConstantNode(e)||(isFunctionNode(e)||isOperatorNode(e))&&e.args.every(isConstantExpression)||isParenthesisNode(e)&&isConstantExpression(e.content))}var eT=factory_factory("simplify",["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","resolve","simplifyConstant","simplifyCore","?fraction","?bignumber","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],e=>{var{config:r,typed:t,parse:n,add:a,subtract:o,multiply:s,divide:u,pow:c,isZero:l,equal:p,resolve:m,simplifyConstant:h,simplifyCore:g,fraction:y,bignumber:v,mathWithTransform:x,matrix:b,AccessorNode:N,ArrayNode:w,ConstantNode:_,FunctionNode:D,IndexNode:E,ObjectNode:A,OperatorNode:C,ParenthesisNode:S,SymbolNode:M}=e,{hasProperty:F,isCommutative:T,isAssociative:O,mergeContext:B,flatten:k,unflattenr:I,unflattenl:P,createMakeNodeFunction:z,defaultContext:R,realContext:q,positiveContext:j}=eh({FunctionNode:D,OperatorNode:C,SymbolNode:M});t.addConversion({from:"Object",to:"Map",convert:createMap});var U=t("simplify",{Node:_simplify,"Node, Map":(e,r)=>_simplify(e,!1,r),"Node, Map, Object":(e,r,t)=>_simplify(e,!1,r,t),"Node, Array":_simplify,"Node, Array, Map":_simplify,"Node, Array, Map, Object":_simplify});function removeParens(e){return e.transform(function(e,r,t){return isParenthesisNode(e)?removeParens(e.content):e})}t.removeConversion({from:"Object",to:"Map",convert:createMap}),U.defaultContext=R,U.realContext=q,U.positiveContext=j;var L={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};U.rules=[g,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},h,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},h,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];var H=0;function _getExpandPlaceholderSymbol(){return new M("_p"+H++)}function _simplify(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:createEmptyMap(),a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=a.consoleDebug;r=function(e,r){for(var t=[],a=0;a<e.length;a++){var o=e[a],s=void 0,u=typeof o;switch(u){case"string":o={s:o};case"object":s=function(e,r){var t={};if(e.s){var a=e.s.split("->");if(2===a.length)t.l=a[0],t.r=a[1];else throw SyntaxError("Could not parse rule: "+e.s)}else t.l=e.l,t.r=e.r;for(var o of(t.l=removeParens(n(t.l)),t.r=removeParens(n(t.r)),["imposeContext","repeat","assuming"]))o in e&&(t[o]=e[o]);if(e.evaluate&&(t.evaluate=n(e.evaluate)),O(t.l,r)){var s,u=!T(t.l,r);u&&(s=_getExpandPlaceholderSymbol());var c=z(t.l),l=_getExpandPlaceholderSymbol();t.expanded={},t.expanded.l=c([t.l,l]),k(t.expanded.l,r),I(t.expanded.l,r),t.expanded.r=c([t.r,l]),u&&(t.expandedNC1={},t.expandedNC1.l=c([s,t.l]),t.expandedNC1.r=c([s,t.r]),t.expandedNC2={},t.expandedNC2.l=c([s,t.expanded.l]),t.expandedNC2.r=c([s,t.expanded.r]))}return t}(o,r);break;case"function":s=o;break;default:throw TypeError("Unsupported type of rule: "+u)}t.push(s)}return t}(r||U.rules,a.context);var s=m(e,t);s=removeParens(s);for(var u={},c=s.toString({parenthesis:"all"});!u[c];){u[c]=!0,H=0;var l=c;o&&console.log("Working on: ",c);for(var p=0;p<r.length;p++){var h="";if("function"==typeof r[p]?(s=r[p](s,a),o&&(h=r[p].name)):(k(s,a.context),s=applyRule(s,r[p],a.context),o&&(h="".concat(r[p].l.toString()," -> ").concat(r[p].r.toString()))),o){var g=s.toString({parenthesis:"all"});g!==l&&(console.log("Applying",h,"produced",g),l=g)}P(s,a.context)}c=s.toString({parenthesis:"all"})}return s}function mapRule(e,r,t){var n=e;if(e)for(var a=0;a<e.length;++a){var o=applyRule(e[a],r,t);o!==e[a]&&(n===e&&(n=e.slice()),n[a]=o)}return n}function applyRule(e,r,t){if(r.assuming){for(var n in r.assuming)for(var a in r.assuming[n])if(F(n,a,t)!==r.assuming[n][a])return e}var o=B(r.imposeContext,t),s=e;if(s instanceof C||s instanceof D){var u=mapRule(s.args,r,t);u!==s.args&&((s=s.clone()).args=u)}else if(s instanceof S){if(s.content){var c=applyRule(s.content,r,t);c!==s.content&&(s=new S(c))}}else if(s instanceof w){var l=mapRule(s.items,r,t);l!==s.items&&(s=new w(l))}else if(s instanceof N){var p=s.object;s.object&&(p=applyRule(s.object,r,t));var m=s.index;s.index&&(m=applyRule(s.index,r,t)),(p!==s.object||m!==s.index)&&(s=new N(p,m))}else if(s instanceof E){var h=mapRule(s.dimensions,r,t);h!==s.dimensions&&(s=new E(h))}else if(s instanceof A){var g=!1,y={};for(var v in s.properties)y[v]=applyRule(s.properties[v],r,t),y[v]!==s.properties[v]&&(g=!0);g&&(s=new A(y))}var x=r.r,b=_ruleMatch(r.l,s,o)[0];if(!b&&r.expanded&&(x=r.expanded.r,b=_ruleMatch(r.expanded.l,s,o)[0]),b||!r.expandedNC1||(x=r.expandedNC1.r,(b=_ruleMatch(r.expandedNC1.l,s,o)[0])||(x=r.expandedNC2.r,b=_ruleMatch(r.expandedNC2.l,s,o)[0])),b){var _=s.implicit;s=x.clone(),_&&"implicit"in x&&(s.implicit=!0),s=s.transform(function(e){return e.isSymbolNode&&object_hasOwnProperty(b.placeholders,e.name)?b.placeholders[e.name].clone():e})}return r.repeat&&s!==e&&(s=applyRule(s,r,t)),s}function combineChildMatches(e,r){var t,n=[];if(0===e.length||0===r.length)return n;for(var a=0;a<e.length;a++)for(var o=0;o<r.length;o++)(t=function(e,r){var t={placeholders:{}};if(!e.placeholders&&!r.placeholders)return t;if(!e.placeholders)return r;if(!r.placeholders)return e;for(var n in e.placeholders)if(object_hasOwnProperty(e.placeholders,n)&&(t.placeholders[n]=e.placeholders[n],object_hasOwnProperty(r.placeholders,n)&&!function _exactMatch(e,r){if(e instanceof _&&r instanceof _){if(!p(e.value,r.value))return!1}else if(e instanceof M&&r instanceof M){if(e.name!==r.name)return!1}else{if((!(e instanceof C)||!(r instanceof C))&&(!(e instanceof D)||!(r instanceof D)))return!1;if(e instanceof C){if(e.op!==r.op||e.fn!==r.fn)return!1}else if(e instanceof D&&e.name!==r.name)return!1;if(e.args.length!==r.args.length)return!1;for(var t=0;t<e.args.length;t++)if(!_exactMatch(e.args[t],r.args[t]))return!1}return!0}(e.placeholders[n],r.placeholders[n])))return null;for(var a in r.placeholders)object_hasOwnProperty(r.placeholders,a)&&(t.placeholders[a]=r.placeholders[a]);return t}(e[a],r[o]))&&n.push(t);return n}function _ruleMatch(e,r,t,n){var a=[{placeholders:{}}];if(e instanceof C&&r instanceof C||e instanceof D&&r instanceof D){if(e instanceof C){if(e.op!==r.op||e.fn!==r.fn)return[]}else if(e instanceof D&&e.name!==r.name)return[];if(1===r.args.length&&1===e.args.length||!O(r,t)&&r.args.length===e.args.length||n){for(var o=[],s=0;s<e.args.length;s++){var u=_ruleMatch(e.args[s],r.args[s],t);if(0===u.length)break;o.push(u)}if(o.length!==e.args.length){if(!T(r,t)||1===e.args.length)return[];if(e.args.length>2)throw Error("permuting >2 commutative non-associative rule arguments not yet implemented");var c=_ruleMatch(e.args[0],r.args[1],t);if(0===c.length)return[];var l=_ruleMatch(e.args[1],r.args[0],t);if(0===l.length)return[];o=[c,l]}a=function(e){if(0===e.length)return e;for(var r=e.reduce(combineChildMatches),t=[],n={},a=0;a<r.length;a++){var o=JSON.stringify(r[a]);n[o]||(n[o]=!0,t.push(r[a]))}return t}(o)}else if(r.args.length>=2&&2===e.args.length){for(var m=function(e,r){var t,n,a=[],o=z(e);if(T(e,r))for(var s=0;s<e.args.length;s++)(n=e.args.slice(0)).splice(s,1),t=1===n.length?n[0]:o(n),a.push(o([e.args[s],t]));else for(var u=1;u<e.args.length;u++){var c=e.args[0];u>1&&(c=o(e.args.slice(0,u))),t=1===(n=e.args.slice(u)).length?n[0]:o(n),a.push(o([c,t]))}return a}(r,t),h=[],g=0;g<m.length;g++){var y=_ruleMatch(e,m[g],t,!0);h=h.concat(y)}return h}else if(!(e.args.length>2))return[];else throw Error("Unexpected non-binary associative function: "+e.toString())}else if(e instanceof M){if(0===e.name.length)throw Error("Symbol in rule has 0 length...!?");if(L[e.name]){if(e.name!==r.name)return[]}else switch(e.name[1]>="a"&&e.name[1]<="z"?e.name.substring(0,2):e.name[0]){case"n":case"_p":a[0].placeholders[e.name]=r;break;case"c":case"cl":if(!isConstantNode(r))return[];a[0].placeholders[e.name]=r;break;case"v":if(isConstantNode(r))return[];a[0].placeholders[e.name]=r;break;case"vl":if(!isSymbolNode(r))return[];a[0].placeholders[e.name]=r;break;case"cd":if(!isNumericNode(r))return[];a[0].placeholders[e.name]=r;break;case"vd":if(isNumericNode(r))return[];a[0].placeholders[e.name]=r;break;case"ce":if(!isConstantExpression(r))return[];a[0].placeholders[e.name]=r;break;case"ve":if(isConstantExpression(r))return[];a[0].placeholders[e.name]=r;break;default:throw Error("Invalid symbol in rule: "+e.name)}}else if(!(e instanceof _))return[];else if(!p(e.value,r.value))return[];return a}return U}),eO="symbolicEqual",eB=factory_factory(eO,["parse","simplify","typed","OperatorNode"],e=>{var{parse:r,simplify:t,typed:n,OperatorNode:a}=e;function _symbolicEqual(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t(new a("-","subtract",[e,r]),{},n);return isConstantNode(o)&&!o.value}return n(eO,{"Node, Node":_symbolicEqual,"Node, Node, Object":_symbolicEqual})}),ek="parser",eI=factory_factory(ek,["typed","Parser"],e=>{var{typed:r,Parser:t}=e;return r(ek,{"":function(){return new t}})}),eP="rationalize",ez=factory_factory(eP,["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],e=>{var{config:r,typed:t,equal:n,isZero:a,add:o,subtract:s,multiply:u,divide:c,pow:l,parse:p,simplifyConstant:m,simplifyCore:h,simplify:g,fraction:y,bignumber:v,mathWithTransform:x,matrix:b,AccessorNode:N,ArrayNode:w,ConstantNode:_,FunctionNode:D,IndexNode:E,ObjectNode:A,OperatorNode:C,SymbolNode:S,ParenthesisNode:M}=e;function _rationalize(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(c=[h,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},m,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],l=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],p=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],(y={}).firstRules=c.concat(l,p),y.distrDivRules=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],y.sucDivRules=p,y.firstRulesAgain=c.concat(l),y.finalRules=[h,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},m,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],y),a=(v=e,x=!0,b=n.firstRules,N=[],w=g(v,b,r,{exactFractions:!1}),D="+-*"+((x=!!x)?"/":""),!function recPoly(e){var r=e.type;if("FunctionNode"===r)throw Error("There is an unsolved function call");if("OperatorNode"===r){if("^"===e.op){if("ConstantNode"===e.args[1].type&&isInteger(parseFloat(e.args[1].value)))recPoly(e.args[0]);else throw Error("There is a non-integer exponent")}else{if(-1===D.indexOf(e.op))throw Error("Operator "+e.op+" invalid in polynomial expression");for(var t=0;t<e.args.length;t++)recPoly(e.args[t])}}else if("SymbolNode"===r){var n=e.name;-1===N.indexOf(n)&&N.push(n)}else if("ParenthesisNode"===r)recPoly(e.content);else if("ConstantNode"!==r)throw Error("type "+r+" is not allowed in polynomial expression")}(w),(E={}).expression=w,E.variables=N,E),o=a.variables.length,s={exactFractions:!1},u={exactFractions:!0};if(e=a.expression,o>=1){e=function expandPower(e,r,t){var n=e.type,a=arguments.length>1;if("OperatorNode"===n&&e.isBinary()){var o,s=!1;if("^"===e.op&&("ParenthesisNode"===e.args[0].type||"OperatorNode"===e.args[0].type)&&"ConstantNode"===e.args[1].type&&(s=(o=parseFloat(e.args[1].value))>=2&&isInteger(o)),s){if(o>2){var u=e.args[0],c=new C("^","pow",[e.args[0].cloneDeep(),new _(o-1)]);e=new C("*","multiply",[u,c])}else e=new C("*","multiply",[e.args[0],e.args[0].cloneDeep()]);a&&("content"===t?r.content=e:r.args[t]=e)}}if("ParenthesisNode"===n)expandPower(e.content,e,"content");else if("ConstantNode"!==n&&"SymbolNode"!==n)for(var l=0;l<e.args.length;l++)expandPower(e.args[l],e,l);if(!a)return e}(e);var c,l,p,y,v,x,b,N,w,D,E,A,S,M=!0,F=!1;for(e=g(e,n.firstRules,{},s);e=g(e,M?n.distrDivRules:n.sucDivRules,{},u),M=!M,(S=e.toString())!==A;)F=!0,A=S;F&&(e=g(e,n.firstRulesAgain,{},s)),e=g(e,n.finalRules,{},s)}var T=[],O={};return("OperatorNode"===e.type&&e.isBinary()&&"/"===e.op?(1===o&&(e.args[0]=polyToCanonical(e.args[0],T),e.args[1]=polyToCanonical(e.args[1])),t&&(O.numerator=e.args[0],O.denominator=e.args[1])):(1===o&&(e=polyToCanonical(e,T)),t&&(O.numerator=e,O.denominator=null)),t)?(O.coefficients=T,O.variables=a.variables,O.expression=e,O):e}return t(eP,{Node:_rationalize,"Node, boolean":(e,r)=>_rationalize(e,{},r),"Node, Object":_rationalize,"Node, Object, boolean":_rationalize});function polyToCanonical(e,r){void 0===r&&(r=[]),r[0]=0;var t,n={};n.cte=1,n.oper="+",n.fire="";var a=0,o="";(function recurPol(e,t,n){var s=e.type;if("FunctionNode"===s)throw Error("There is an unsolved function call");if("OperatorNode"===s){if(-1==="+-*^".indexOf(e.op))throw Error("Operator "+e.op+" invalid");if(null!==t&&(("unaryMinus"===e.fn||"pow"===e.fn)&&"add"!==t.fn&&"subtract"!==t.fn&&"multiply"!==t.fn||("subtract"===e.fn||"add"===e.fn||"multiply"===e.fn)&&"add"!==t.fn&&"subtract"!==t.fn||("subtract"===e.fn||"add"===e.fn||"unaryMinus"===e.fn)&&0!==n.noFil))throw Error("Invalid "+e.op+" placing");("^"===e.op||"*"===e.op)&&(n.fire=e.op);for(var u=0;u<e.args.length;u++)"unaryMinus"===e.fn&&(n.oper="-"),("+"===e.op||"subtract"===e.fn)&&(n.fire="",n.cte=1,n.oper=0===u?"+":e.op),n.noFil=u,recurPol(e.args[u],e,n)}else if("SymbolNode"===s){if(e.name!==o&&""!==o)throw Error("There is more than one variable");if(o=e.name,null===t){r[1]=1;return}if("^"===t.op&&0!==n.noFil)throw Error("In power the variable should be the first parameter");if("*"===t.op&&1!==n.noFil)throw Error("In multiply the variable should be the second parameter");(""===n.fire||"*"===n.fire)&&(a<1&&(r[1]=0),r[1]+=n.cte*("+"===n.oper?1:-1),a=Math.max(1,a))}else if("ConstantNode"===s){var c=parseFloat(e.value);if(null===t){r[0]=c;return}if("^"===t.op){if(1!==n.noFil)throw Error("Constant cannot be powered");if(!isInteger(c)||c<=0)throw Error("Non-integer exponent is not allowed");for(var l=a+1;l<c;l++)r[l]=0;c>a&&(r[c]=0),r[c]+=n.cte*("+"===n.oper?1:-1),a=Math.max(c,a);return}n.cte=c,""===n.fire&&(r[0]+=n.cte*("+"===n.oper?1:-1))}else throw Error("Type "+s+" is not allowed")})(e,null,n),a=r.length-1;for(var s=!0,u=a;u>=0;u--)if(0!==r[u]){var c=new _(s?r[u]:Math.abs(r[u])),l=r[u]<0?"-":"+";if(u>0){var p=new S(o);if(u>1){var m=new _(u);p=new C("^","pow",[p,m])}c=-1===r[u]&&s?new C("-","unaryMinus",[p]):1===Math.abs(r[u])?p:new C("*","multiply",[c,p])}t=s?c:"+"===l?new C("+","add",[t,c]):new C("-","subtract",[t,c]),s=!1}return s?new _(0):t}}),eR="derivative",ej=factory_factory(eR,["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],e=>{var{typed:r,config:t,parse:n,simplify:a,equal:o,isZero:s,numeric:u,ConstantNode:c,FunctionNode:l,OperatorNode:p,ParenthesisNode:m,SymbolNode:h}=e;function plainDerivative(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{simplify:!0},n={};v(n,e,r.name);var o=x(e,n);return t.simplify?a(o):o}r.addConversion({from:"identifier",to:"SymbolNode",convert:n});var g=r(eR,{"Node, SymbolNode":plainDerivative,"Node, SymbolNode, Object":plainDerivative});r.removeConversion({from:"identifier",to:"SymbolNode",convert:n}),g._simplify=!0,g.toTex=function(e){return y.apply(null,e.args)};var y=r("_derivTex",{"Node, SymbolNode":function(e,r){return isConstantNode(e)&&"string"===typeOf(e.value)?y(n(e.value).toString(),r.toString(),1):y(e.toTex(),r.toString(),1)},"Node, ConstantNode":function(e,r){if("string"===typeOf(r.value))return y(e,n(r.value));throw Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(e,r,t){return y(e.toString(),r.name,t.value)},"string, string, number":function(e,r,t){return(1===t?"{d\\over d"+r+"}":"{d^{"+t+"}\\over d"+r+"^{"+t+"}}")+"\\left[".concat(e,"\\right]")}}),v=r("constTag",{"Object, ConstantNode, string":function(e,r){return e[r]=!0,!0},"Object, SymbolNode, string":function(e,r,t){return r.name!==t&&(e[r]=!0,!0)},"Object, ParenthesisNode, string":function(e,r,t){return v(e,r.content,t)},"Object, FunctionAssignmentNode, string":function(e,r,t){return -1===r.params.indexOf(t)?(e[r]=!0,!0):v(e,r.expr,t)},"Object, FunctionNode | OperatorNode, string":function(e,r,t){if(r.args.length>0){for(var n=v(e,r.args[0],t),a=1;a<r.args.length;++a)n=v(e,r.args[a],t)&&n;if(n)return e[r]=!0,!0}return!1}}),x=r("_derivative",{"ConstantNode, Object":function(e){return createConstantNode(0)},"SymbolNode, Object":function(e,r){return void 0!==r[e]?createConstantNode(0):createConstantNode(1)},"ParenthesisNode, Object":function(e,r){return new m(x(e.content,r))},"FunctionAssignmentNode, Object":function(e,r){return void 0!==r[e]?createConstantNode(0):x(e.expr,r)},"FunctionNode, Object":function(e,r){if(void 0!==r[e])return createConstantNode(0);var t,n,a,o,s=e.args[0],u=!1,c=!1;switch(e.name){case"cbrt":u=!0,n=new p("*","multiply",[createConstantNode(3),new p("^","pow",[s,new p("/","divide",[createConstantNode(2),createConstantNode(3)])])]);break;case"sqrt":case"nthRoot":if(1===e.args.length)u=!0,n=new p("*","multiply",[createConstantNode(2),new l("sqrt",[s])]);else if(2===e.args.length)return r[t=new p("/","divide",[createConstantNode(1),e.args[1]])]=r[e.args[1]],x(new p("^","pow",[s,t]),r);break;case"log10":t=createConstantNode(10);case"log":if(t||1!==e.args.length){if(1===e.args.length&&t||2===e.args.length&&void 0!==r[e.args[1]])n=new p("*","multiply",[s.clone(),new l("log",[t||e.args[1]])]),u=!0;else if(2===e.args.length)return x(new p("/","divide",[new l("log",[s]),new l("log",[e.args[1]])]),r)}else n=s.clone(),u=!0;break;case"pow":if(2===e.args.length)return r[t]=r[e.args[1]],x(new p("^","pow",[s,e.args[1]]),r);break;case"exp":n=new l("exp",[s.clone()]);break;case"sin":n=new l("cos",[s.clone()]);break;case"cos":n=new p("-","unaryMinus",[new l("sin",[s.clone()])]);break;case"tan":n=new p("^","pow",[new l("sec",[s.clone()]),createConstantNode(2)]);break;case"sec":n=new p("*","multiply",[e,new l("tan",[s.clone()])]);break;case"csc":c=!0,n=new p("*","multiply",[e,new l("cot",[s.clone()])]);break;case"cot":c=!0,n=new p("^","pow",[new l("csc",[s.clone()]),createConstantNode(2)]);break;case"asin":u=!0,n=new l("sqrt",[new p("-","subtract",[createConstantNode(1),new p("^","pow",[s.clone(),createConstantNode(2)])])]);break;case"acos":u=!0,c=!0,n=new l("sqrt",[new p("-","subtract",[createConstantNode(1),new p("^","pow",[s.clone(),createConstantNode(2)])])]);break;case"atan":u=!0,n=new p("+","add",[new p("^","pow",[s.clone(),createConstantNode(2)]),createConstantNode(1)]);break;case"asec":u=!0,n=new p("*","multiply",[new l("abs",[s.clone()]),new l("sqrt",[new p("-","subtract",[new p("^","pow",[s.clone(),createConstantNode(2)]),createConstantNode(1)])])]);break;case"acsc":u=!0,c=!0,n=new p("*","multiply",[new l("abs",[s.clone()]),new l("sqrt",[new p("-","subtract",[new p("^","pow",[s.clone(),createConstantNode(2)]),createConstantNode(1)])])]);break;case"acot":u=!0,c=!0,n=new p("+","add",[new p("^","pow",[s.clone(),createConstantNode(2)]),createConstantNode(1)]);break;case"sinh":n=new l("cosh",[s.clone()]);break;case"cosh":n=new l("sinh",[s.clone()]);break;case"tanh":n=new p("^","pow",[new l("sech",[s.clone()]),createConstantNode(2)]);break;case"sech":c=!0,n=new p("*","multiply",[e,new l("tanh",[s.clone()])]);break;case"csch":c=!0,n=new p("*","multiply",[e,new l("coth",[s.clone()])]);break;case"coth":c=!0,n=new p("^","pow",[new l("csch",[s.clone()]),createConstantNode(2)]);break;case"asinh":u=!0,n=new l("sqrt",[new p("+","add",[new p("^","pow",[s.clone(),createConstantNode(2)]),createConstantNode(1)])]);break;case"acosh":u=!0,n=new l("sqrt",[new p("-","subtract",[new p("^","pow",[s.clone(),createConstantNode(2)]),createConstantNode(1)])]);break;case"atanh":u=!0,n=new p("-","subtract",[createConstantNode(1),new p("^","pow",[s.clone(),createConstantNode(2)])]);break;case"asech":u=!0,c=!0,n=new p("*","multiply",[s.clone(),new l("sqrt",[new p("-","subtract",[createConstantNode(1),new p("^","pow",[s.clone(),createConstantNode(2)])])])]);break;case"acsch":u=!0,c=!0,n=new p("*","multiply",[new l("abs",[s.clone()]),new l("sqrt",[new p("+","add",[new p("^","pow",[s.clone(),createConstantNode(2)]),createConstantNode(1)])])]);break;case"acoth":u=!0,c=!0,n=new p("-","subtract",[createConstantNode(1),new p("^","pow",[s.clone(),createConstantNode(2)])]);break;case"abs":n=new p("/","divide",[new l(new h("abs"),[s.clone()]),s.clone()]);break;default:throw Error('Cannot process function "'+e.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}u?(a="/",o="divide"):(a="*",o="multiply");var m=x(s,r);return c&&(m=new p("-","unaryMinus",[m])),new p(a,o,[m,n])},"OperatorNode, Object":function(e,r){if(void 0!==r[e])return createConstantNode(0);if("+"===e.op)return new p(e.op,e.fn,e.args.map(function(e){return x(e,r)}));if("-"===e.op){if(e.isUnary())return new p(e.op,e.fn,[x(e.args[0],r)]);if(e.isBinary())return new p(e.op,e.fn,[x(e.args[0],r),x(e.args[1],r)])}if("*"===e.op){var t=e.args.filter(function(e){return void 0!==r[e]});if(t.length>0){var n=e.args.filter(function(e){return void 0===r[e]}),a=1===n.length?n[0]:new p("*","multiply",n),u=t.concat(x(a,r));return new p("*","multiply",u)}return new p("+","add",e.args.map(function(t){return new p("*","multiply",e.args.map(function(e){return e===t?x(e,r):e.clone()}))}))}if("/"===e.op&&e.isBinary()){var c=e.args[0],m=e.args[1];return void 0!==r[m]?new p("/","divide",[x(c,r),m]):void 0!==r[c]?new p("*","multiply",[new p("-","unaryMinus",[c]),new p("/","divide",[x(m,r),new p("^","pow",[m.clone(),createConstantNode(2)])])]):new p("/","divide",[new p("-","subtract",[new p("*","multiply",[x(c,r),m.clone()]),new p("*","multiply",[c.clone(),x(m,r)])]),new p("^","pow",[m.clone(),createConstantNode(2)])])}if("^"===e.op&&e.isBinary()){var h=e.args[0],g=e.args[1];if(void 0!==r[h])return isConstantNode(h)&&(s(h.value)||o(h.value,1))?createConstantNode(0):new p("*","multiply",[e,new p("*","multiply",[new l("log",[h.clone()]),x(g.clone(),r)])]);if(void 0!==r[g]){if(isConstantNode(g)){if(s(g.value))return createConstantNode(0);if(o(g.value,1))return x(h,r)}var y=new p("^","pow",[h.clone(),new p("-","subtract",[g,createConstantNode(1)])]);return new p("*","multiply",[g.clone(),new p("*","multiply",[x(h,r),y])])}return new p("*","multiply",[new p("^","pow",[h.clone(),g.clone()]),new p("+","add",[new p("*","multiply",[x(h,r),new p("/","divide",[g.clone(),h.clone()])]),new p("*","multiply",[x(g,r),new l("log",[h.clone()])])])])}throw Error('Cannot process operator "'+e.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function createConstantNode(e,r){return new c(u(e,r||t.number))}return g}),eU=t(4814);function applyCallback(e,r,t,n,a){if(!eU.isTypedFunction(e))return e(r,t,n);var o=[r,t,n],s=eU.resolve(e,o);if(s)return tryWithArgs(s.implementation,o);var u=[r,t],c=eU.resolve(e,u);if(c)return tryWithArgs(c.implementation,u);var l=[r],p=eU.resolve(e,l);return p?tryWithArgs(p.implementation,l):tryWithArgs(e,o);function tryWithArgs(o,s){try{return o.apply(o,s)}catch(o){var u;if(o instanceof TypeError&&(null===(u=o.data)||void 0===u?void 0:u.category)==="wrongType"){var c=[];throw c.push("value: ".concat(typeOf(r))),s.length>=2&&c.push("index: ".concat(typeOf(t))),s.length>=3&&c.push("array: ".concat(typeOf(n))),TypeError("Function ".concat(a," cannot apply callback arguments ")+"".concat(e.name,"(").concat(c.join(", "),") at index ").concat(JSON.stringify(t)))}throw TypeError("Function ".concat(a," cannot apply callback arguments ")+"to function ".concat(e.name,": ").concat(o.message))}}}function compileInlineExpression(e,r,t){var n=e.filter(function(e){return isSymbolNode(e)&&!(e.name in r)&&!t.has(e.name)})[0];if(!n)throw Error('No undefined variable found in inline expression "'+e+'"');var a=n.name,o=createSubScope(t),s=e.compile();return function(e){return o.set(a,e),s.evaluate(o)}}var eL=factory_factory("filter",["typed"],e=>{var{typed:r}=e;function filterTransform(e,r,n){var a,o;return e[0]&&(a=e[0].compile().evaluate(n)),e[1]&&(o=isSymbolNode(e[1])||isFunctionAssignmentNode(e[1])?e[1].compile().evaluate(n):compileInlineExpression(e[1],r,n)),t(a,o)}filterTransform.rawArgs=!0;var t=r("filter",{"Array, function":_filter,"Matrix, function":function(e,r){return e.create(_filter(e.toArray(),r))},"Array, RegExp":filterRegExp,"Matrix, RegExp":function(e,r){return e.create(filterRegExp(e.toArray(),r))}});return filterTransform},{isTransformFunction:!0});function _filter(e,r){return filter(e,function(e,t,n){return applyCallback(r,e,[t+1],n,"filter")})}var eH=factory_factory("forEach",["typed"],e=>{var{typed:r}=e;function forEachTransform(e,r,n){var a,o;return e[0]&&(a=e[0].compile().evaluate(n)),e[1]&&(o=isSymbolNode(e[1])||isFunctionAssignmentNode(e[1])?e[1].compile().evaluate(n):compileInlineExpression(e[1],r,n)),t(a,o)}forEachTransform.rawArgs=!0;var t=r("forEach",{"Array | Matrix, function":function(e,r){!function recurse(t,n){if(!Array.isArray(t))return applyCallback(r,t,n,e,"forEach");forEach(t,function(e,r){recurse(e,n.concat(r+1))})}(e.valueOf(),[])}});return forEachTransform},{isTransformFunction:!0}),e$=factory_factory("map",["typed"],e=>{var{typed:r}=e;function mapTransform(e,r,n){var a,o;return e[0]&&(a=e[0].compile().evaluate(n)),e[1]&&(o=isSymbolNode(e[1])||isFunctionAssignmentNode(e[1])?e[1].compile().evaluate(n):compileInlineExpression(e[1],r,n)),t(a,o)}mapTransform.rawArgs=!0;var t=r("map",{"Array, function":function(e,r){return _map(e,r,e)},"Matrix, function":function(e,r){return e.create(_map(e.valueOf(),r,e))}});return mapTransform},{isTransformFunction:!0});function _map(e,r,t){return function recurse(e,n){return Array.isArray(e)?map(e,function(e,r){return recurse(e,n.concat(r+1))}):applyCallback(r,e,n,t,"map")}(e,[])}var eV="apply",eZ=factory_factory(eV,["typed","isInteger"],e=>{var{typed:r,isInteger:t}=e;return r(eV,{"Array | Matrix, number | BigNumber, function":function(e,r,n){if(!t(r))throw TypeError("Integer number expected for dimension");var a=Array.isArray(e)?arraySize(e):e.size();if(r<0||r>=a.length)throw new IndexError(r,a.length);return isMatrix(e)?e.create(_apply(e.valueOf(),r,n)):_apply(e,r,n)}})});function _apply(e,r,t){var n,a,o;if(r<=0){if(!Array.isArray(e[0]))return t(e);for(n=0,o=function(e){var r,t,n=e.length,a=e[0].length,o=[];for(t=0;t<a;t++){var s=[];for(r=0;r<n;r++)s.push(e[r][t]);o.push(s)}return o}(e),a=[];n<o.length;n++)a[n]=_apply(o[n],r-1,t);return a}for(n=0,a=[];n<e.length;n++)a[n]=_apply(e[n],r-1,t);return a}var eG=factory_factory("apply",["typed","isInteger"],e=>{var{typed:r,isInteger:t}=e,n=eZ({typed:r,isInteger:t});return r("apply",{"...any":function(e){var r=e[1];isNumber(r)?e[1]=r-1:isBigNumber(r)&&(e[1]=r.minus(1));try{return n.apply(null,e)}catch(e){throw errorTransform(e)}}})},{isTransformFunction:!0}),eW="concat",eY=factory_factory(eW,["typed","matrix","isInteger"],e=>{var{typed:r,matrix:t,isInteger:n}=e;return r(eW,{"...Array | Matrix | number | BigNumber":function(e){var r,a,o=e.length,s=-1,u=!1,c=[];for(r=0;r<o;r++){var l=e[r];if(isMatrix(l)&&(u=!0),isNumber(l)||isBigNumber(l)){if(r!==o-1)throw Error("Dimension must be specified as last argument");if(a=s,!n(s=l.valueOf()))throw TypeError("Integer number expected for dimension");if(s<0||r>0&&s>a)throw new IndexError(s,a+1)}else{var p=object_clone(l).valueOf(),m=arraySize(p);if(c[r]=p,a=s,s=m.length-1,r>0&&s!==a)throw new DimensionError(a+1,s+1)}}if(0===c.length)throw SyntaxError("At least one matrix expected");for(var h=c.shift();c.length;)h=concat(h,c.shift(),s);return u?t(h):h},"...string":function(e){return e.join("")}})}),eX=factory_factory("concat",["typed","matrix","isInteger"],e=>{var{typed:r,matrix:t,isInteger:n}=e,a=eY({typed:r,matrix:t,isInteger:n});return r("concat",{"...any":function(e){var r=e.length-1,t=e[r];isNumber(t)?e[r]=t-1:isBigNumber(t)&&(e[r]=t.minus(1));try{return a.apply(null,e)}catch(e){throw errorTransform(e)}}})},{isTransformFunction:!0});function improveErrorMessage(e,r,t){var n;return -1!==String(e).indexOf("Unexpected type")?(n=arguments.length>2?" (type: "+typeOf(t)+", value: "+JSON.stringify(t)+")":" (type: "+e.data.actual+")",TypeError("Cannot calculate "+r+", unexpected type of argument"+n)):-1!==String(e).indexOf("complex numbers")?(n=arguments.length>2?" (type: "+typeOf(t)+", value: "+JSON.stringify(t)+")":"",TypeError("Cannot calculate "+r+", no ordering relation is defined for complex numbers"+n)):e}var eJ=factory_factory("max",["typed","config","numeric","larger"],e=>{var{typed:r,config:t,numeric:n,larger:a}=e;return r("max",{"Array | Matrix":_max,"Array | Matrix, number | BigNumber":function(e,r){return reduce(e,r.valueOf(),_largest)},"...":function(e){if(containsCollections(e))throw TypeError("Scalar values expected in function max");return _max(e)}});function _largest(e,r){try{return a(e,r)?e:r}catch(e){throw improveErrorMessage(e,"max",r)}}function _max(e){var r;if(deepForEach(e,function(e){try{isNaN(e)&&"number"==typeof e?r=NaN:(void 0===r||a(e,r))&&(r=e)}catch(r){throw improveErrorMessage(r,"max",e)}}),void 0===r)throw Error("Cannot calculate max of an empty array");return"string"==typeof r&&(r=n(r,t.number)),r}});function lastDimToZeroBase(e){if(2===e.length&&isCollection(e[0])){var r=(e=e.slice())[1];isNumber(r)?e[1]=r-1:isBigNumber(r)&&(e[1]=r.minus(1))}return e}var eK=factory_factory("max",["typed","config","numeric","larger"],e=>{var{typed:r,config:t,numeric:n,larger:a}=e,o=eJ({typed:r,config:t,numeric:n,larger:a});return r("max",{"...any":function(e){e=lastDimToZeroBase(e);try{return o.apply(null,e)}catch(e){throw errorTransform(e)}}})},{isTransformFunction:!0}),eQ=/\$([\w.]+)/g,e0="print",e1=factory_factory(e0,["typed"],e=>{var{typed:r}=e;return r(e0,{"string, Object | Array":_print,"string, Object | Array, number | Object":_print})});function _print(e,r,t){return e.replace(eQ,function(e,n){var a=n.split("."),o=r[a.shift()];for(void 0!==o&&o.isMatrix&&(o=o.toArray());a.length&&void 0!==o;){var s=a.shift();o=s?o[s]:o+"."}return void 0!==o?isString(o)?o:string_format(o,t):e})}var e2="print",e3=factory_factory(e2,["typed","matrix","zeros","add"],e=>{var{typed:r,matrix:t,zeros:n,add:a}=e,o=e1({typed:r,matrix:t,zeros:n,add:a});return r(e2,{"string, Object | Array":function(e,r){return o(_convertTemplateToZeroBasedIndex(e),r)},"string, Object | Array, number | Object":function(e,r,t){return o(_convertTemplateToZeroBasedIndex(e),r,t)}});function _convertTemplateToZeroBasedIndex(e){return e.replace(eQ,e=>"$"+e.slice(1).split(".").map(function(e){return!isNaN(e)&&e.length>0?parseInt(e)-1:e}).join("."))}},{isTransformFunction:!0}),e5="diff",e4=factory_factory(e5,["typed","matrix","subtract","number"],e=>{var{typed:r,matrix:t,subtract:n,number:a}=e;return r(e5,{"Array | Matrix":function(e){return isMatrix(e)?t(_diff(e.toArray())):_diff(e)},"Array | Matrix, number":function(e,r){if(!isInteger(r))throw RangeError("Dimension must be a whole number");return isMatrix(e)?t(_recursive(e.toArray(),r)):_recursive(e,r)},"Array, BigNumber":r.referTo("Array,number",e=>(r,t)=>e(r,a(t))),"Matrix, BigNumber":r.referTo("Matrix,number",e=>(r,t)=>e(r,a(t)))});function _recursive(e,r){if(isMatrix(e)&&(e=e.toArray()),!Array.isArray(e))throw RangeError("Array/Matrix does not have that many dimensions");if(r>0){var t=[];return e.forEach(e=>{t.push(_recursive(e,r-1))}),t}if(0===r)return _diff(e);throw RangeError("Cannot have negative dimension")}function _diff(e){for(var r=[],t=e.length,a=1;a<t;a++)r.push(function _ElementDiff(e,r){isMatrix(e)&&(e=e.toArray()),isMatrix(r)&&(r=r.toArray());var t=Array.isArray(e),a=Array.isArray(r);if(t&&a)return function(e,r){if(e.length!==r.length)throw RangeError("Not all sub-arrays have the same length");for(var t=[],n=e.length,a=0;a<n;a++)t.push(_ElementDiff(e[a],r[a]));return t}(e,r);if(!t&&!a)return n(r,e);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}(e[a-1],e[a]));return r}}),e8="diff",e6=factory_factory(e8,["typed","matrix","subtract","number","bignumber"],e=>{var{typed:r,matrix:t,subtract:n,number:a,bignumber:o}=e,s=e4({typed:r,matrix:t,subtract:n,number:a,bignumber:o});return r(e8,{"...any":function(e){e=lastDimToZeroBase(e);try{return s.apply(null,e)}catch(e){throw errorTransform(e)}}})},{isTransformFunction:!0}),e7=factory_factory("min",["typed","config","numeric","smaller"],e=>{var{typed:r,config:t,numeric:n,smaller:a}=e;return r("min",{"Array | Matrix":_min,"Array | Matrix, number | BigNumber":function(e,r){return reduce(e,r.valueOf(),_smallest)},"...":function(e){if(containsCollections(e))throw TypeError("Scalar values expected in function min");return _min(e)}});function _smallest(e,r){try{return a(e,r)?e:r}catch(e){throw improveErrorMessage(e,"min",r)}}function _min(e){var r;if(deepForEach(e,function(e){try{isNaN(e)&&"number"==typeof e?r=NaN:(void 0===r||a(e,r))&&(r=e)}catch(r){throw improveErrorMessage(r,"min",e)}}),void 0===r)throw Error("Cannot calculate min of an empty array");return"string"==typeof r&&(r=n(r,t.number)),r}}),e9=factory_factory("min",["typed","config","numeric","smaller"],e=>{var{typed:r,config:t,numeric:n,smaller:a}=e,o=e7({typed:r,config:t,numeric:n,smaller:a});return r("min",{"...any":function(e){e=lastDimToZeroBase(e);try{return o.apply(null,e)}catch(e){throw errorTransform(e)}}})},{isTransformFunction:!0}),re="subset",rr=factory_factory(re,["typed","matrix","zeros","add"],e=>{var{typed:r,matrix:t,zeros:n,add:a}=e;return r(re,{"Matrix, Index":function(e,r){return isEmptyIndex(r)?t():(validateIndexSourceSize(e,r),e.subset(r))},"Array, Index":r.referTo("Matrix, Index",function(e){return function(r,n){var a=e(t(r),n);return n.isScalar()?a:a.valueOf()}}),"Object, Index":_getObjectProperty,"string, Index":_getSubstring,"Matrix, Index, any, any":function(e,r,t,o){return isEmptyIndex(r)?e:(validateIndexSourceSize(e,r),e.clone().subset(r,function(e,r){if("string"==typeof e)throw Error("can't boradcast a string");if(r._isScalar)return e;var t=r.size();if(!t.every(e=>e>0))return e;try{return a(e,n(t))}catch(r){return e}}(t,r),o))},"Array, Index, any, any":r.referTo("Matrix, Index, any, any",function(e){return function(r,n,a,o){var s=e(t(r),n,a,o);return s.isMatrix?s.valueOf():s}}),"Array, Index, any":r.referTo("Matrix, Index, any, any",function(e){return function(r,n,a){return e(t(r),n,a,void 0).valueOf()}}),"Matrix, Index, any":r.referTo("Matrix, Index, any, any",function(e){return function(r,t,n){return e(r,t,n,void 0)}}),"string, Index, string":_setSubstring,"string, Index, string, string":_setSubstring,"Object, Index, any":_setObjectProperty})});function _getSubstring(e,r){if(!isIndex(r))throw TypeError("Index expected");if(isEmptyIndex(r))return"";if(validateIndexSourceSize(Array.from(e),r),1!==r.size().length)throw new DimensionError(r.size().length,1);var t=e.length;validateIndex(r.min()[0],t),validateIndex(r.max()[0],t);var n=r.dimension(0),a="";return n.forEach(function(r){a+=e.charAt(r)}),a}function _setSubstring(e,r,t,n){if(!r||!0!==r.isIndex)throw TypeError("Index expected");if(isEmptyIndex(r))return e;if(validateIndexSourceSize(Array.from(e),r),1!==r.size().length)throw new DimensionError(r.size().length,1);if(void 0!==n){if("string"!=typeof n||1!==n.length)throw TypeError("Single character expected as defaultValue")}else n=" ";var a=r.dimension(0);if(a.size()[0]!==t.length)throw new DimensionError(a.size()[0],t.length);var o=e.length;validateIndex(r.min()[0]),validateIndex(r.max()[0]);for(var s=[],u=0;u<o;u++)s[u]=e.charAt(u);if(a.forEach(function(e,r){s[e]=t.charAt(r[0])}),s.length>o)for(var c=o-1,l=s.length;c<l;c++)s[c]||(s[c]=n);return s.join("")}function _getObjectProperty(e,r){if(!isEmptyIndex(r)){if(1!==r.size().length)throw new DimensionError(r.size(),1);var t=r.dimension(0);if("string"!=typeof t)throw TypeError("String expected as index to retrieve an object property");return getSafeProperty(e,t)}}function _setObjectProperty(e,r,t){if(isEmptyIndex(r))return e;if(1!==r.size().length)throw new DimensionError(r.size(),1);var n=r.dimension(0);if("string"!=typeof n)throw TypeError("String expected as index to retrieve an object property");var a=object_clone(e);return setSafeProperty(a,n,t),a}var rt,rn,ri=factory_factory("subset",["typed","matrix","zeros","add"],e=>{var{typed:r,matrix:t,zeros:n,add:a}=e,o=rr({typed:r,matrix:t,zeros:n,add:a});return r("subset",{"...any":function(e){try{return o.apply(null,e)}catch(e){throw errorTransform(e)}}})},{isTransformFunction:!0}),ra="cumsum",ro=factory_factory(ra,["typed","add","unaryPlus"],e=>{var{typed:r,add:t,unaryPlus:n}=e;return r(ra,{Array:_cumsum,Matrix:function(e){return e.create(_cumsum(e.valueOf()))},"Array, number | BigNumber":_ncumSumDim,"Matrix, number | BigNumber":function(e,r){return e.create(_ncumSumDim(e.valueOf(),r))},"...":function(e){if(containsCollections(e))throw TypeError("All values expected to be scalar in function cumsum");return _cumsum(e)}});function _cumsum(e){try{return _cumsummap(e)}catch(e){throw improveErrorMessage(e,ra)}}function _cumsummap(e){if(0===e.length)return[];for(var r=[n(e[0])],a=1;a<e.length;++a)r.push(t(r[a-1],e[a]));return r}function _ncumSumDim(e,r){var t=arraySize(e);if(r<0||r>=t.length)throw new IndexError(r,t.length);try{return function _cumsumDimensional(e,r){var t,n,a;if(r<=0){if(!Array.isArray(e[0][0]))return _cumsummap(e);for(t=0,a=_switch(e),n=[];t<a.length;t++)n[t]=_cumsumDimensional(a[t],r-1);return n}for(t=0,n=[];t<e.length;t++)n[t]=_cumsumDimensional(e[t],r-1);return n}(e,r)}catch(e){throw improveErrorMessage(e,ra)}}}),rs="cumsum",ru=factory_factory(rs,["typed","add","unaryPlus"],e=>{var{typed:r,add:t,unaryPlus:n}=e,a=ro({typed:r,add:t,unaryPlus:n});return r(rs,{"...any":function(e){if(2===e.length&&isCollection(e[0])){var r=e[1];isNumber(r)?e[1]=r-1:isBigNumber(r)&&(e[1]=r.minus(1))}try{return a.apply(null,e)}catch(e){throw errorTransform(e)}}})},{isTransformFunction:!0}),rc=factory_factory("index",["Index","getMatrixDataType"],e=>{var{Index:r,getMatrixDataType:t}=e;return function(){for(var e=[],n=0,o=arguments.length;n<o;n++){var s=arguments[n];if(isRange(s))s.start--,s.end-=s.step>0?0:2;else if(s&&!0===s.isSet)s=s.map(function(e){return e-1});else if(a(s)||isMatrix(s))"boolean"!==t(s)&&(s=s.map(function(e){return e-1}));else if(isNumber(s))s--;else if(isBigNumber(s))s=s.toNumber()-1;else if("string"==typeof s);else throw TypeError("Dimension must be an Array, Matrix, number, string, or Range");e[n]=s}var u=new r;return r.apply(u,e),u}},{isTransformFunction:!0}),rl=factory_factory("sum",["typed","config","add","numeric"],e=>{var{typed:r,config:t,add:n,numeric:a}=e;return r("sum",{"Array | Matrix":_sum,"Array | Matrix, number | BigNumber":function(e,r){try{return reduce(e,r,n)}catch(e){throw improveErrorMessage(e,"sum")}},"...":function(e){if(containsCollections(e))throw TypeError("Scalar values expected in function sum");return _sum(e)}});function _sum(e){var r;return deepForEach(e,function(e){try{r=void 0===r?e:n(r,e)}catch(r){throw improveErrorMessage(r,"sum",e)}}),void 0===r&&(r=a(0,t.number)),"string"==typeof r&&(r=a(r,t.number)),r}}),rf=factory_factory("sum",["typed","config","add","numeric"],e=>{var{typed:r,config:t,add:n,numeric:a}=e,o=rl({typed:r,config:t,add:n,numeric:a});return r("sum",{"...any":function(e){e=lastDimToZeroBase(e);try{return o.apply(null,e)}catch(e){throw errorTransform(e)}}})},{isTransformFunction:!0}),rp="range",rm=factory_factory(rp,["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],e=>{var{typed:r,config:t,matrix:n,bignumber:a,smaller:o,smallerEq:s,larger:u,largerEq:c,add:l,isPositive:p}=e;return r(rp,{string:_strRange,"string, boolean":_strRange,"number, number":function(e,r){return _out(_range(e,r,1,!1))},"number, number, number":function(e,r,t){return _out(_range(e,r,t,!1))},"number, number, boolean":function(e,r,t){return _out(_range(e,r,1,t))},"number, number, number, boolean":function(e,r,t,n){return _out(_range(e,r,t,n))},"BigNumber, BigNumber":function(e,r){var t=e.constructor;return _out(_range(e,r,new t(1),!1))},"BigNumber, BigNumber, BigNumber":function(e,r,t){return _out(_range(e,r,t,!1))},"BigNumber, BigNumber, boolean":function(e,r,t){var n=e.constructor;return _out(_range(e,r,new n(1),t))},"BigNumber, BigNumber, BigNumber, boolean":function(e,r,t,n){return _out(_range(e,r,t,n))},"Unit, Unit, Unit":function(e,r,t){return _out(_range(e,r,t,!1))},"Unit, Unit, Unit, boolean":function(e,r,t,n){return _out(_range(e,r,t,n))}});function _out(e){return"Matrix"===t.matrix?n?n(e):noMatrix():e}function _strRange(e,r){var n=function(e){var r=e.split(":").map(function(e){return Number(e)});if(r.some(function(e){return isNaN(e)}))return null;switch(r.length){case 2:return{start:r[0],end:r[1],step:1};case 3:return{start:r[0],end:r[2],step:r[1]};default:return null}}(e);if(!n)throw SyntaxError('String "'+e+'" is no valid range');return"BigNumber"===t.number?(void 0===a&&noBignumber(),_out(_range(a(n.start),a(n.end),a(n.step)),r)):_out(_range(n.start,n.end,n.step,r))}function _range(e,r,t,n){for(var a=[],m=p(t)?n?s:o:n?c:u,h=e;m(h,r);)a.push(h),h=l(h,t);return a}}),rh=factory_factory("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],e=>{var{typed:r,config:t,matrix:n,bignumber:a,smaller:o,smallerEq:s,larger:u,largerEq:c,add:l,isPositive:p}=e,m=rm({typed:r,config:t,matrix:n,bignumber:a,smaller:o,smallerEq:s,larger:u,largerEq:c,add:l,isPositive:p});return r("range",{"...any":function(e){var r=e.length-1;return"boolean"!=typeof e[r]&&e.push(!0),m.apply(null,e)}})},{isTransformFunction:!0}),rd=factory_factory("row",["typed","Index","matrix","range"],e=>{var{typed:r,Index:t,matrix:n,range:a}=e;return r("row",{"Matrix, number":_row,"Array, number":function(e,r){return _row(n(object_clone(e)),r).valueOf()}});function _row(e,r){if(2!==e.size().length)throw Error("Only two dimensional matrix is supported");validateIndex(r,e.size()[0]);var o=a(0,e.size()[1]),s=new t(r,o),u=e.subset(s);return isMatrix(u)?u:n([[u]])}}),rg=factory_factory("row",["typed","Index","matrix","range"],e=>{var{typed:r,Index:t,matrix:n,range:a}=e,o=rd({typed:r,Index:t,matrix:n,range:a});return r("row",{"...any":function(e){var r=e.length-1,t=e[r];isNumber(t)&&(e[r]=t-1);try{return o.apply(null,e)}catch(e){throw errorTransform(e)}}})},{isTransformFunction:!0}),ry="column",rv=factory_factory(ry,["typed","Index","matrix","range"],e=>{var{typed:r,Index:t,matrix:n,range:a}=e;return r(ry,{"Matrix, number":_column,"Array, number":function(e,r){return _column(n(object_clone(e)),r).valueOf()}});function _column(e,r){if(2!==e.size().length)throw Error("Only two dimensional matrix is supported");validateIndex(r,e.size()[1]);var o=a(0,e.size()[0]),s=new t(o,r),u=e.subset(s);return isMatrix(u)?u:n([[u]])}}),rx=factory_factory("column",["typed","Index","matrix","range"],e=>{var{typed:r,Index:t,matrix:n,range:a}=e,o=rv({typed:r,Index:t,matrix:n,range:a});return r("column",{"...any":function(e){var r=e.length-1,t=e[r];isNumber(t)&&(e[r]=t-1);try{return o.apply(null,e)}catch(e){throw errorTransform(e)}}})},{isTransformFunction:!0}),rb="mean",rN=factory_factory(rb,["typed","add","divide"],e=>{var{typed:r,add:t,divide:n}=e;return r(rb,{"Array | Matrix":_mean,"Array | Matrix, number | BigNumber":function(e,r){try{var a=reduce(e,r,t),o=Array.isArray(e)?arraySize(e):e.size();return n(a,o[r])}catch(e){throw improveErrorMessage(e,"mean")}},"...":function(e){if(containsCollections(e))throw TypeError("Scalar values expected in function mean");return _mean(e)}});function _mean(e){var r,a=0;if(deepForEach(e,function(e){try{r=void 0===r?e:t(r,e),a++}catch(r){throw improveErrorMessage(r,"mean",e)}}),0===a)throw Error("Cannot calculate the mean of an empty array");return n(r,a)}}),rw=factory_factory("mean",["typed","add","divide"],e=>{var{typed:r,add:t,divide:n}=e,a=rN({typed:r,add:t,divide:n});return r("mean",{"...any":function(e){e=lastDimToZeroBase(e);try{return a.apply(null,e)}catch(e){throw errorTransform(e)}}})},{isTransformFunction:!0}),r_="quantileSeq",rD=factory_factory(r_,["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],e=>{var{typed:r,bignumber:t,add:n,subtract:a,divide:o,multiply:s,partitionSelect:u,compare:c,isInteger:l,smaller:p,smallerEq:m,larger:h}=e,g=eZ({typed:r,isInteger:l});return r(r_,{"Array | Matrix, number | BigNumber":(e,r)=>_quantileSeqProbNumber(e,r,!1),"Array | Matrix, number | BigNumber, number":(e,r,t)=>_quantileSeqDim(e,r,!1,t,_quantileSeqProbNumber),"Array | Matrix, number | BigNumber, boolean":_quantileSeqProbNumber,"Array | Matrix, number | BigNumber, boolean, number":(e,r,t,n)=>_quantileSeqDim(e,r,t,n,_quantileSeqProbNumber),"Array | Matrix, Array | Matrix":(e,r)=>_quantileSeqProbCollection(e,r,!1),"Array | Matrix, Array | Matrix, number":(e,r,t)=>_quantileSeqDim(e,r,!1,t,_quantileSeqProbCollection),"Array | Matrix, Array | Matrix, boolean":_quantileSeqProbCollection,"Array | Matrix, Array | Matrix, boolean, number":(e,r,t,n)=>_quantileSeqDim(e,r,t,n,_quantileSeqProbCollection)});function _quantileSeqDim(e,r,t,n,a){return g(e,n,e=>a(e,r,t))}function _quantileSeqProbNumber(e,r,a){var s,u=e.valueOf();if(p(r,0))throw Error("N/prob must be non-negative");if(m(r,1))return isNumber(r)?_quantileSeq(u,r,a):t(_quantileSeq(u,r,a));if(h(r,1)){if(!l(r))throw Error("N must be a positive integer");if(h(r,4294967295))throw Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var c=n(r,1);s=[];for(var g=0;p(g,r);g++){var y=o(g+1,c);s.push(_quantileSeq(u,y,a))}return isNumber(r)?s:t(s)}}function _quantileSeqProbCollection(e,r,t){for(var n=e.valueOf(),a=r.valueOf(),o=[],s=0;s<a.length;++s)o.push(_quantileSeq(n,a[s],t));return o}function _quantileSeq(e,r,t){var o,p,m=flatten(e),h=m.length;if(0===h)throw Error("Cannot calculate quantile of an empty sequence");var g=isNumber(r)?r*(h-1):r.times(h-1),y=isNumber(r)?Math.floor(g):g.floor().toNumber(),v=isNumber(r)?g%1:g.minus(y);if(l(g))return t?m[g]:u(m,isNumber(r)?g:g.valueOf());if(t)o=m[y],p=m[y+1];else{p=u(m,y+1),o=m[y];for(var x=0;x<y;++x)c(m[x],o)>0&&(o=m[x])}return n(s(o,a(1,v)),s(p,v))}}),rE=factory_factory("quantileSeq",["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],e=>{var{typed:r,bignumber:t,add:n,subtract:a,divide:o,multiply:s,partitionSelect:u,compare:c,isInteger:l,smaller:p,smallerEq:m,larger:h}=e,g=rD({typed:r,bignumber:t,add:n,subtract:a,divide:o,multiply:s,partitionSelect:u,compare:c,isInteger:l,smaller:p,smallerEq:m,larger:h});return r("quantileSeq",{"Array | Matrix, number | BigNumber":g,"Array | Matrix, number | BigNumber, number":(e,r,t)=>g(e,r,dimToZeroBase(t)),"Array | Matrix, number | BigNumber, boolean":g,"Array | Matrix, number | BigNumber, boolean, number":(e,r,t,n)=>g(e,r,t,dimToZeroBase(n)),"Array | Matrix, Array | Matrix":g,"Array | Matrix, Array | Matrix, number":(e,r,t)=>g(e,r,dimToZeroBase(t)),"Array | Matrix, Array | Matrix, boolean":g,"Array | Matrix, Array | Matrix, boolean, number":(e,r,t,n)=>g(e,r,t,dimToZeroBase(n))});function dimToZeroBase(e){return lastDimToZeroBase([[],e])[1]}},{isTransformFunction:!0}),rA="unbiased",rC="variance",rS=factory_factory(rC,["typed","add","subtract","multiply","divide","apply","isNaN"],e=>{var{typed:r,add:t,subtract:n,multiply:a,divide:o,apply:s,isNaN:u}=e;return r(rC,{"Array | Matrix":function(e){return _var(e,rA)},"Array | Matrix, string":_var,"Array | Matrix, number | BigNumber":function(e,r){return _varDim(e,r,rA)},"Array | Matrix, number | BigNumber, string":_varDim,"...":function(e){return _var(e,rA)}});function _var(e,r){var s,c=0;if(0===e.length)throw SyntaxError("Function variance requires one or more parameters (0 provided)");if(deepForEach(e,function(e){try{s=void 0===s?e:t(s,e),c++}catch(r){throw improveErrorMessage(r,"variance",e)}}),0===c)throw Error("Cannot calculate variance of an empty array");var l=o(s,c);if(s=void 0,deepForEach(e,function(e){var r=n(e,l);s=void 0===s?a(r,r):t(s,a(r,r))}),u(s))return s;switch(r){case"uncorrected":return o(s,c);case"biased":return o(s,c+1);case"unbiased":var p=isBigNumber(s)?s.mul(0):0;return 1===c?p:o(s,c-1);default:throw Error('Unknown normalization "'+r+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function _varDim(e,r,t){try{if(0===e.length)throw SyntaxError("Function variance requires one or more parameters (0 provided)");return s(e,r,e=>_var(e,t))}catch(e){throw improveErrorMessage(e,"variance")}}}),rM="variance",rF=factory_factory(rM,["typed","add","subtract","multiply","divide","apply","isNaN"],e=>{var{typed:r,add:t,subtract:n,multiply:a,divide:o,apply:s,isNaN:u}=e,c=rS({typed:r,add:t,subtract:n,multiply:a,divide:o,apply:s,isNaN:u});return r(rM,{"...any":function(e){e=lastDimToZeroBase(e);try{return c.apply(null,e)}catch(e){throw errorTransform(e)}}})},{isTransformFunction:!0}),rT=factory_factory("std",["typed","map","sqrt","variance"],e=>{var{typed:r,map:t,sqrt:n,variance:a}=e;return r("std",{"Array | Matrix":_std,"Array | Matrix, string":_std,"Array | Matrix, number | BigNumber":_std,"Array | Matrix, number | BigNumber, string":_std,"...":function(e){return _std(e)}});function _std(e,r){if(0===e.length)throw SyntaxError("Function std requires one or more parameters (0 provided)");try{var o=a.apply(null,arguments);if(isCollection(o))return t(o,n);return n(o)}catch(e){if(e instanceof TypeError&&-1!==e.message.indexOf(" variance"))throw TypeError(e.message.replace(" variance"," std"));throw e}}}),rO=factory_factory("std",["typed","map","sqrt","variance"],e=>{var{typed:r,map:t,sqrt:n,variance:a}=e,o=rT({typed:r,map:t,sqrt:n,variance:a});return r("std",{"...any":function(e){e=lastDimToZeroBase(e);try{return o.apply(null,e)}catch(e){throw errorTransform(e)}}})},{isTransformFunction:!0}),rB="0123456789abcdef",rk="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",rI="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",rP={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},rz=!0,rR="[DecimalError] ",rq=rR+"Invalid argument: ",rj=rR+"Precision limit exceeded",rU=rR+"crypto unavailable",rL="[object Decimal]",rH=Math.floor,r$=Math.pow,rV=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,rZ=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,rG=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,rW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rY=rk.length-1,rX=rI.length-1,rJ={toStringTag:rL};function digitsToString(e){var r,t,n,a=e.length-1,o="",s=e[0];if(a>0){for(o+=s,r=1;r<a;r++)(t=7-(n=e[r]+"").length)&&(o+=getZeroString(t)),o+=n;(t=7-(n=(s=e[r])+"").length)&&(o+=getZeroString(t))}else if(0===s)return"0";for(;s%10==0;)s/=10;return o+s}function checkInt32(e,r,t){if(e!==~~e||e<r||e>t)throw Error(rq+e)}function checkRoundingDigits(e,r,t,n){var a,o,s,u;for(o=e[0];o>=10;o/=10)--r;return--r<0?(r+=7,a=0):(a=Math.ceil((r+1)/7),r%=7),o=r$(10,7-r),u=e[a]%o|0,null==n?r<3?(0==r?u=u/100|0:1==r&&(u=u/10|0),s=t<4&&99999==u||t>3&&49999==u||5e4==u||0==u):s=(t<4&&u+1==o||t>3&&u+1==o/2)&&(e[a+1]/o/100|0)==r$(10,r-2)-1||(u==o/2||0==u)&&(e[a+1]/o/100|0)==0:r<4?(0==r?u=u/1e3|0:1==r?u=u/100|0:2==r&&(u=u/10|0),s=(n||t<4)&&9999==u||!n&&t>3&&4999==u):s=((n||t<4)&&u+1==o||!n&&t>3&&u+1==o/2)&&(e[a+1]/o/1e3|0)==r$(10,r-3)-1,s}function convertBase(e,r,t){for(var n,a,o=[0],s=0,u=e.length;s<u;){for(a=o.length;a--;)o[a]*=r;for(o[0]+=rB.indexOf(e.charAt(s++)),n=0;n<o.length;n++)o[n]>t-1&&(void 0===o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/t|0,o[n]%=t)}return o.reverse()}rJ.absoluteValue=rJ.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),finalise(e)},rJ.ceil=function(){return finalise(new this.constructor(this),this.e+1,2)},rJ.clampedTo=rJ.clamp=function(e,r){var t=this.constructor;if(e=new t(e),r=new t(r),!e.s||!r.s)return new t(NaN);if(e.gt(r))throw Error(rq+r);return 0>this.cmp(e)?e:this.cmp(r)>0?r:new t(this)},rJ.comparedTo=rJ.cmp=function(e){var r,t,n,a,o=this.d,s=(e=new this.constructor(e)).d,u=this.s,c=e.s;if(!o||!s)return u&&c?u!==c?u:o===s?0:!o^u<0?1:-1:NaN;if(!o[0]||!s[0])return o[0]?u:s[0]?-c:0;if(u!==c)return u;if(this.e!==e.e)return this.e>e.e^u<0?1:-1;for(r=0,t=(n=o.length)<(a=s.length)?n:a;r<t;++r)if(o[r]!==s[r])return o[r]>s[r]^u<0?1:-1;return n===a?0:n>a^u<0?1:-1},rJ.cosine=rJ.cos=function(){var e,r,t=this,n=t.constructor;return t.d?t.d[0]?(e=n.precision,r=n.rounding,n.precision=e+Math.max(t.e,t.sd())+7,n.rounding=1,t=function(e,r){var t,n,a;if(r.isZero())return r;(n=r.d.length)<32?a=(1/tinyPow(4,t=Math.ceil(n/3))).toString():(t=16,a="2.3283064365386962890625e-10"),e.precision+=t,r=taylorSeries(e,1,r.times(a),new e(1));for(var o=t;o--;){var s=r.times(r);r=s.times(s).minus(s).times(8).plus(1)}return e.precision-=t,r}(n,toLessThanHalfPi(n,t)),n.precision=e,n.rounding=r,finalise(2==rn||3==rn?t.neg():t,e,r,!0)):new n(1):new n(NaN)},rJ.cubeRoot=rJ.cbrt=function(){var e,r,t,n,a,o,s,u,c,l,p=this.constructor;if(!this.isFinite()||this.isZero())return new p(this);for(rz=!1,(o=this.s*r$(this.s*this,1/3))&&Math.abs(o)!=1/0?n=new p(o.toString()):(t=digitsToString(this.d),(o=((e=this.e)-t.length+1)%3)&&(t+=1==o||-2==o?"0":"00"),o=r$(t,1/3),e=rH((e+1)/3)-(e%3==(e<0?-1:2)),t=o==1/0?"5e"+e:(t=o.toExponential()).slice(0,t.indexOf("e")+1)+e,(n=new p(t)).s=this.s),s=(e=p.precision)+3;;)if(n=rK((l=(c=(u=n).times(u).times(u)).plus(this)).plus(this).times(u),l.plus(c),s+2,1),digitsToString(u.d).slice(0,s)===(t=digitsToString(n.d)).slice(0,s)){if("9999"!=(t=t.slice(s-3,s+1))&&(a||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(finalise(n,e+1,1),r=!n.times(n).times(n).eq(this));break}if(!a&&(finalise(u,e+1,0),u.times(u).times(u).eq(this))){n=u;break}s+=4,a=1}return rz=!0,finalise(n,e,p.rounding,r)},rJ.decimalPlaces=rJ.dp=function(){var e,r=this.d,t=NaN;if(r){if(t=((e=r.length-1)-rH(this.e/7))*7,e=r[e])for(;e%10==0;e/=10)t--;t<0&&(t=0)}return t},rJ.dividedBy=rJ.div=function(e){return rK(this,new this.constructor(e))},rJ.dividedToIntegerBy=rJ.divToInt=function(e){var r=this.constructor;return finalise(rK(this,new r(e),0,1,1),r.precision,r.rounding)},rJ.equals=rJ.eq=function(e){return 0===this.cmp(e)},rJ.floor=function(){return finalise(new this.constructor(this),this.e+1,3)},rJ.greaterThan=rJ.gt=function(e){return this.cmp(e)>0},rJ.greaterThanOrEqualTo=rJ.gte=function(e){var r=this.cmp(e);return 1==r||0===r},rJ.hyperbolicCosine=rJ.cosh=function(){var e,r,t,n,a,o=this,s=o.constructor,u=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return u;t=s.precision,n=s.rounding,s.precision=t+Math.max(o.e,o.sd())+4,s.rounding=1,(a=o.d.length)<32?r=(1/tinyPow(4,e=Math.ceil(a/3))).toString():(e=16,r="2.3283064365386962890625e-10"),o=taylorSeries(s,1,o.times(r),new s(1),!0);for(var c,l=e,p=new s(8);l--;)c=o.times(o),o=u.minus(c.times(p.minus(c.times(p))));return finalise(o,s.precision=t,s.rounding=n,!0)},rJ.hyperbolicSine=rJ.sinh=function(){var e,r,t,n,a=this,o=a.constructor;if(!a.isFinite()||a.isZero())return new o(a);if(r=o.precision,t=o.rounding,o.precision=r+Math.max(a.e,a.sd())+4,o.rounding=1,(n=a.d.length)<3)a=taylorSeries(o,2,a,a,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,a=taylorSeries(o,2,a=a.times(1/tinyPow(5,e)),a,!0);for(var s,u=new o(5),c=new o(16),l=new o(20);e--;)s=a.times(a),a=a.times(u.plus(s.times(c.times(s).plus(l))))}return o.precision=r,o.rounding=t,finalise(a,r,t,!0)},rJ.hyperbolicTangent=rJ.tanh=function(){var e,r,t=this.constructor;return this.isFinite()?this.isZero()?new t(this):(e=t.precision,r=t.rounding,t.precision=e+7,t.rounding=1,rK(this.sinh(),this.cosh(),t.precision=e,t.rounding=r)):new t(this.s)},rJ.inverseCosine=rJ.acos=function(){var e,r=this,t=r.constructor,n=r.abs().cmp(1),a=t.precision,o=t.rounding;return -1!==n?0===n?r.isNeg()?getPi(t,a,o):new t(0):new t(NaN):r.isZero()?getPi(t,a+4,o).times(.5):(t.precision=a+6,t.rounding=1,r=r.asin(),e=getPi(t,a+4,o).times(.5),t.precision=a,t.rounding=o,e.minus(r))},rJ.inverseHyperbolicCosine=rJ.acosh=function(){var e,r,t=this,n=t.constructor;return t.lte(1)?new n(t.eq(1)?0:NaN):t.isFinite()?(e=n.precision,r=n.rounding,n.precision=e+Math.max(Math.abs(t.e),t.sd())+4,n.rounding=1,rz=!1,t=t.times(t).minus(1).sqrt().plus(t),rz=!0,n.precision=e,n.rounding=r,t.ln()):new n(t)},rJ.inverseHyperbolicSine=rJ.asinh=function(){var e,r,t=this,n=t.constructor;return!t.isFinite()||t.isZero()?new n(t):(e=n.precision,r=n.rounding,n.precision=e+2*Math.max(Math.abs(t.e),t.sd())+6,n.rounding=1,rz=!1,t=t.times(t).plus(1).sqrt().plus(t),rz=!0,n.precision=e,n.rounding=r,t.ln())},rJ.inverseHyperbolicTangent=rJ.atanh=function(){var e,r,t,n,a=this,o=a.constructor;return a.isFinite()?a.e>=0?new o(a.abs().eq(1)?a.s/0:a.isZero()?a:NaN):(e=o.precision,r=o.rounding,Math.max(n=a.sd(),e)<-(2*a.e)-1)?finalise(new o(a),e,r,!0):(o.precision=t=n-a.e,a=rK(a.plus(1),new o(1).minus(a),t+e,1),o.precision=e+4,o.rounding=1,a=a.ln(),o.precision=e,o.rounding=r,a.times(.5)):new o(NaN)},rJ.inverseSine=rJ.asin=function(){var e,r,t,n,a=this,o=a.constructor;return a.isZero()?new o(a):(r=a.abs().cmp(1),t=o.precision,n=o.rounding,-1!==r)?0===r?((e=getPi(o,t+4,n).times(.5)).s=a.s,e):new o(NaN):(o.precision=t+6,o.rounding=1,a=a.div(new o(1).minus(a.times(a)).sqrt().plus(1)).atan(),o.precision=t,o.rounding=n,a.times(2))},rJ.inverseTangent=rJ.atan=function(){var e,r,t,n,a,o,s,u,c,l=this,p=l.constructor,m=p.precision,h=p.rounding;if(l.isFinite()){if(l.isZero())return new p(l);if(l.abs().eq(1)&&m+4<=rX)return(s=getPi(p,m+4,h).times(.25)).s=l.s,s}else{if(!l.s)return new p(NaN);if(m+4<=rX)return(s=getPi(p,m+4,h).times(.5)).s=l.s,s}for(p.precision=u=m+10,p.rounding=1,e=t=Math.min(28,u/7+2|0);e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(rz=!1,r=Math.ceil(u/7),n=1,c=l.times(l),s=new p(l),a=l;-1!==e;)if(a=a.times(c),o=s.minus(a.div(n+=2)),a=a.times(c),void 0!==(s=o.plus(a.div(n+=2))).d[r])for(e=r;s.d[e]===o.d[e]&&e--;);return t&&(s=s.times(2<<t-1)),rz=!0,finalise(s,p.precision=m,p.rounding=h,!0)},rJ.isFinite=function(){return!!this.d},rJ.isInteger=rJ.isInt=function(){return!!this.d&&rH(this.e/7)>this.d.length-2},rJ.isNaN=function(){return!this.s},rJ.isNegative=rJ.isNeg=function(){return this.s<0},rJ.isPositive=rJ.isPos=function(){return this.s>0},rJ.isZero=function(){return!!this.d&&0===this.d[0]},rJ.lessThan=rJ.lt=function(e){return 0>this.cmp(e)},rJ.lessThanOrEqualTo=rJ.lte=function(e){return 1>this.cmp(e)},rJ.logarithm=rJ.log=function(e){var r,t,n,a,o,s,u,c=this.constructor,l=c.precision,p=c.rounding;if(null==e)e=new c(10),r=!0;else{if(t=(e=new c(e)).d,e.s<0||!t||!t[0]||e.eq(1))return new c(NaN);r=e.eq(10)}if(t=this.d,this.s<0||!t||!t[0]||this.eq(1))return new c(t&&!t[0]?-1/0:1!=this.s?NaN:t?0:1/0);if(r){if(t.length>1)a=!0;else{for(n=t[0];n%10==0;)n/=10;a=1!==n}}if(rz=!1,checkRoundingDigits((u=rK(naturalLogarithm(this,s=l+5),r?getLn10(c,s+10):naturalLogarithm(e,s),s,1)).d,n=l,p))do if(s+=10,u=rK(naturalLogarithm(this,s),r?getLn10(c,s+10):naturalLogarithm(e,s),s,1),!a){+digitsToString(u.d).slice(n+1,n+15)+1==1e14&&(u=finalise(u,l+1,0));break}while(checkRoundingDigits(u.d,n+=10,p));return rz=!0,finalise(u,l,p)},rJ.minus=rJ.sub=function(e){var r,t,n,a,o,s,u,c,l,p,m,h,g=this.constructor;if(e=new g(e),!this.d||!e.d)return this.s&&e.s?this.d?e.s=-e.s:e=new g(e.d||this.s!==e.s?this:NaN):e=new g(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.plus(e);if(l=this.d,h=e.d,u=g.precision,c=g.rounding,!l[0]||!h[0]){if(h[0])e.s=-e.s;else{if(!l[0])return new g(3===c?-0:0);e=new g(this)}return rz?finalise(e,u,c):e}if(t=rH(e.e/7),p=rH(this.e/7),l=l.slice(),o=p-t){for((m=o<0)?(r=l,o=-o,s=h.length):(r=h,t=p,s=l.length),o>(n=Math.max(Math.ceil(u/7),s)+2)&&(o=n,r.length=1),r.reverse(),n=o;n--;)r.push(0);r.reverse()}else{for((m=(n=l.length)<(s=h.length))&&(s=n),n=0;n<s;n++)if(l[n]!=h[n]){m=l[n]<h[n];break}o=0}for(m&&(r=l,l=h,h=r,e.s=-e.s),s=l.length,n=h.length-s;n>0;--n)l[s++]=0;for(n=h.length;n>o;){if(l[--n]<h[n]){for(a=n;a&&0===l[--a];)l[a]=1e7-1;--l[a],l[n]+=1e7}l[n]-=h[n]}for(;0===l[--s];)l.pop();for(;0===l[0];l.shift())--t;return l[0]?(e.d=l,e.e=getBase10Exponent(l,t),rz?finalise(e,u,c):e):new g(3===c?-0:0)},rJ.modulo=rJ.mod=function(e){var r,t=this.constructor;return(e=new t(e),this.d&&e.s&&(!e.d||e.d[0]))?e.d&&(!this.d||this.d[0])?(rz=!1,9==t.modulo?(r=rK(this,e.abs(),0,3,1),r.s*=e.s):r=rK(this,e,0,t.modulo,1),r=r.times(e),rz=!0,this.minus(r)):finalise(new t(this),t.precision,t.rounding):new t(NaN)},rJ.naturalExponential=rJ.exp=function(){return naturalExponential(this)},rJ.naturalLogarithm=rJ.ln=function(){return naturalLogarithm(this)},rJ.negated=rJ.neg=function(){var e=new this.constructor(this);return e.s=-e.s,finalise(e)},rJ.plus=rJ.add=function(e){var r,t,n,a,o,s,u,c,l,p,m=this.constructor;if(e=new m(e),!this.d||!e.d)return this.s&&e.s?this.d||(e=new m(e.d||this.s===e.s?this:NaN)):e=new m(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.minus(e);if(l=this.d,p=e.d,u=m.precision,c=m.rounding,!l[0]||!p[0])return p[0]||(e=new m(this)),rz?finalise(e,u,c):e;if(o=rH(this.e/7),n=rH(e.e/7),l=l.slice(),a=o-n){for(a<0?(t=l,a=-a,s=p.length):(t=p,n=o,s=l.length),a>(s=(o=Math.ceil(u/7))>s?o+1:s+1)&&(a=s,t.length=1),t.reverse();a--;)t.push(0);t.reverse()}for((s=l.length)-(a=p.length)<0&&(a=s,t=p,p=l,l=t),r=0;a;)r=(l[--a]=l[a]+p[a]+r)/1e7|0,l[a]%=1e7;for(r&&(l.unshift(r),++n),s=l.length;0==l[--s];)l.pop();return e.d=l,e.e=getBase10Exponent(l,n),rz?finalise(e,u,c):e},rJ.precision=rJ.sd=function(e){var r;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(rq+e);return this.d?(r=getPrecision(this.d),e&&this.e+1>r&&(r=this.e+1)):r=NaN,r},rJ.round=function(){var e=this.constructor;return finalise(new e(this),this.e+1,e.rounding)},rJ.sine=rJ.sin=function(){var e,r,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(e=n.precision,r=n.rounding,n.precision=e+Math.max(t.e,t.sd())+7,n.rounding=1,t=function(e,r){var t,n=r.d.length;if(n<3)return r.isZero()?r:taylorSeries(e,2,r,r);t=(t=1.4*Math.sqrt(n))>16?16:0|t,r=taylorSeries(e,2,r=r.times(1/tinyPow(5,t)),r);for(var a,o=new e(5),s=new e(16),u=new e(20);t--;)a=r.times(r),r=r.times(o.plus(a.times(s.times(a).minus(u))));return r}(n,toLessThanHalfPi(n,t)),n.precision=e,n.rounding=r,finalise(rn>2?t.neg():t,e,r,!0)):new n(NaN)},rJ.squareRoot=rJ.sqrt=function(){var e,r,t,n,a,o,s=this.d,u=this.e,c=this.s,l=this.constructor;if(1!==c||!s||!s[0])return new l(!c||c<0&&(!s||s[0])?NaN:s?this:1/0);for(rz=!1,0==(c=Math.sqrt(+this))||c==1/0?(((r=digitsToString(s)).length+u)%2==0&&(r+="0"),c=Math.sqrt(r),u=rH((u+1)/2)-(u<0||u%2),r=c==1/0?"5e"+u:(r=c.toExponential()).slice(0,r.indexOf("e")+1)+u,n=new l(r)):n=new l(c.toString()),t=(u=l.precision)+3;;)if(n=(o=n).plus(rK(this,o,t+2,1)).times(.5),digitsToString(o.d).slice(0,t)===(r=digitsToString(n.d)).slice(0,t)){if("9999"!=(r=r.slice(t-3,t+1))&&(a||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(finalise(n,u+1,1),e=!n.times(n).eq(this));break}if(!a&&(finalise(o,u+1,0),o.times(o).eq(this))){n=o;break}t+=4,a=1}return rz=!0,finalise(n,u,l.rounding,e)},rJ.tangent=rJ.tan=function(){var e,r,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(e=n.precision,r=n.rounding,n.precision=e+10,n.rounding=1,(t=t.sin()).s=1,t=rK(t,new n(1).minus(t.times(t)).sqrt(),e+10,0),n.precision=e,n.rounding=r,finalise(2==rn||4==rn?t.neg():t,e,r,!0)):new n(NaN)},rJ.times=rJ.mul=function(e){var r,t,n,a,o,s,u,c,l,p=this.constructor,m=this.d,h=(e=new p(e)).d;if(e.s*=this.s,!m||!m[0]||!h||!h[0])return new p(e.s&&(!m||m[0]||h)&&(!h||h[0]||m)?m&&h?0*e.s:e.s/0:NaN);for(t=rH(this.e/7)+rH(e.e/7),(c=m.length)<(l=h.length)&&(o=m,m=h,h=o,s=c,c=l,l=s),o=[],n=s=c+l;n--;)o.push(0);for(n=l;--n>=0;){for(r=0,a=c+n;a>n;)u=o[a]+h[n]*m[a-n-1]+r,o[a--]=u%1e7|0,r=u/1e7|0;o[a]=(o[a]+r)%1e7|0}for(;!o[--s];)o.pop();return r?++t:o.shift(),e.d=o,e.e=getBase10Exponent(o,t),rz?finalise(e,p.precision,p.rounding):e},rJ.toBinary=function(e,r){return toStringBinary(this,2,e,r)},rJ.toDecimalPlaces=rJ.toDP=function(e,r){var t=this,n=t.constructor;return(t=new n(t),void 0===e)?t:(checkInt32(e,0,1e9),void 0===r?r=n.rounding:checkInt32(r,0,8),finalise(t,e+t.e+1,r))},rJ.toExponential=function(e,r){var t,n=this,a=n.constructor;return void 0===e?t=finiteToString(n,!0):(checkInt32(e,0,1e9),void 0===r?r=a.rounding:checkInt32(r,0,8),t=finiteToString(n=finalise(new a(n),e+1,r),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+t:t},rJ.toFixed=function(e,r){var t,n,a=this.constructor;return void 0===e?t=finiteToString(this):(checkInt32(e,0,1e9),void 0===r?r=a.rounding:checkInt32(r,0,8),t=finiteToString(n=finalise(new a(this),e+this.e+1,r),!1,e+n.e+1)),this.isNeg()&&!this.isZero()?"-"+t:t},rJ.toFraction=function(e){var r,t,n,a,o,s,u,c,l,p,m,h,g=this.d,y=this.constructor;if(!g)return new y(this);if(l=t=new y(1),n=c=new y(0),s=(o=(r=new y(n)).e=getPrecision(g)-this.e-1)%7,r.d[0]=r$(10,s<0?7+s:s),null==e)e=o>0?r:l;else{if(!(u=new y(e)).isInt()||u.lt(l))throw Error(rq+u);e=u.gt(r)?o>0?r:l:u}for(rz=!1,u=new y(digitsToString(g)),p=y.precision,y.precision=o=14*g.length;m=rK(u,r,0,1,1),1!=(a=t.plus(m.times(n))).cmp(e);)t=n,n=a,a=l,l=c.plus(m.times(a)),c=a,a=r,r=u.minus(m.times(a)),u=a;return a=rK(e.minus(t),n,0,1,1),c=c.plus(a.times(l)),t=t.plus(a.times(n)),c.s=l.s=this.s,h=1>rK(l,n,o,1).minus(this).abs().cmp(rK(c,t,o,1).minus(this).abs())?[l,n]:[c,t],y.precision=p,rz=!0,h},rJ.toHexadecimal=rJ.toHex=function(e,r){return toStringBinary(this,16,e,r)},rJ.toNearest=function(e,r){var t=this,n=t.constructor;if(t=new n(t),null==e){if(!t.d)return t;e=new n(1),r=n.rounding}else{if(e=new n(e),void 0===r?r=n.rounding:checkInt32(r,0,8),!t.d)return e.s?t:e;if(!e.d)return e.s&&(e.s=t.s),e}return e.d[0]?(rz=!1,t=rK(t,e,0,r,1).times(e),rz=!0,finalise(t)):(e.s=t.s,t=e),t},rJ.toNumber=function(){return+this},rJ.toOctal=function(e,r){return toStringBinary(this,8,e,r)},rJ.toPower=rJ.pow=function(e){var r,t,n,a,o,s,u=this,c=u.constructor,l=+(e=new c(e));if(!u.d||!e.d||!u.d[0]||!e.d[0])return new c(r$(+u,l));if((u=new c(u)).eq(1))return u;if(n=c.precision,o=c.rounding,e.eq(1))return finalise(u,n,o);if((r=rH(e.e/7))>=e.d.length-1&&(t=l<0?-l:l)<=9007199254740991)return a=intPow(c,u,t,n),e.s<0?new c(1).div(a):finalise(a,n,o);if((s=u.s)<0){if(r<e.d.length-1)return new c(NaN);if((1&e.d[r])==0&&(s=1),0==u.e&&1==u.d[0]&&1==u.d.length)return u.s=s,u}return(r=0!=(t=r$(+u,l))&&isFinite(t)?new c(t+"").e:rH(l*(Math.log("0."+digitsToString(u.d))/Math.LN10+u.e+1)))>c.maxE+1||r<c.minE-1?new c(r>0?s/0:0):(rz=!1,c.rounding=u.s=1,t=Math.min(12,(r+"").length),(a=naturalExponential(e.times(naturalLogarithm(u,n+t)),n)).d&&checkRoundingDigits((a=finalise(a,n+5,1)).d,n,o)&&(r=n+10,+digitsToString((a=finalise(naturalExponential(e.times(naturalLogarithm(u,r+t)),r),r+5,1)).d).slice(n+1,n+15)+1==1e14&&(a=finalise(a,n+1,0))),a.s=s,rz=!0,c.rounding=o,finalise(a,n,o))},rJ.toPrecision=function(e,r){var t,n=this,a=n.constructor;return void 0===e?t=finiteToString(n,n.e<=a.toExpNeg||n.e>=a.toExpPos):(checkInt32(e,1,1e9),void 0===r?r=a.rounding:checkInt32(r,0,8),t=finiteToString(n=finalise(new a(n),e,r),e<=n.e||n.e<=a.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+t:t},rJ.toSignificantDigits=rJ.toSD=function(e,r){var t=this.constructor;return void 0===e?(e=t.precision,r=t.rounding):(checkInt32(e,1,1e9),void 0===r?r=t.rounding:checkInt32(r,0,8)),finalise(new t(this),e,r)},rJ.toString=function(){var e=this.constructor,r=finiteToString(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()&&!this.isZero()?"-"+r:r},rJ.truncated=rJ.trunc=function(){return finalise(new this.constructor(this),this.e+1,1)},rJ.valueOf=rJ.toJSON=function(){var e=this.constructor,r=finiteToString(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()?"-"+r:r};var rK=function(){function multiplyInteger(e,r,t){var n,a=0,o=e.length;for(e=e.slice();o--;)n=e[o]*r+a,e[o]=n%t|0,a=n/t|0;return a&&e.unshift(a),e}function compare(e,r,t,n){var a,o;if(t!=n)o=t>n?1:-1;else for(a=o=0;a<t;a++)if(e[a]!=r[a]){o=e[a]>r[a]?1:-1;break}return o}function subtract(e,r,t,n){for(var a=0;t--;)e[t]-=a,a=e[t]<r[t]?1:0,e[t]=a*n+e[t]-r[t];for(;!e[0]&&e.length>1;)e.shift()}return function(e,r,t,n,a,o){var s,u,c,l,p,m,h,g,y,v,x,b,N,w,_,D,E,A,C,S,M=e.constructor,F=e.s==r.s?1:-1,T=e.d,O=r.d;if(!T||!T[0]||!O||!O[0])return new M(e.s&&r.s&&(T?!O||T[0]!=O[0]:O)?T&&0==T[0]||!O?0*F:F/0:NaN);for(o?(p=1,u=e.e-r.e):(o=1e7,p=7,u=rH(e.e/p)-rH(r.e/p)),C=O.length,E=T.length,v=(y=new M(F)).d=[],c=0;O[c]==(T[c]||0);c++);if(O[c]>(T[c]||0)&&u--,null==t?(w=t=M.precision,n=M.rounding):w=a?t+(e.e-r.e)+1:t,w<0)v.push(1),m=!0;else{if(w=w/p+2|0,c=0,1==C){for(l=0,O=O[0],w++;(c<E||l)&&w--;c++)_=l*o+(T[c]||0),v[c]=_/O|0,l=_%O|0;m=l||c<E}else{for((l=o/(O[0]+1)|0)>1&&(O=multiplyInteger(O,l,o),T=multiplyInteger(T,l,o),C=O.length,E=T.length),D=C,b=(x=T.slice(0,C)).length;b<C;)x[b++]=0;(S=O.slice()).unshift(0),A=O[0],O[1]>=o/2&&++A;do l=0,(s=compare(O,x,C,b))<0?(N=x[0],C!=b&&(N=N*o+(x[1]||0)),(l=N/A|0)>1?(l>=o&&(l=o-1),g=(h=multiplyInteger(O,l,o)).length,b=x.length,1==(s=compare(h,x,g,b))&&(l--,subtract(h,C<g?S:O,g,o))):(0==l&&(s=l=1),h=O.slice()),(g=h.length)<b&&h.unshift(0),subtract(x,h,b,o),-1==s&&(b=x.length,(s=compare(O,x,C,b))<1&&(l++,subtract(x,C<b?S:O,b,o))),b=x.length):0===s&&(l++,x=[0]),v[c++]=l,s&&x[0]?x[b++]=T[D]||0:(x=[T[D]],b=1);while((D++<E||void 0!==x[0])&&w--);m=void 0!==x[0]}v[0]||v.shift()}if(1==p)y.e=u,rt=m;else{for(c=1,l=v[0];l>=10;l/=10)c++;y.e=c+u*p-1,finalise(y,a?t+y.e+1:t,n,m)}return y}}();function finalise(e,r,t,n){var a,o,s,u,c,l,p,m,h,g=e.constructor;e:if(null!=r){if(!(m=e.d))return e;for(a=1,u=m[0];u>=10;u/=10)a++;if((o=r-a)<0)o+=7,s=r,c=(p=m[h=0])/r$(10,a-s-1)%10|0;else if((h=Math.ceil((o+1)/7))>=(u=m.length)){if(n){for(;u++<=h;)m.push(0);p=c=0,a=1,o%=7,s=o-7+1}else break e}else{for(a=1,p=u=m[h];u>=10;u/=10)a++;o%=7,c=(s=o-7+a)<0?0:p/r$(10,a-s-1)%10|0}if(n=n||r<0||void 0!==m[h+1]||(s<0?p:p%r$(10,a-s-1)),l=t<4?(c||n)&&(0==t||t==(e.s<0?3:2)):c>5||5==c&&(4==t||n||6==t&&(o>0?s>0?p/r$(10,a-s):0:m[h-1])%10&1||t==(e.s<0?8:7)),r<1||!m[0])return m.length=0,l?(r-=e.e+1,m[0]=r$(10,(7-r%7)%7),e.e=-r||0):m[0]=e.e=0,e;if(0==o?(m.length=h,u=1,h--):(m.length=h+1,u=r$(10,7-o),m[h]=s>0?(p/r$(10,a-s)%r$(10,s)|0)*u:0),l)for(;;){if(0==h){for(o=1,s=m[0];s>=10;s/=10)o++;for(s=m[0]+=u,u=1;s>=10;s/=10)u++;o!=u&&(e.e++,1e7==m[0]&&(m[0]=1));break}if(m[h]+=u,1e7!=m[h])break;m[h--]=0,u=1}for(o=m.length;0===m[--o];)m.pop()}return rz&&(e.e>g.maxE?(e.d=null,e.e=NaN):e.e<g.minE&&(e.e=0,e.d=[0])),e}function finiteToString(e,r,t){if(!e.isFinite())return nonFiniteToString(e);var n,a=e.e,o=digitsToString(e.d),s=o.length;return r?(t&&(n=t-s)>0?o=o.charAt(0)+"."+o.slice(1)+getZeroString(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):a<0?(o="0."+getZeroString(-a-1)+o,t&&(n=t-s)>0&&(o+=getZeroString(n))):a>=s?(o+=getZeroString(a+1-s),t&&(n=t-a-1)>0&&(o=o+"."+getZeroString(n))):((n=a+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),t&&(n=t-s)>0&&(a+1===s&&(o+="."),o+=getZeroString(n))),o}function getBase10Exponent(e,r){var t=e[0];for(r*=7;t>=10;t/=10)r++;return r}function getLn10(e,r,t){if(r>rY)throw rz=!0,t&&(e.precision=t),Error(rj);return finalise(new e(rk),r,1,!0)}function getPi(e,r,t){if(r>rX)throw Error(rj);return finalise(new e(rI),r,t,!0)}function getPrecision(e){var r=e.length-1,t=7*r+1;if(r=e[r]){for(;r%10==0;r/=10)t--;for(r=e[0];r>=10;r/=10)t++}return t}function getZeroString(e){for(var r="";e--;)r+="0";return r}function intPow(e,r,t,n){var a,o=new e(1),s=Math.ceil(n/7+4);for(rz=!1;;){if(t%2&&truncate((o=o.times(r)).d,s)&&(a=!0),0===(t=rH(t/2))){t=o.d.length-1,a&&0===o.d[t]&&++o.d[t];break}truncate((r=r.times(r)).d,s)}return rz=!0,o}function isOdd(e){return 1&e.d[e.d.length-1]}function maxOrMin(e,r,t){for(var n,a=new e(r[0]),o=0;++o<r.length;)if((n=new e(r[o])).s)a[t](n)&&(a=n);else{a=n;break}return a}function naturalExponential(e,r){var t,n,a,o,s,u,c,l=0,p=0,m=0,h=e.constructor,g=h.rounding,y=h.precision;if(!e.d||!e.d[0]||e.e>17)return new h(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(null==r?(rz=!1,c=y):c=r,u=new h(.03125);e.e>-2;)e=e.times(u),m+=5;for(c+=n=Math.log(r$(2,m))/Math.LN10*2+5|0,t=o=s=new h(1),h.precision=c;;){if(o=finalise(o.times(e),c,1),t=t.times(++p),digitsToString((u=s.plus(rK(o,t,c,1))).d).slice(0,c)===digitsToString(s.d).slice(0,c)){for(a=m;a--;)s=finalise(s.times(s),c,1);if(null!=r)return h.precision=y,s;if(!(l<3&&checkRoundingDigits(s.d,c-n,g,l)))return finalise(s,h.precision=y,g,rz=!0);h.precision=c+=10,t=o=u=new h(1),p=0,l++}s=u}}function naturalLogarithm(e,r){var t,n,a,o,s,u,c,l,p,m,h,g=1,y=e,v=y.d,x=y.constructor,b=x.rounding,N=x.precision;if(y.s<0||!v||!v[0]||!y.e&&1==v[0]&&1==v.length)return new x(v&&!v[0]?-1/0:1!=y.s?NaN:v?0:y);if(null==r?(rz=!1,p=N):p=r,x.precision=p+=10,n=(t=digitsToString(v)).charAt(0),!(15e14>Math.abs(o=y.e)))return l=getLn10(x,p+2,N).times(o+""),y=naturalLogarithm(new x(n+"."+t.slice(1)),p-10).plus(l),x.precision=N,null==r?finalise(y,N,b,rz=!0):y;for(;n<7&&1!=n||1==n&&t.charAt(1)>3;)n=(t=digitsToString((y=y.times(e)).d)).charAt(0),g++;for(o=y.e,n>1?(y=new x("0."+t),o++):y=new x(n+"."+t.slice(1)),m=y,c=s=y=rK(y.minus(1),y.plus(1),p,1),h=finalise(y.times(y),p,1),a=3;;){if(s=finalise(s.times(h),p,1),digitsToString((l=c.plus(rK(s,new x(a),p,1))).d).slice(0,p)===digitsToString(c.d).slice(0,p)){if(c=c.times(2),0!==o&&(c=c.plus(getLn10(x,p+2,N).times(o+""))),c=rK(c,new x(g),p,1),null!=r)return x.precision=N,c;if(!checkRoundingDigits(c.d,p-10,b,u))return finalise(c,x.precision=N,b,rz=!0);x.precision=p+=10,l=s=y=rK(m.minus(1),m.plus(1),p,1),h=finalise(y.times(y),p,1),a=u=1}c=l,a+=2}}function nonFiniteToString(e){return String(e.s*e.s/0)}function parseDecimal(e,r){var t,n,a;for((t=r.indexOf("."))>-1&&(r=r.replace(".","")),(n=r.search(/e/i))>0?(t<0&&(t=n),t+=+r.slice(n+1),r=r.substring(0,n)):t<0&&(t=r.length),n=0;48===r.charCodeAt(n);n++);for(a=r.length;48===r.charCodeAt(a-1);--a);if(r=r.slice(n,a)){if(a-=n,e.e=t=t-n-1,e.d=[],n=(t+1)%7,t<0&&(n+=7),n<a){for(n&&e.d.push(+r.slice(0,n)),a-=7;n<a;)e.d.push(+r.slice(n,n+=7));n=7-(r=r.slice(n)).length}else n-=a;for(;n--;)r+="0";e.d.push(+r),rz&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function taylorSeries(e,r,t,n,a){var o,s,u,c,l=e.precision,p=Math.ceil(l/7);for(rz=!1,c=t.times(t),u=new e(n);;){if(s=rK(u.times(c),new e(r++*r++),l,1),u=a?n.plus(s):n.minus(s),n=rK(s.times(c),new e(r++*r++),l,1),void 0!==(s=u.plus(n)).d[p]){for(o=p;s.d[o]===u.d[o]&&o--;);if(-1==o)break}o=u,u=n,n=s,s=o}return rz=!0,s.d.length=p+1,s}function tinyPow(e,r){for(var t=e;--r;)t*=e;return t}function toLessThanHalfPi(e,r){var t,n=r.s<0,a=getPi(e,e.precision,1),o=a.times(.5);if((r=r.abs()).lte(o))return rn=n?4:1,r;if((t=r.divToInt(a)).isZero())rn=n?3:2;else{if((r=r.minus(t.times(a))).lte(o))return rn=isOdd(t)?n?2:3:n?4:1,r;rn=isOdd(t)?n?1:4:n?3:2}return r.minus(a).abs()}function toStringBinary(e,r,t,n){var a,o,s,u,c,l,p,m,h,g=e.constructor,y=void 0!==t;if(y?(checkInt32(t,1,1e9),void 0===n?n=g.rounding:checkInt32(n,0,8)):(t=g.precision,n=g.rounding),e.isFinite()){for(s=(p=finiteToString(e)).indexOf("."),y?(a=2,16==r?t=4*t-3:8==r&&(t=3*t-2)):a=r,s>=0&&(p=p.replace(".",""),(h=new g(1)).e=p.length-s,h.d=convertBase(finiteToString(h),10,a),h.e=h.d.length),o=c=(m=convertBase(p,10,a)).length;0==m[--c];)m.pop();if(m[0]){if(s<0?o--:((e=new g(e)).d=m,e.e=o,m=(e=rK(e,h,t,n,0,a)).d,o=e.e,l=rt),s=m[t],u=a/2,l=l||void 0!==m[t+1],l=n<4?(void 0!==s||l)&&(0===n||n===(e.s<0?3:2)):s>u||s===u&&(4===n||l||6===n&&1&m[t-1]||n===(e.s<0?8:7)),m.length=t,l)for(;++m[--t]>a-1;)m[t]=0,t||(++o,m.unshift(1));for(c=m.length;!m[c-1];--c);for(s=0,p="";s<c;s++)p+=rB.charAt(m[s]);if(y){if(c>1){if(16==r||8==r){for(s=16==r?4:3,--c;c%s;c++)p+="0";for(c=(m=convertBase(p,a,r)).length;!m[c-1];--c);for(s=1,p="1.";s<c;s++)p+=rB.charAt(m[s])}else p=p.charAt(0)+"."+p.slice(1)}p=p+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)p="0"+p;p="0."+p}else if(++o>c)for(o-=c;o--;)p+="0";else o<c&&(p=p.slice(0,o)+"."+p.slice(o))}else p=y?"0p+0":"0";p=(16==r?"0x":2==r?"0b":8==r?"0o":"")+p}else p=nonFiniteToString(e);return e.s<0?"-"+p:p}function truncate(e,r){if(e.length>r)return e.length=r,!0}function abs(e){return new this(e).abs()}function acos(e){return new this(e).acos()}function decimal_acosh(e){return new this(e).acosh()}function add(e,r){return new this(e).plus(r)}function asin(e){return new this(e).asin()}function decimal_asinh(e){return new this(e).asinh()}function atan(e){return new this(e).atan()}function decimal_atanh(e){return new this(e).atanh()}function atan2(e,r){e=new this(e),r=new this(r);var t,n=this.precision,a=this.rounding,o=n+4;return e.s&&r.s?e.d||r.d?!r.d||e.isZero()?(t=r.s<0?getPi(this,n,a):new this(0)).s=e.s:!e.d||r.isZero()?(t=getPi(this,o,1).times(.5)).s=e.s:r.s<0?(this.precision=o,this.rounding=1,t=this.atan(rK(e,r,o,1)),r=getPi(this,o,1),this.precision=n,this.rounding=a,t=e.s<0?t.minus(r):t.plus(r)):t=this.atan(rK(e,r,o,1)):(t=getPi(this,o,1).times(r.s>0?.25:.75)).s=e.s:t=new this(NaN),t}function decimal_cbrt(e){return new this(e).cbrt()}function ceil(e){return finalise(e=new this(e),e.e+1,2)}function clamp(e,r,t){return new this(e).clamp(r,t)}function decimal_config(e){if(!e||"object"!=typeof e)throw Error(rR+"Object expected");var r,t,n,a=!0===e.defaults,o=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(r=0;r<o.length;r+=3)if(t=o[r],a&&(this[t]=rP[t]),void 0!==(n=e[t])){if(rH(n)===n&&n>=o[r+1]&&n<=o[r+2])this[t]=n;else throw Error(rq+t+": "+n)}if(t="crypto",a&&(this[t]=rP[t]),void 0!==(n=e[t])){if(!0===n||!1===n||0===n||1===n){if(n){if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(rU)}else this[t]=!1}else throw Error(rq+t+": "+n)}return this}function cos(e){return new this(e).cos()}function decimal_cosh(e){return new this(e).cosh()}function div(e,r){return new this(e).div(r)}function exp(e){return new this(e).exp()}function floor(e){return finalise(e=new this(e),e.e+1,3)}function hypot(){var e,r,t=new this(0);for(e=0,rz=!1;e<arguments.length;)if(r=new this(arguments[e++]),r.d)t.d&&(t=t.plus(r.times(r)));else{if(r.s)return rz=!0,new this(1/0);t=r}return rz=!0,t.sqrt()}function isDecimalInstance(e){return e instanceof rQ||e&&e.toStringTag===rL||!1}function ln(e){return new this(e).ln()}function log(e,r){return new this(e).log(r)}function decimal_log2(e){return new this(e).log(2)}function decimal_log10(e){return new this(e).log(10)}function max(){return maxOrMin(this,arguments,"lt")}function min(){return maxOrMin(this,arguments,"gt")}function mod(e,r){return new this(e).mod(r)}function mul(e,r){return new this(e).mul(r)}function pow(e,r){return new this(e).pow(r)}function random(e){var r,t,n,a,o=0,s=new this(1),u=[];if(void 0===e?e=this.precision:checkInt32(e,1,1e9),n=Math.ceil(e/7),this.crypto){if(crypto.getRandomValues)for(r=crypto.getRandomValues(new Uint32Array(n));o<n;)(a=r[o])>=429e7?r[o]=crypto.getRandomValues(new Uint32Array(1))[0]:u[o++]=a%1e7;else if(crypto.randomBytes){for(r=crypto.randomBytes(n*=4);o<n;)(a=r[o]+(r[o+1]<<8)+(r[o+2]<<16)+((127&r[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(r,o):(u.push(a%1e7),o+=4);o=n/4}else throw Error(rU)}else for(;o<n;)u[o++]=1e7*Math.random()|0;for(n=u[--o],e%=7,n&&e&&(a=r$(10,7-e),u[o]=(n/a|0)*a);0===u[o];o--)u.pop();if(o<0)t=0,u=[0];else{for(t=-1;0===u[0];t-=7)u.shift();for(n=1,a=u[0];a>=10;a/=10)n++;n<7&&(t-=7-n)}return s.e=t,s.d=u,s}function round(e){return finalise(e=new this(e),e.e+1,this.rounding)}function decimal_sign(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function sin(e){return new this(e).sin()}function decimal_sinh(e){return new this(e).sinh()}function sqrt(e){return new this(e).sqrt()}function sub(e,r){return new this(e).sub(r)}function sum(){var e=0,r=arguments,t=new this(r[e]);for(rz=!1;t.s&&++e<r.length;)t=t.plus(r[e]);return rz=!0,finalise(t,this.precision,this.rounding)}function tan(e){return new this(e).tan()}function decimal_tanh(e){return new this(e).tanh()}function trunc(e){return finalise(e=new this(e),e.e+1,1)}rJ[Symbol.for("nodejs.util.inspect.custom")]=rJ.toString,rJ[Symbol.toStringTag]="Decimal";var rQ=rJ.constructor=function decimal_clone(e){var r,t,n;function Decimal(e){var r,t,n;if(!(this instanceof Decimal))return new Decimal(e);if(this.constructor=Decimal,isDecimalInstance(e)){this.s=e.s,rz?!e.d||e.e>Decimal.maxE?(this.e=NaN,this.d=null):e.e<Decimal.minE?(this.e=0,this.d=[0]):(this.e=e.e,this.d=e.d.slice()):(this.e=e.e,this.d=e.d?e.d.slice():e.d);return}if("number"==(n=typeof e)){if(0===e){this.s=1/e<0?-1:1,this.e=0,this.d=[0];return}if(e<0?(e=-e,this.s=-1):this.s=1,e===~~e&&e<1e7){for(r=0,t=e;t>=10;t/=10)r++;rz?r>Decimal.maxE?(this.e=NaN,this.d=null):r<Decimal.minE?(this.e=0,this.d=[0]):(this.e=r,this.d=[e]):(this.e=r,this.d=[e]);return}if(0*e!=0){e||(this.s=NaN),this.e=NaN,this.d=null;return}return parseDecimal(this,e.toString())}if("string"!==n)throw Error(rq+e);return 45===(t=e.charCodeAt(0))?(e=e.slice(1),this.s=-1):(43===t&&(e=e.slice(1)),this.s=1),rW.test(e)?parseDecimal(this,e):function(e,r){var t,n,a,o,s,u,c,l,p;if(r.indexOf("_")>-1){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),rW.test(r))return parseDecimal(e,r)}else if("Infinity"===r||"NaN"===r)return+r||(e.s=NaN),e.e=NaN,e.d=null,e;if(rZ.test(r))t=16,r=r.toLowerCase();else if(rV.test(r))t=2;else if(rG.test(r))t=8;else throw Error(rq+r);for((o=r.search(/p/i))>0?(c=+r.slice(o+1),r=r.substring(2,o)):r=r.slice(2),s=(o=r.indexOf("."))>=0,n=e.constructor,s&&(o=(u=(r=r.replace(".","")).length)-o,a=intPow(n,new n(t),o,2*o)),o=p=(l=convertBase(r,t,1e7)).length-1;0===l[o];--o)l.pop();return o<0?new n(0*e.s):(e.e=getBase10Exponent(l,p),e.d=l,rz=!1,s&&(e=rK(e,a,4*u)),c&&(e=e.times(54>Math.abs(c)?r$(2,c):rQ.pow(2,c))),rz=!0,e)}(this,e)}if(Decimal.prototype=rJ,Decimal.ROUND_UP=0,Decimal.ROUND_DOWN=1,Decimal.ROUND_CEIL=2,Decimal.ROUND_FLOOR=3,Decimal.ROUND_HALF_UP=4,Decimal.ROUND_HALF_DOWN=5,Decimal.ROUND_HALF_EVEN=6,Decimal.ROUND_HALF_CEIL=7,Decimal.ROUND_HALF_FLOOR=8,Decimal.EUCLID=9,Decimal.config=Decimal.set=decimal_config,Decimal.clone=decimal_clone,Decimal.isDecimal=isDecimalInstance,Decimal.abs=abs,Decimal.acos=acos,Decimal.acosh=decimal_acosh,Decimal.add=add,Decimal.asin=asin,Decimal.asinh=decimal_asinh,Decimal.atan=atan,Decimal.atanh=decimal_atanh,Decimal.atan2=atan2,Decimal.cbrt=decimal_cbrt,Decimal.ceil=ceil,Decimal.clamp=clamp,Decimal.cos=cos,Decimal.cosh=decimal_cosh,Decimal.div=div,Decimal.exp=exp,Decimal.floor=floor,Decimal.hypot=hypot,Decimal.ln=ln,Decimal.log=log,Decimal.log10=decimal_log10,Decimal.log2=decimal_log2,Decimal.max=max,Decimal.min=min,Decimal.mod=mod,Decimal.mul=mul,Decimal.pow=pow,Decimal.random=random,Decimal.round=round,Decimal.sign=decimal_sign,Decimal.sin=sin,Decimal.sinh=decimal_sinh,Decimal.sqrt=sqrt,Decimal.sub=sub,Decimal.sum=sum,Decimal.tan=tan,Decimal.tanh=decimal_tanh,Decimal.trunc=trunc,void 0===e&&(e={}),e&&!0!==e.defaults)for(r=0,n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"];r<n.length;)e.hasOwnProperty(t=n[r++])||(e[t]=this[t]);return Decimal.config(e),Decimal}(rP);rk=new rQ(rk),rI=new rQ(rI);var r0=factory_factory("BigNumber",["?on","config"],e=>{var{on:r,config:t}=e,n=rQ.clone({precision:t.precision,modulo:rQ.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(e){return new n(e.value)},r&&r("config",function(e,r){e.precision!==r.precision&&n.config({precision:e.precision})}),n},{isClass:!0}),r1=t(1977),r2=factory_factory("Complex",[],()=>(Object.defineProperty(r1,"name",{value:"Complex"}),r1.prototype.constructor=r1,r1.prototype.type="Complex",r1.prototype.isComplex=!0,r1.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},r1.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},r1.prototype.format=function(e){var r=this.im,t=this.re,n=format(this.re,e),a=format(this.im,e),o=isNumber(e)?e:e?e.precision:null;if(null!==o){var s=Math.pow(10,-o);Math.abs(t/r)<s&&(t=0),Math.abs(r/t)<s&&(r=0)}return 0===r?n:0===t?1===r?"i":-1===r?"-i":a+"i":r<0?-1===r?n+" - i":n+" - "+a.substring(1)+"i":1===r?n+" + i":n+" + "+a+"i"},r1.fromPolar=function(e){switch(arguments.length){case 1:var r=arguments[0];if("object"==typeof r)return r1(r);throw TypeError("Input has to be an object with r and phi keys.");case 2:var t=arguments[0],n=arguments[1];if(isNumber(t)){if(isUnit(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),isNumber(n))return new r1({r:t,phi:n});throw TypeError("Phi is not a number nor an angle unit.")}throw TypeError("Radius r is not a number.");default:throw SyntaxError("Wrong number of arguments in function fromPolar")}},r1.prototype.valueOf=r1.prototype.toString,r1.fromJSON=function(e){return new r1(e)},r1.compare=function(e,r){return e.re>r.re?1:e.re<r.re?-1:e.im>r.im?1:e.im<r.im?-1:0},r1),{isClass:!0});function memoize(e){var{hasher:r,limit:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=null==t?Number.POSITIVE_INFINITY:t,r=null==r?JSON.stringify:r,function memoize(){if("object"!=typeof memoize.cache){var n,a,o,s,u,c,l;memoize.cache={values:new Map,lru:(n=t||Number.POSITIVE_INFINITY,a=0,o=1,s=Object.create(null),u=Object.create(null),c=0,l=function(e){var r=u[e];if(r&&(delete s[r],delete u[e],--a,o===r)){if(!a){c=0,o=1;return}for(;!Object.prototype.hasOwnProperty.call(s,++o););}},n=Math.abs(n),{hit:function(e){var r=u[e],t=++c;if(s[t]=e,u[e]=t,!r){if(++a<=n)return;return l(e=s[o]),e}if(delete s[r],o===r)for(;!Object.prototype.hasOwnProperty.call(s,++o););},delete:l,clear:function(){a=c=0,o=1,s=Object.create(null),u=Object.create(null)}})}}for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];var h=r(p);if(memoize.cache.values.has(h))return memoize.cache.lru.hit(h),memoize.cache.values.get(h);var g=e.apply(e,p);return memoize.cache.values.set(h,g),memoize.cache.values.delete(memoize.cache.lru.hit(h)),g}}function maxArgumentCount(e){return Object.keys(e.signatures||{}).reduce(function(e,r){return Math.max(e,(r.match(/,/g)||[]).length+1)},-1)}var r3=memoize(function(e){return new e(1).exp()},{hasher}),r5=memoize(function(e){return new e(1).plus(new e(5).sqrt()).div(2)},{hasher}),r4=memoize(function(e){return e.acos(-1)},{hasher}),r8=memoize(function(e){return r4(e).times(2)},{hasher});function hasher(e){return e[0].precision}var r6=Math.PI,r7=2*Math.PI,r9=Math.E,te=factory_factory("true",[],()=>!0),tr=factory_factory("false",[],()=>!1),tt=factory_factory("null",[],()=>null),tn=recreateFactory("Infinity",["config","?BigNumber"],e=>{var{config:r,BigNumber:t}=e;return"BigNumber"===r.number?new t(1/0):1/0}),ti=recreateFactory("NaN",["config","?BigNumber"],e=>{var{config:r,BigNumber:t}=e;return"BigNumber"===r.number?new t(NaN):NaN}),ta=recreateFactory("pi",["config","?BigNumber"],e=>{var{config:r,BigNumber:t}=e;return"BigNumber"===r.number?r4(t):r6}),ts=recreateFactory("tau",["config","?BigNumber"],e=>{var{config:r,BigNumber:t}=e;return"BigNumber"===r.number?r8(t):r7}),tu=recreateFactory("e",["config","?BigNumber"],e=>{var{config:r,BigNumber:t}=e;return"BigNumber"===r.number?r3(t):r9}),tc=recreateFactory("phi",["config","?BigNumber"],e=>{var{config:r,BigNumber:t}=e;return"BigNumber"===r.number?r5(t):1.618033988749895}),tl=recreateFactory("LN2",["config","?BigNumber"],e=>{var{config:r,BigNumber:t}=e;return"BigNumber"===r.number?new t(2).ln():Math.LN2}),tf=recreateFactory("LN10",["config","?BigNumber"],e=>{var{config:r,BigNumber:t}=e;return"BigNumber"===r.number?new t(10).ln():Math.LN10}),tp=recreateFactory("LOG2E",["config","?BigNumber"],e=>{var{config:r,BigNumber:t}=e;return"BigNumber"===r.number?new t(1).div(new t(2).ln()):Math.LOG2E}),tm=recreateFactory("LOG10E",["config","?BigNumber"],e=>{var{config:r,BigNumber:t}=e;return"BigNumber"===r.number?new t(1).div(new t(10).ln()):Math.LOG10E}),th=recreateFactory("SQRT1_2",["config","?BigNumber"],e=>{var{config:r,BigNumber:t}=e;return"BigNumber"===r.number?new t("0.5").sqrt():Math.SQRT1_2}),td=recreateFactory("SQRT2",["config","?BigNumber"],e=>{var{config:r,BigNumber:t}=e;return"BigNumber"===r.number?new t(2).sqrt():Math.SQRT2}),tg=recreateFactory("i",["Complex"],e=>{var{Complex:r}=e;return r.I}),ty=factory_factory("version",[],()=>"12.1.0");function recreateFactory(e,r,t){return factory_factory(e,r,t,{recreateOnConfigChange:!0})}var tv=unitFactory("speedOfLight","299792458","m s^-1"),tx=unitFactory("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),tb=unitFactory("planckConstant","6.62607015e-34","J s"),tN=unitFactory("reducedPlanckConstant","1.0545718176461565e-34","J s"),tw=unitFactory("magneticConstant","1.25663706212e-6","N A^-2"),t_=unitFactory("electricConstant","8.8541878128e-12","F m^-1"),tD=unitFactory("vacuumImpedance","376.730313667","ohm"),tE=unitFactory("coulomb","8.987551792261171e9","N m^2 C^-2"),tA=unitFactory("elementaryCharge","1.602176634e-19","C"),tC=unitFactory("bohrMagneton","9.2740100783e-24","J T^-1"),tS=unitFactory("conductanceQuantum","7.748091729863649e-5","S"),tM=unitFactory("inverseConductanceQuantum","12906.403729652257","ohm"),tF=unitFactory("magneticFluxQuantum","2.0678338484619295e-15","Wb"),tT=unitFactory("nuclearMagneton","5.0507837461e-27","J T^-1"),tO=unitFactory("klitzing","25812.807459304513","ohm"),tB=unitFactory("bohrRadius","5.29177210903e-11","m"),tk=unitFactory("classicalElectronRadius","2.8179403262e-15","m"),tI=unitFactory("electronMass","9.1093837015e-31","kg"),tP=unitFactory("fermiCoupling","1.1663787e-5","GeV^-2"),tz=numberFactory("fineStructure",.0072973525693),tR=unitFactory("hartreeEnergy","4.3597447222071e-18","J"),tq=unitFactory("protonMass","1.67262192369e-27","kg"),tj=unitFactory("deuteronMass","3.3435830926e-27","kg"),tU=unitFactory("neutronMass","1.6749271613e-27","kg"),tL=unitFactory("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),tH=unitFactory("rydberg","10973731.568160","m^-1"),t$=unitFactory("thomsonCrossSection","6.6524587321e-29","m^2"),tV=numberFactory("weakMixingAngle",.2229),tZ=numberFactory("efimovFactor",22.7),tG=unitFactory("atomicMass","1.66053906660e-27","kg"),tW=unitFactory("avogadro","6.02214076e23","mol^-1"),tY=unitFactory("boltzmann","1.380649e-23","J K^-1"),tX=unitFactory("faraday","96485.33212331001","C mol^-1"),tJ=unitFactory("firstRadiation","3.7417718521927573e-16","W m^2"),tK=unitFactory("loschmidt","2.686780111798444e25","m^-3"),tQ=unitFactory("gasConstant","8.31446261815324","J K^-1 mol^-1"),t0=unitFactory("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),t1=unitFactory("molarVolume","0.022413969545014137","m^3 mol^-1"),t2=numberFactory("sackurTetrode",-1.16487052358),t3=unitFactory("secondRadiation","0.014387768775039337","m K"),t5=unitFactory("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),t4=unitFactory("wienDisplacement","2.897771955e-3","m K"),t8=unitFactory("molarMass","0.99999999965e-3","kg mol^-1"),t6=unitFactory("molarMassC12","11.9999999958e-3","kg mol^-1"),t7=unitFactory("gravity","9.80665","m s^-2"),t9=unitFactory("planckLength","1.616255e-35","m"),ne=unitFactory("planckMass","2.176435e-8","kg"),nr=unitFactory("planckTime","5.391245e-44","s"),nt=unitFactory("planckCharge","1.87554603778e-18","C"),nn=unitFactory("planckTemperature","1.416785e+32","K");function unitFactory(e,r,t){return factory_factory(e,["config","Unit","BigNumber"],e=>{var{config:n,Unit:a,BigNumber:o}=e,s="BigNumber"===n.number?new o(r):parseFloat(r),u=new a(s,t);return u.fixPrefix=!0,u})}function numberFactory(e,r){return factory_factory(e,["config","BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?new n(r):r})}var ni=t(6175),na=factory_factory("Fraction",[],()=>(Object.defineProperty(ni,"name",{value:"Fraction"}),ni.prototype.constructor=ni,ni.prototype.type="Fraction",ni.prototype.isFraction=!0,ni.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},ni.fromJSON=function(e){return new ni(e)},ni),{isClass:!0}),no=factory_factory("Matrix",[],()=>{function Matrix(){if(!(this instanceof Matrix))throw SyntaxError("Constructor must be called with the new operator")}return Matrix.prototype.type="Matrix",Matrix.prototype.isMatrix=!0,Matrix.prototype.storage=function(){throw Error("Cannot invoke storage on a Matrix interface")},Matrix.prototype.datatype=function(){throw Error("Cannot invoke datatype on a Matrix interface")},Matrix.prototype.create=function(e,r){throw Error("Cannot invoke create on a Matrix interface")},Matrix.prototype.subset=function(e,r,t){throw Error("Cannot invoke subset on a Matrix interface")},Matrix.prototype.get=function(e){throw Error("Cannot invoke get on a Matrix interface")},Matrix.prototype.set=function(e,r,t){throw Error("Cannot invoke set on a Matrix interface")},Matrix.prototype.resize=function(e,r){throw Error("Cannot invoke resize on a Matrix interface")},Matrix.prototype.reshape=function(e,r){throw Error("Cannot invoke reshape on a Matrix interface")},Matrix.prototype.clone=function(){throw Error("Cannot invoke clone on a Matrix interface")},Matrix.prototype.size=function(){throw Error("Cannot invoke size on a Matrix interface")},Matrix.prototype.map=function(e,r){throw Error("Cannot invoke map on a Matrix interface")},Matrix.prototype.forEach=function(e){throw Error("Cannot invoke forEach on a Matrix interface")},Matrix.prototype[Symbol.iterator]=function(){throw Error("Cannot iterate a Matrix interface")},Matrix.prototype.toArray=function(){throw Error("Cannot invoke toArray on a Matrix interface")},Matrix.prototype.valueOf=function(){throw Error("Cannot invoke valueOf on a Matrix interface")},Matrix.prototype.format=function(e){throw Error("Cannot invoke format on a Matrix interface")},Matrix.prototype.toString=function(){throw Error("Cannot invoke toString on a Matrix interface")},Matrix},{isClass:!0}),ns=factory_factory("Range",[],()=>{function Range(e,r,t){if(!(this instanceof Range))throw SyntaxError("Constructor must be called with the new operator");var n=null!=e,a=null!=r,o=null!=t;if(n){if(isBigNumber(e))e=e.toNumber();else if("number"!=typeof e)throw TypeError("Parameter start must be a number")}if(a){if(isBigNumber(r))r=r.toNumber();else if("number"!=typeof r)throw TypeError("Parameter end must be a number")}if(o){if(isBigNumber(t))t=t.toNumber();else if("number"!=typeof t)throw TypeError("Parameter step must be a number")}this.start=n?parseFloat(e):0,this.end=a?parseFloat(r):0,this.step=o?parseFloat(t):1}return Range.prototype.type="Range",Range.prototype.isRange=!0,Range.parse=function(e){if("string"!=typeof e)return null;var r=e.split(":").map(function(e){return parseFloat(e)});if(r.some(function(e){return isNaN(e)}))return null;switch(r.length){case 2:return new Range(r[0],r[1]);case 3:return new Range(r[0],r[2],r[1]);default:return null}},Range.prototype.clone=function(){return new Range(this.start,this.end,this.step)},Range.prototype.size=function(){var e=0,r=this.start,t=this.step,n=this.end-r;return l(t)===l(n)?e=Math.ceil(n/t):0===n&&(e=0),isNaN(e)&&(e=0),[e]},Range.prototype.min=function(){var e=this.size()[0];return e>0?this.step>0?this.start:this.start+(e-1)*this.step:void 0},Range.prototype.max=function(){var e=this.size()[0];return e>0?this.step>0?this.start+(e-1)*this.step:this.start:void 0},Range.prototype.forEach=function(e){var r=this.start,t=this.step,n=this.end,a=0;if(t>0)for(;r<n;)e(r,[a],this),r+=t,a++;else if(t<0)for(;r>n;)e(r,[a],this),r+=t,a++},Range.prototype.map=function(e){var r=[];return this.forEach(function(t,n,a){r[n[0]]=e(t,n,a)}),r},Range.prototype.toArray=function(){var e=[];return this.forEach(function(r,t){e[t[0]]=r}),e},Range.prototype.valueOf=function(){return this.toArray()},Range.prototype.format=function(e){var r=format(this.start,e);return 1!==this.step&&(r+=":"+format(this.step,e)),r+=":"+format(this.end,e)},Range.prototype.toString=function(){return this.format()},Range.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},Range.fromJSON=function(e){return new Range(e.start,e.end,e.step)},Range},{isClass:!0}),nu=factory_factory("ResultSet",[],()=>{function ResultSet(e){if(!(this instanceof ResultSet))throw SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return ResultSet.prototype.type="ResultSet",ResultSet.prototype.isResultSet=!0,ResultSet.prototype.valueOf=function(){return this.entries},ResultSet.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},ResultSet.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},ResultSet.fromJSON=function(e){return new ResultSet(e.entries)},ResultSet},{isClass:!0}),nc=factory_factory("DenseMatrix",["Matrix"],e=>{var{Matrix:r}=e;function DenseMatrix(e,r){if(!(this instanceof DenseMatrix))throw SyntaxError("Constructor must be called with the new operator");if(r&&!isString(r))throw Error("Invalid datatype: "+r);if(isMatrix(e))"DenseMatrix"===e.type?(this._data=object_clone(e._data),this._size=object_clone(e._size)):(this._data=e.toArray(),this._size=e.size()),this._datatype=r||e._datatype;else if(e&&a(e.data)&&a(e.size))this._data=e.data,this._size=e.size,validate(this._data,this._size),this._datatype=r||e.datatype;else if(a(e))this._data=function preprocess(e){return isMatrix(e)?preprocess(e.valueOf()):a(e)?e.map(preprocess):e}(e),this._size=arraySize(this._data),validate(this._data,this._size),this._datatype=r;else if(e)throw TypeError("Unsupported type of data ("+typeOf(e)+")");else this._data=[],this._size=[0],this._datatype=r}function _resize(e,r,t){if(0===r.length){for(var n=e._data;a(n);)n=n[0];return n}return e._size=r.slice(0),e._data=array_resize(e._data,e._size,t),e}function _fit(e,r,t){for(var n=e._size.slice(0),a=!1;n.length<r.length;)n.push(0),a=!0;for(var o=0,s=r.length;o<s;o++)r[o]>n[o]&&(n[o]=r[o],a=!0);a&&_resize(e,n,t)}return DenseMatrix.prototype=new r,DenseMatrix.prototype.createDenseMatrix=function(e,r){return new DenseMatrix(e,r)},Object.defineProperty(DenseMatrix,"name",{value:"DenseMatrix"}),DenseMatrix.prototype.constructor=DenseMatrix,DenseMatrix.prototype.type="DenseMatrix",DenseMatrix.prototype.isDenseMatrix=!0,DenseMatrix.prototype.getDataType=function(){return getArrayDataType(this._data,typeOf)},DenseMatrix.prototype.storage=function(){return"dense"},DenseMatrix.prototype.datatype=function(){return this._datatype},DenseMatrix.prototype.create=function(e,r){return new DenseMatrix(e,r)},DenseMatrix.prototype.subset=function(e,r,t){switch(arguments.length){case 1:return function(e,r){if(!isIndex(r))throw TypeError("Invalid index");if(r.isScalar())return e.get(r.min());var t=r.size();if(t.length!==e._size.length)throw new DimensionError(t.length,e._size.length);for(var n=r.min(),a=r.max(),o=0,s=e._size.length;o<s;o++)validateIndex(n[o],e._size[o]),validateIndex(a[o],e._size[o]);return new DenseMatrix(function _getSubmatrix(e,r,t,n){var a=n===t-1,o=r.dimension(n);return a?o.map(function(r){return validateIndex(r,e.length),e[r]}).valueOf():o.map(function(a){return validateIndex(a,e.length),_getSubmatrix(e[a],r,t,n+1)}).valueOf()}(e._data,r,t.length,0),e._datatype)}(this,e);case 2:case 3:return function(e,r,t,n){if(!r||!0!==r.isIndex)throw TypeError("Invalid index");var a,o=r.size(),s=r.isScalar();if(isMatrix(t)?(a=t.size(),t=t.valueOf()):a=arraySize(t),s){if(0!==a.length)throw TypeError("Scalar expected");e.set(r.min(),t,n)}else{if(!deepStrictEqual(a,o))try{t=0===a.length?broadcastTo([t],o):broadcastTo(t,o),a=arraySize(t)}catch(e){}if(o.length<e._size.length)throw new DimensionError(o.length,e._size.length,"<");if(a.length<o.length){for(var u=0,c=0;1===o[u]&&1===a[u];)u++;for(;1===o[u];)c++,u++;t=unsqueeze(t,o.length,c,a)}if(!deepStrictEqual(o,a))throw new DimensionError(o,a,">");_fit(e,r.max().map(function(e){return e+1}),n);var l=o.length;(function _setSubmatrix(e,r,t,n,a){var o=a===n-1,s=r.dimension(a);o?s.forEach(function(r,n){validateIndex(r),e[r]=t[n[0]]}):s.forEach(function(o,s){validateIndex(o),_setSubmatrix(e[o],r,t[s[0]],n,a+1)})})(e._data,r,t,l,0)}return e}(this,e,r,t);default:throw SyntaxError("Wrong number of arguments")}},DenseMatrix.prototype.get=function(e){if(!a(e))throw TypeError("Array expected");if(e.length!==this._size.length)throw new DimensionError(e.length,this._size.length);for(var r=0;r<e.length;r++)validateIndex(e[r],this._size[r]);for(var t=this._data,n=0,o=e.length;n<o;n++){var s=e[n];validateIndex(s,t.length),t=t[s]}return t},DenseMatrix.prototype.set=function(e,r,t){if(!a(e))throw TypeError("Array expected");if(e.length<this._size.length)throw new DimensionError(e.length,this._size.length,"<");_fit(this,e.map(function(e){return e+1}),t);var n,o,s,u=this._data;for(n=0,o=e.length-1;n<o;n++)validateIndex(s=e[n],u.length),u=u[s];return validateIndex(s=e[e.length-1],u.length),u[s]=r,this},DenseMatrix.prototype.resize=function(e,r,t){if(!isCollection(e))throw TypeError("Array or Matrix expected");var n=e.valueOf().map(e=>Array.isArray(e)&&1===e.length?e[0]:e);return _resize(t?this.clone():this,n,r)},DenseMatrix.prototype.reshape=function(e,r){var t=r?this.clone():this;t._data=reshape(t._data,e);var n=t._size.reduce((e,r)=>e*r);return t._size=processSizesWildcard(e,n),t},DenseMatrix.prototype.clone=function(){return new DenseMatrix({data:object_clone(this._data),size:object_clone(this._size),datatype:this._datatype})},DenseMatrix.prototype.size=function(){return this._size.slice(0)},DenseMatrix.prototype.map=function(e){var r=this,t=maxArgumentCount(e),n=function recurse(n,o){return a(n)?n.map(function(e,r){return recurse(e,o.concat(r))}):1===t?e(n):2===t?e(n,o):e(n,o,r)}(this._data,[]),o=void 0!==this._datatype?getArrayDataType(n,typeOf):void 0;return new DenseMatrix(n,o)},DenseMatrix.prototype.forEach=function(e){var r=this;!function recurse(t,n){a(t)?t.forEach(function(e,r){recurse(e,n.concat(r))}):e(t,n,r)}(this._data,[])},DenseMatrix.prototype[Symbol.iterator]=function*(){var recurse=function* recurse(e,r){if(a(e))for(var t=0;t<e.length;t++)yield*recurse(e[t],r.concat(t));else yield{value:e,index:r}};yield*recurse(this._data,[])},DenseMatrix.prototype.rows=function(){var e=[];if(2!==this.size().length)throw TypeError("Rows can only be returned for a 2D matrix.");for(var r of this._data)e.push(new DenseMatrix([r],this._datatype));return e},DenseMatrix.prototype.columns=function(){var e=this,r=[],t=this.size();if(2!==t.length)throw TypeError("Rows can only be returned for a 2D matrix.");for(var n=this._data,_loop=function(t){var a=n.map(e=>[e[t]]);r.push(new DenseMatrix(a,e._datatype))},a=0;a<t[1];a++)_loop(a);return r},DenseMatrix.prototype.toArray=function(){return object_clone(this._data)},DenseMatrix.prototype.valueOf=function(){return this._data},DenseMatrix.prototype.format=function(e){return string_format(this._data,e)},DenseMatrix.prototype.toString=function(){return string_format(this._data)},DenseMatrix.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},DenseMatrix.prototype.diagonal=function(e){if(e){if(isBigNumber(e)&&(e=e.toNumber()),!isNumber(e)||!isInteger(e))throw TypeError("The parameter k must be an integer number")}else e=0;for(var r=e>0?e:0,t=e<0?-e:0,n=Math.min(this._size[0]-t,this._size[1]-r),a=[],o=0;o<n;o++)a[o]=this._data[o+t][o+r];return new DenseMatrix({data:a,size:[n],datatype:this._datatype})},DenseMatrix.diagonal=function(e,r,t,n){if(!a(e))throw TypeError("Array expected, size parameter");if(2!==e.length)throw Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(isBigNumber(e)&&(e=e.toNumber()),!isNumber(e)||!isInteger(e)||e<1)throw Error("Size values must be positive integers");return e}),t){if(isBigNumber(t)&&(t=t.toNumber()),!isNumber(t)||!isInteger(t))throw TypeError("The parameter k must be an integer number")}else t=0;var o,s=t>0?t:0,u=t<0?-t:0,c=e[0],l=e[1],p=Math.min(c-u,l-s);if(a(r)){if(r.length!==p)throw Error("Invalid value array length");o=function(e){return r[e]}}else if(isMatrix(r)){var m=r.size();if(1!==m.length||m[0]!==p)throw Error("Invalid matrix length");o=function(e){return r.get([e])}}else o=function(){return r};n||(n=isBigNumber(o(0))?o(0).mul(0):0);var h=[];if(e.length>0){h=array_resize(h,e,n);for(var g=0;g<p;g++)h[g+u][g+s]=o(g)}return new DenseMatrix({data:h,size:[c,l]})},DenseMatrix.fromJSON=function(e){return new DenseMatrix(e)},DenseMatrix.prototype.swapRows=function(e,r){if(!isNumber(e)||!isInteger(e)||!isNumber(r)||!isInteger(r))throw Error("Row index must be positive integers");if(2!==this._size.length)throw Error("Only two dimensional matrix is supported");return validateIndex(e,this._size[0]),validateIndex(r,this._size[0]),DenseMatrix._swapRows(e,r,this._data),this},DenseMatrix._swapRows=function(e,r,t){var n=t[e];t[e]=t[r],t[r]=n},DenseMatrix},{isClass:!0}),nl=factory_factory("replacer",[],()=>function(e,r){return"number"==typeof r&&(!isFinite(r)||isNaN(r))?{mathjs:"number",value:String(r)}:r}),_createTyped2=function(){return _createTyped2=eU.create,eU},nf=factory_factory("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(e){var{BigNumber:r,Complex:t,DenseMatrix:n,Fraction:o}=e,s=_createTyped2();return s.clear(),s.addTypes([{name:"number",test:isNumber},{name:"Complex",test:isComplex},{name:"BigNumber",test:isBigNumber},{name:"Fraction",test:isFraction},{name:"Unit",test:isUnit},{name:"identifier",test:e=>isString&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(e)},{name:"string",test:isString},{name:"Chain",test:isChain},{name:"Array",test:a},{name:"Matrix",test:isMatrix},{name:"DenseMatrix",test:isDenseMatrix},{name:"SparseMatrix",test:isSparseMatrix},{name:"Range",test:isRange},{name:"Index",test:isIndex},{name:"boolean",test:isBoolean},{name:"ResultSet",test:isResultSet},{name:"Help",test:isHelp},{name:"function",test:isFunction},{name:"Date",test:isDate},{name:"RegExp",test:isRegExp},{name:"null",test:isNull},{name:"undefined",test:isUndefined},{name:"AccessorNode",test:isAccessorNode},{name:"ArrayNode",test:isArrayNode},{name:"AssignmentNode",test:isAssignmentNode},{name:"BlockNode",test:isBlockNode},{name:"ConditionalNode",test:isConditionalNode},{name:"ConstantNode",test:isConstantNode},{name:"FunctionNode",test:isFunctionNode},{name:"FunctionAssignmentNode",test:isFunctionAssignmentNode},{name:"IndexNode",test:isIndexNode},{name:"Node",test:isNode},{name:"ObjectNode",test:isObjectNode},{name:"OperatorNode",test:isOperatorNode},{name:"ParenthesisNode",test:isParenthesisNode},{name:"RangeNode",test:isRangeNode},{name:"RelationalNode",test:isRelationalNode},{name:"SymbolNode",test:isSymbolNode},{name:"Map",test:isMap},{name:"Object",test:isObject}]),s.addConversions([{from:"number",to:"BigNumber",convert:function(e){if(r||throwNoBignumber(e),e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new r(e)}},{from:"number",to:"Complex",convert:function(e){return t||throwNoComplex(e),new t(e,0)}},{from:"BigNumber",to:"Complex",convert:function(e){return t||throwNoComplex(e),new t(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(e){throw TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return t||throwNoComplex(e),new t(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){o||throwNoFraction(e);var r=new o(e);if(r.valueOf()!==e)throw TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return r}},{from:"string",to:"number",convert:function(e){var r=Number(e);if(isNaN(r))throw Error('Cannot convert "'+e+'" to a number');return r}},{from:"string",to:"BigNumber",convert:function(e){r||throwNoBignumber(e);try{return new r(e)}catch(r){throw Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(e){o||throwNoFraction(e);try{return new o(e)}catch(r){throw Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){t||throwNoComplex(e);try{return new t(e)}catch(r){throw Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(e){return+e}},{from:"boolean",to:"BigNumber",convert:function(e){return r||throwNoBignumber(e),new r(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return o||throwNoFraction(e),new o(+e)}},{from:"boolean",to:"string",convert:function(e){return String(e)}},{from:"Array",to:"Matrix",convert:function(e){return n||function(){throw Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new n(e)}},{from:"Matrix",to:"Array",convert:function(e){return e.valueOf()}}]),s.onMismatch=(e,r,t)=>{var n=s.createError(e,r,t);if(["wrongType","mismatch"].includes(n.data.category)&&1===r.length&&isCollection(r[0])&&t.some(e=>!e.params.includes(","))){var a=TypeError("Function '".concat(e,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(e,")'."));throw a.data=n.data,a}throw n},s.onMismatch=(e,r,t)=>{var n=s.createError(e,r,t);if(["wrongType","mismatch"].includes(n.data.category)&&1===r.length&&isCollection(r[0])&&t.some(e=>!e.params.includes(","))){var a=TypeError("Function '".concat(e,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(e,")'."));throw a.data=n.data,a}throw n},s});function throwNoBignumber(e){throw Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function throwNoComplex(e){throw Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function throwNoFraction(e){throw Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}var np="number",nm="number, number";function absNumber(e){return Math.abs(e)}function addNumber(e,r){return e+r}function subtractNumber(e,r){return e-r}function multiplyNumber(e,r){return e*r}function unaryMinusNumber(e){return-e}function unaryPlusNumber(e){return e}function cbrtNumber(e){return g(e)}function cubeNumber(e){return e*e*e}function expNumber(e){return Math.exp(e)}function expm1Number(e){return y(e)}function lcmNumber(e,r){if(!isInteger(e)||!isInteger(r))throw Error("Parameters in function lcm must be integer numbers");if(0===e||0===r)return 0;for(var t,n=e*r;0!==r;)r=e%(t=r),e=t;return Math.abs(n/e)}function arithmetic_nthRootNumber(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=r<0;if(t&&(r=-r),0===r)throw Error("Root must be non-zero");if(e<0&&Math.abs(r)%2!=1)throw Error("Root must be odd when a is negative.");if(0===e)return t?1/0:0;if(!isFinite(e))return t?0:e;var n=Math.pow(Math.abs(e),1/r);return n=e<0?-n:n,t?1/n:n}function signNumber(e){return l(e)}function squareNumber(e){return e*e}function xgcdNumber(e,r){var t,n,a,o=0,s=1,u=1,c=0;if(!isInteger(e)||!isInteger(r))throw Error("Parameters in function xgcd must be integer numbers");for(;r;)n=Math.floor(e/r),a=e-n*r,t=o,o=s-n*o,s=t,t=u,u=c-n*u,c=t,e=r,r=a;return e<0?[-e,-s,-c]:[e,e?s:0,c]}function powNumber(e,r){return e*e<1&&r===1/0||e*e>1&&r===-1/0?0:Math.pow(e,r)}function roundNumber(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!isInteger(r)||r<0||r>15)throw Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(toFixed(e,r))}absNumber.signature=np,addNumber.signature=nm,subtractNumber.signature=nm,multiplyNumber.signature=nm,unaryMinusNumber.signature=np,unaryPlusNumber.signature=np,cbrtNumber.signature=np,cubeNumber.signature=np,expNumber.signature=np,expm1Number.signature=np,lcmNumber.signature=nm,signNumber.signature=np,squareNumber.signature=np,xgcdNumber.signature=nm,powNumber.signature=nm;var nh="unaryPlus",nd=factory_factory(nh,["typed","config","BigNumber"],e=>{var{typed:r,config:t,BigNumber:n}=e;return r(nh,{number:unaryPlusNumber,Complex:function(e){return e},BigNumber:function(e){return e},Fraction:function(e){return e},Unit:function(e){return e.clone()},"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e,!0)),"boolean | string":function(e){return"BigNumber"===t.number?new n(+e):+e}})}),ng=factory_factory("abs",["typed"],e=>{var{typed:r}=e;return r("abs",{number:absNumber,"Complex | BigNumber | Fraction | Unit":e=>e.abs(),"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e,!0))})}),ny="acos",nv=factory_factory(ny,["typed","config","Complex"],e=>{var{typed:r,config:t,Complex:n}=e;return r(ny,{number:function(e){return e>=-1&&e<=1||t.predictable?Math.acos(e):new n(e,0).acos()},Complex:function(e){return e.acos()},BigNumber:function(e){return e.acos()}})}),nx="number";function acotNumber(e){return Math.atan(1/e)}function acothNumber(e){return isFinite(e)?(Math.log((e+1)/e)+Math.log(e/(e-1)))/2:0}function acscNumber(e){return Math.asin(1/e)}function acschNumber(e){var r=1/e;return Math.log(r+Math.sqrt(r*r+1))}function asecNumber(e){return Math.acos(1/e)}function asechNumber(e){var r=1/e;return Math.log(Math.sqrt(r*r-1)+r)}function asinhNumber(e){return b(e)}function cotNumber(e){return 1/Math.tan(e)}function cothNumber(e){var r=Math.exp(2*e);return(r+1)/(r-1)}function cscNumber(e){return 1/Math.sin(e)}function cschNumber(e){return 0===e?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*l(e)}function secNumber(e){return 1/Math.cos(e)}function sechNumber(e){return 2/(Math.exp(e)+Math.exp(-e))}function sinhNumber(e){return _(e)}acotNumber.signature=nx,acothNumber.signature=nx,acscNumber.signature=nx,acschNumber.signature=nx,asecNumber.signature=nx,asechNumber.signature=nx,asinhNumber.signature=nx,cotNumber.signature=nx,cothNumber.signature=nx,cscNumber.signature=nx,cschNumber.signature=nx,secNumber.signature=nx,sechNumber.signature=nx,sinhNumber.signature=nx;var nb="acot",nN=factory_factory(nb,["typed","BigNumber"],e=>{var{typed:r,BigNumber:t}=e;return r(nb,{number:acotNumber,Complex:function(e){return e.acot()},BigNumber:function(e){return new t(1).div(e).atan()}})}),nw="acsc",n_=factory_factory(nw,["typed","config","Complex","BigNumber"],e=>{var{typed:r,config:t,Complex:n,BigNumber:a}=e;return r(nw,{number:function(e){return e<=-1||e>=1||t.predictable?acscNumber(e):new n(e,0).acsc()},Complex:function(e){return e.acsc()},BigNumber:function(e){return new a(1).div(e).asin()}})}),nD="addScalar",nE=factory_factory(nD,["typed"],e=>{var{typed:r}=e;return r(nD,{"number, number":addNumber,"Complex, Complex":function(e,r){return e.add(r)},"BigNumber, BigNumber":function(e,r){return e.plus(r)},"Fraction, Fraction":function(e,r){return e.add(r)},"Unit, Unit":r.referToSelf(e=>(t,n)=>{if(null===t.value||void 0===t.value)throw Error("Parameter x contains a unit with undefined value");if(null===n.value||void 0===n.value)throw Error("Parameter y contains a unit with undefined value");if(!t.equalBase(n))throw Error("Units do not match");var a=t.clone();return a.value=r.find(e,[a.valueType(),n.valueType()])(a.value,n.value),a.fixPrefix=!1,a})})}),nA=factory_factory("arg",["typed"],e=>{var{typed:r}=e;return r("arg",{number:function(e){return Math.atan2(0,e)},BigNumber:function(e){return e.constructor.atan2(0,e)},Complex:function(e){return e.arg()},"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e))})}),nC="asech",nS=factory_factory(nC,["typed","config","Complex","BigNumber"],e=>{var{typed:r,config:t,Complex:n,BigNumber:a}=e;return r(nC,{number:function(e){if(e<=1&&e>=-1||t.predictable){var r=1/e;if(r>0||t.predictable)return asechNumber(e);var a=Math.sqrt(r*r-1);return new n(Math.log(a-r),Math.PI)}return new n(e,0).asech()},Complex:function(e){return e.asech()},BigNumber:function(e){return new a(1).div(e).acosh()}})}),nM=factory_factory("asinh",["typed"],e=>{var{typed:r}=e;return r("asinh",{number:asinhNumber,Complex:function(e){return e.asinh()},BigNumber:function(e){return e.asinh()}})}),nF=factory_factory("atan",["typed"],e=>{var{typed:r}=e;return r("atan",{number:function(e){return Math.atan(e)},Complex:function(e){return e.atan()},BigNumber:function(e){return e.atan()}})}),nT="atanh",nO=factory_factory(nT,["typed","config","Complex"],e=>{var{typed:r,config:t,Complex:n}=e;return r(nT,{number:function(e){return e<=1&&e>=-1||t.predictable?N(e):new n(e,0).atanh()},Complex:function(e){return e.atanh()},BigNumber:function(e){return e.atanh()}})}),nB=factory_factory("bignumber",["typed","BigNumber"],e=>{var{typed:r,BigNumber:t}=e;return r("bignumber",{"":function(){return new t(0)},number:function(e){return new t(e+"")},string:function(e){var r=e.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(r){var n=r[2],a=t(r[1]),o=new t(2).pow(Number(n));if(a.gt(o.sub(1)))throw SyntaxError('String "'.concat(e,'" is out of range'));var s=new t(2).pow(Number(n)-1);return a.gte(s)?a.sub(o):a}return new t(e)},BigNumber:function(e){return e},Unit:r.referToSelf(e=>r=>{var t=r.clone();return t.value=e(r.value),t}),Fraction:function(e){return new t(e.n).div(e.d).times(e.s)},null:function(e){return new t(0)},"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e))})});function bitAndBigNumber(e,r){if(e.isFinite()&&!e.isInteger()||r.isFinite()&&!r.isInteger())throw Error("Integers expected in function bitAnd");var t=e.constructor;if(e.isNaN()||r.isNaN())return new t(NaN);if(e.isZero()||r.eq(-1)||e.eq(r))return e;if(r.isZero()||e.eq(-1))return r;if(!e.isFinite()||!r.isFinite()){if(!e.isFinite()&&!r.isFinite())return e.isNegative()===r.isNegative()?e:new t(0);if(!e.isFinite())return r.isNegative()?e:e.isNegative()?new t(0):r;if(!r.isFinite())return e.isNegative()?r:r.isNegative()?new t(0):e}return bitwise(e,r,function(e,r){return e&r})}function bitNotBigNumber(e){if(e.isFinite()&&!e.isInteger())throw Error("Integer expected in function bitNot");var r=e.constructor,t=r.precision;r.config({precision:1e9});var n=e.plus(new r(1));return n.s=-n.s||null,r.config({precision:t}),n}function bitOrBigNumber(e,r){if(e.isFinite()&&!e.isInteger()||r.isFinite()&&!r.isInteger())throw Error("Integers expected in function bitOr");var t=e.constructor;if(e.isNaN()||r.isNaN())return new t(NaN);var n=new t(-1);return e.isZero()||r.eq(n)||e.eq(r)?r:r.isZero()||e.eq(n)?e:e.isFinite()&&r.isFinite()?bitwise(e,r,function(e,r){return e|r}):!e.isFinite()&&!e.isNegative()&&r.isNegative()||e.isNegative()&&!r.isNegative()&&!r.isFinite()?n:e.isNegative()&&r.isNegative()?e.isFinite()?e:r:e.isFinite()?r:e}function bitwise(e,r,t){var n,a,o,s,u,c=e.constructor,l=+(e.s<0),p=+(r.s<0);if(l){n=decCoefficientToBinaryString(bitNotBigNumber(e));for(var m=0;m<n.length;++m)n[m]^=1}else n=decCoefficientToBinaryString(e);if(p){a=decCoefficientToBinaryString(bitNotBigNumber(r));for(var h=0;h<a.length;++h)a[h]^=1}else a=decCoefficientToBinaryString(r);n.length<=a.length?(o=n,s=a,u=l):(o=a,s=n,u=p);var g=o.length,y=s.length,v=1^t(l,p),x=new c(1^v),b=new c(1),N=new c(2),w=c.precision;for(c.config({precision:1e9});g>0;)t(o[--g],s[--y])===v&&(x=x.plus(b)),b=b.times(N);for(;y>0;)t(u,s[--y])===v&&(x=x.plus(b)),b=b.times(N);return c.config({precision:w}),0===v&&(x.s=-x.s),x}function decCoefficientToBinaryString(e){for(var r=e.d,t=r[0]+"",n=1;n<r.length;++n){for(var a=r[n]+"",o=7-a.length;o--;)a="0"+a;t+=a}for(var s=t.length;"0"===t.charAt(s);)s--;var u=e.e,c=t.slice(0,s+1||1),l=c.length;if(u>0){if(++u>l)for(u-=l;u--;)c+="0";else u<l&&(c=c.slice(0,u)+"."+c.slice(u))}for(var p=[0],m=0;m<c.length;){for(var h=p.length;h--;)p[h]*=10;p[0]+=parseInt(c.charAt(m++));for(var g=0;g<p.length;++g)p[g]>1&&((null===p[g+1]||void 0===p[g+1])&&(p[g+1]=0),p[g+1]+=p[g]>>1,p[g]&=1)}return p.reverse()}function bitXor(e,r){if(e.isFinite()&&!e.isInteger()||r.isFinite()&&!r.isInteger())throw Error("Integers expected in function bitXor");var t=e.constructor;if(e.isNaN()||r.isNaN())return new t(NaN);if(e.isZero())return r;if(r.isZero())return e;if(e.eq(r))return new t(0);var n=new t(-1);return e.eq(n)?bitNotBigNumber(r):r.eq(n)?bitNotBigNumber(e):e.isFinite()&&r.isFinite()?bitwise(e,r,function(e,r){return e^r}):e.isFinite()||r.isFinite()?new t(e.isNegative()===r.isNegative()?1/0:-1/0):n}function leftShiftBigNumber(e,r){if(e.isFinite()&&!e.isInteger()||r.isFinite()&&!r.isInteger())throw Error("Integers expected in function leftShift");var t=e.constructor;return e.isNaN()||r.isNaN()||r.isNegative()&&!r.isZero()?new t(NaN):e.isZero()||r.isZero()?e:e.isFinite()||r.isFinite()?r.lt(55)?e.times(Math.pow(2,r.toNumber())+""):e.times(new t(2).pow(r)):new t(NaN)}function rightArithShiftBigNumber(e,r){if(e.isFinite()&&!e.isInteger()||r.isFinite()&&!r.isInteger())throw Error("Integers expected in function rightArithShift");var t=e.constructor;return e.isNaN()||r.isNaN()||r.isNegative()&&!r.isZero()?new t(NaN):e.isZero()||r.isZero()?e:r.isFinite()?r.lt(55)?e.div(Math.pow(2,r.toNumber())+"").floor():e.div(new t(2).pow(r)).floor():new t(e.isNegative()?-1:e.isFinite()?0:NaN)}var nk="number, number";function bitAndNumber(e,r){if(!isInteger(e)||!isInteger(r))throw Error("Integers expected in function bitAnd");return e&r}function bitNotNumber(e){if(!isInteger(e))throw Error("Integer expected in function bitNot");return~e}function bitOrNumber(e,r){if(!isInteger(e)||!isInteger(r))throw Error("Integers expected in function bitOr");return e|r}function bitXorNumber(e,r){if(!isInteger(e)||!isInteger(r))throw Error("Integers expected in function bitXor");return e^r}function leftShiftNumber(e,r){if(!isInteger(e)||!isInteger(r))throw Error("Integers expected in function leftShift");return e<<r}function rightArithShiftNumber(e,r){if(!isInteger(e)||!isInteger(r))throw Error("Integers expected in function rightArithShift");return e>>r}function rightLogShiftNumber(e,r){if(!isInteger(e)||!isInteger(r))throw Error("Integers expected in function rightLogShift");return e>>>r}bitAndNumber.signature=nk,bitNotNumber.signature="number",bitOrNumber.signature=nk,bitXorNumber.signature=nk,leftShiftNumber.signature=nk,rightArithShiftNumber.signature=nk,rightLogShiftNumber.signature=nk;var nI="bitNot",nP=factory_factory(nI,["typed"],e=>{var{typed:r}=e;return r(nI,{number:bitNotNumber,BigNumber:bitNotBigNumber,"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e))})}),nz="boolean",nR=factory_factory(nz,["typed"],e=>{var{typed:r}=e;return r(nz,{"":function(){return!1},boolean:function(e){return e},number:function(e){return!!e},null:function(e){return!1},BigNumber:function(e){return!e.isZero()},string:function(e){var r=e.toLowerCase();if("true"===r)return!0;if("false"===r)return!1;var t=Number(e);if(""!==e&&!isNaN(t))return!!t;throw Error('Cannot convert "'+e+'" to a boolean')},"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e))})}),nq="clone",nj=factory_factory(nq,["typed"],e=>{var{typed:r}=e;return r(nq,{any:object_clone})});function product_product(e,r){if(r<e)return 1;if(r===e)return r;var t=r+e>>1;return product_product(e,t)*product_product(t+1,r)}function combinationsNumber(e,r){if(!isInteger(e)||e<0||!isInteger(r)||r<0)throw TypeError("Positive integer value expected in function combinations");if(r>e)throw TypeError("k must be less than or equal to n");for(var t=e-r,n=1,a=r<t?t+1:r+1,o=2,s=r<t?r:t,u=a;u<=e;++u)for(n*=u;o<=s&&n%o==0;)n/=o,++o;return o<=s&&(n/=product_product(o,s)),n}combinationsNumber.signature="number, number";var nU="combinations",nL=factory_factory(nU,["typed"],e=>{var{typed:r}=e;return r(nU,{"number, number":combinationsNumber,"BigNumber, BigNumber":function(e,r){var t,n,a=e.constructor,o=e.minus(r),s=new a(1);if(!isPositiveInteger(e)||!isPositiveInteger(r))throw TypeError("Positive integer value expected in function combinations");if(r.gt(e))throw TypeError("k must be less than n in function combinations");if(t=s,r.lt(o))for(n=s;n.lte(o);n=n.plus(s))t=t.times(r.plus(n)).dividedBy(n);else for(n=s;n.lte(r);n=n.plus(s))t=t.times(o.plus(n)).dividedBy(n);return t}})});function isPositiveInteger(e){return e.isInteger()&&e.gte(0)}var nH=factory_factory("complex",["typed","Complex"],e=>{var{typed:r,Complex:t}=e;return r("complex",{"":function(){return t.ZERO},number:function(e){return new t(e,0)},"number, number":function(e,r){return new t(e,r)},"BigNumber, BigNumber":function(e,r){return new t(e.toNumber(),r.toNumber())},Fraction:function(e){return new t(e.valueOf(),0)},Complex:function(e){return e.clone()},string:function(e){return t(e)},null:function(e){return t(0)},Object:function(e){if("re"in e&&"im"in e)return new t(e.re,e.im);if("r"in e&&"phi"in e||"abs"in e&&"arg"in e)return new t(e);throw Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e))})}),n$="conj",nV=factory_factory(n$,["typed"],e=>{var{typed:r}=e;return r(n$,{"number | BigNumber | Fraction":e=>e,Complex:e=>e.conjugate(),"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e))})}),nZ=factory_factory("trigUnit",["typed"],e=>{var{typed:r}=e;return{Unit:r.referToSelf(e=>t=>{if(!t.hasBase(t.constructor.BASE_UNITS.ANGLE))throw TypeError("Unit in function cot is no angle");return r.find(e,t.valueType())(t.value)})}}),nG=factory_factory("cos",["typed"],e=>{var{typed:r}=e,t=nZ({typed:r});return r("cos",{number:Math.cos,"Complex | BigNumber":e=>e.cos()},t)}),nW=factory_factory("cot",["typed","BigNumber"],e=>{var{typed:r,BigNumber:t}=e,n=nZ({typed:r});return r("cot",{number:cotNumber,Complex:e=>e.cot(),BigNumber:e=>new t(1).div(e.tan())},n)}),nY=factory_factory("csc",["typed","BigNumber"],e=>{var{typed:r,BigNumber:t}=e,n=nZ({typed:r});return r("csc",{number:cscNumber,Complex:e=>e.csc(),BigNumber:e=>new t(1).div(e.sin())},n)}),nX="cube",nJ=factory_factory(nX,["typed"],e=>{var{typed:r}=e;return r(nX,{number:cubeNumber,Complex:function(e){return e.mul(e).mul(e)},BigNumber:function(e){return e.times(e).times(e)},Fraction:function(e){return e.pow(3)},Unit:function(e){return e.pow(3)}})});function nearlyEqual_nearlyEqual(e,r,t){if(null==t)return e.eq(r);if(e.eq(r))return!0;if(e.isNaN()||r.isNaN())return!1;if(e.isFinite()&&r.isFinite()){var n=e.minus(r).abs();if(n.isZero())return!0;var a=e.constructor.max(e.abs(),r.abs());return n.lte(a.times(t))}return!1}var nK=factory_factory("compareUnits",["typed"],e=>{var{typed:r}=e;return{"Unit, Unit":r.referToSelf(e=>(t,n)=>{if(!t.equalBase(n))throw Error("Cannot compare units with different base");return r.find(e,[t.valueType(),n.valueType()])(t.value,n.value)})}}),nQ="equalScalar",n0=factory_factory(nQ,["typed","config"],e=>{var{typed:r,config:t}=e,n=nK({typed:r});return r(nQ,{"boolean, boolean":function(e,r){return e===r},"number, number":function(e,r){return nearlyEqual(e,r,t.epsilon)},"BigNumber, BigNumber":function(e,r){return e.eq(r)||nearlyEqual_nearlyEqual(e,r,t.epsilon)},"Fraction, Fraction":function(e,r){return e.equals(r)},"Complex, Complex":function(e,r){var n;return n=t.epsilon,nearlyEqual(e.re,r.re,n)&&nearlyEqual(e.im,r.im,n)}},n)});factory_factory(nQ,["typed","config"],e=>{var{typed:r,config:t}=e;return r(nQ,{"number, number":function(e,r){return nearlyEqual(e,r,t.epsilon)}})});var n1=factory_factory("erf",["typed"],e=>{var{typed:r}=e;return r("name",{number:function(e){var r=Math.abs(e);return r>=n8?l(e):r<=n2?l(e)*function(e){var r,t=e*e,n=n5[0][4]*t,a=t;for(r=0;r<3;r+=1)n=(n+n5[0][r])*t,a=(a+n4[0][r])*t;return e*(n+n5[0][3])/(a+n4[0][3])}(r):r<=4?l(e)*(1-function(e){var r,t=n5[1][8]*e,n=e;for(r=0;r<7;r+=1)t=(t+n5[1][r])*e,n=(n+n4[1][r])*e;var a=(t+n5[1][7])/(n+n4[1][7]),o=parseInt(16*e)/16;return Math.exp(-o*o)*Math.exp(-((e-o)*(e+o)))*a}(r)):l(e)*(1-function(e){var r,t=1/(e*e),n=n5[2][5]*t,a=t;for(r=0;r<4;r+=1)n=(n+n5[2][r])*t,a=(a+n4[2][r])*t;var o=t*(n+n5[2][4])/(a+n4[2][4]);o=(n3-o)/e,t=parseInt(16*e)/16;var s=(e-t)*(e+t);return Math.exp(-t*t)*Math.exp(-s)*o}(r))},"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e))})}),n2=.46875,n3=.5641895835477563,n5=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,6587491615298378e-19,.016315387137302097]],n4=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],n8=9007199254740992,n6=factory_factory("exp",["typed"],e=>{var{typed:r}=e;return r("exp",{number:expNumber,Complex:function(e){return e.exp()},BigNumber:function(e){return e.exp()}})}),n7="expm1",n9=factory_factory(n7,["typed","Complex"],e=>{var{typed:r,Complex:t}=e;return r(n7,{number:expm1Number,Complex:function(e){var r=Math.exp(e.re);return new t(r*Math.cos(e.im)-1,r*Math.sin(e.im))},BigNumber:function(e){return e.exp().minus(1)}})}),ie=factory_factory("filter",["typed"],e=>{var{typed:r}=e;return r("filter",{"Array, function":_filterCallback,"Matrix, function":function(e,r){return e.create(_filterCallback(e.toArray(),r))},"Array, RegExp":filterRegExp,"Matrix, RegExp":function(e,r){return e.create(filterRegExp(e.toArray(),r))}})});function _filterCallback(e,r){return filter(e,function(e,t,n){return applyCallback(r,e,[t],n,"filter")})}var ir="forEach",it=factory_factory(ir,["typed"],e=>{var{typed:r}=e;return r(ir,{"Array, function":_forEach,"Matrix, function":function(e,r){e.forEach(r)}})});function _forEach(e,r){!function recurse(t,n){if(!Array.isArray(t))return applyCallback(r,t,n,e,"forEach");forEach(t,function(e,r){recurse(e,n.concat(r))})}(e,[])}var ii="format",ia=factory_factory(ii,["typed"],e=>{var{typed:r}=e;return r(ii,{any:string_format,"any, Object | function | number":string_format})}),io="getMatrixDataType",is=factory_factory(io,["typed"],e=>{var{typed:r}=e;return r(io,{Array:function(e){return getArrayDataType(e,typeOf)},Matrix:function(e){return e.getDataType()}})}),iu=factory_factory("hex",["typed","format"],e=>{var{typed:r,format:t}=e;return r("hex",{"number | BigNumber":function(e){return t(e,{notation:"hex"})},"number | BigNumber, number":function(e,r){return t(e,{notation:"hex",wordSize:r})}})}),ic=factory_factory("im",["typed"],e=>{var{typed:r}=e;return r("im",{number:()=>0,"BigNumber | Fraction":e=>e.mul(0),Complex:e=>e.im,"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e))})}),il="isInteger",ip=factory_factory(il,["typed"],e=>{var{typed:r}=e;return r(il,{number:isInteger,BigNumber:function(e){return e.isInt()},Fraction:function(e){return 1===e.d&&isFinite(e.n)},"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e))})}),im="number";function isNegativeNumber(e){return e<0}function isPositiveNumber(e){return e>0}function isZeroNumber(e){return 0===e}function isNaNNumber(e){return Number.isNaN(e)}isNegativeNumber.signature=im,isPositiveNumber.signature=im,isZeroNumber.signature=im,isNaNNumber.signature=im;var ih="isNegative",id=factory_factory(ih,["typed"],e=>{var{typed:r}=e;return r(ih,{number:isNegativeNumber,BigNumber:function(e){return e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s<0},Unit:r.referToSelf(e=>t=>r.find(e,t.valueType())(t.value)),"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e))})}),ig="isPositive",iy=factory_factory(ig,["typed"],e=>{var{typed:r}=e;return r(ig,{number:isPositiveNumber,BigNumber:function(e){return!e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s>0&&e.n>0},Unit:r.referToSelf(e=>t=>r.find(e,t.valueType())(t.value)),"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e))})}),iv="isZero",ix=factory_factory(iv,["typed"],e=>{var{typed:r}=e;return r(iv,{number:isZeroNumber,BigNumber:function(e){return e.isZero()},Complex:function(e){return 0===e.re&&0===e.im},Fraction:function(e){return 1===e.d&&0===e.n},Unit:r.referToSelf(e=>t=>r.find(e,t.valueType())(t.value)),"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e))})});function gammaNumber(e){if(isInteger(e))return e<=0?isFinite(e)?1/0:NaN:e>171?1/0:product_product(1,e-1);if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*gammaNumber(1-e));if(e>=171.35)return 1/0;if(e>85){var r,t=e*e,n=t*e,a=n*e,o=a*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*t)-139/(51840*n)-571/(2488320*a)+163879/(209018880*o)+5246819/(75246796800*o*e))}--e,r=iN[0];for(var s=1;s<iN.length;++s)r+=iN[s]/(e+s);var u=e+ib+.5;return Math.sqrt(2*Math.PI)*Math.pow(u,e+.5)*Math.exp(-u)*r}gammaNumber.signature="number";var ib=4.7421875,iN=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-.00009837447530487956,1580887032249125e-19,-.00021026444172410488,21743961811521265e-20,-.0001643181065367639,8441822398385275e-20,-.000026190838401581408,36899182659531625e-22],iw=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-.000005395239384953];function lgammaNumber(e){if(e<0)return NaN;if(0===e)return 1/0;if(!isFinite(e))return e;if(e<.5)return Math.log(Math.PI/Math.sin(Math.PI*e))-lgammaNumber(1-e);for(var r=(e-=1)+5+.5,t=1.000000000190015,n=6;n>=1;n--)t+=iw[n]/(e+n);return .9189385332046728+(e+.5)*Math.log(r)-r+Math.log(t)}lgammaNumber.signature="number";var i_="lgamma",iD=factory_factory(i_,["Complex","typed"],e=>{var{Complex:r,typed:t}=e,n=[-.029550653594771242,.00641025641025641,-.0019175269175269176,8417508417508417e-19,-.0005952380952380953,7936507936507937e-19,-.002777777777777778,.08333333333333333];return t(i_,{number:lgammaNumber,Complex:function lgammaComplex(e){if(e.isNaN())return new r(NaN,NaN);if(0===e.im)return new r(lgammaNumber(e.re),0);if(e.re>=7||Math.abs(e.im)>=7)return lgammaStirling(e);if(e.re<=.1){var t,n=(!0^((t=e.im)>0||!(t<0)&&1/t==1/0)?-6.283185307179586:6.283185307179586)*Math.floor(.5*e.re+.25),a=e.mul(Math.PI).sin().log(),o=lgammaComplex(new r(1-e.re,-e.im));return new r(1.1447298858494002,n).sub(a).sub(o)}return e.im>=0?lgammaRecurrence(e):lgammaRecurrence(e.conjugate()).conjugate()},BigNumber:function(){throw Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function lgammaStirling(e){for(var t=e.sub(.5).mul(e.log()).sub(e).add(.9189385332046728),a=new r(1,0).div(e),o=a.div(e),s=-.029550653594771242,u=.00641025641025641,c=2*o.re,l=o.re*o.re+o.im*o.im,p=2;p<8;p++){var m=u;u=-l*s+n[p],s=c*s+m}var h=a.mul(o.mul(s).add(u));return t.add(h)}function lgammaRecurrence(e){var t=0,n=0,a=e;for(e=e.add(1);e.re<=7;){var o=(a=a.mul(e)).im<0?1:0;0!==o&&0===n&&t++,n=o,e=e.add(1)}return lgammaStirling(e).sub(a.log()).sub(new r(0,2*t*Math.PI*1))}}),iE="log10",iA=factory_factory(iE,["typed","config","Complex"],e=>{var{typed:r,config:t,Complex:n}=e;return r(iE,{number:function(e){return e>=0||t.predictable?m(e):new n(e,0).log().div(Math.LN10)},Complex:function(e){return new n(e).log().div(Math.LN10)},BigNumber:function(e){return!e.isNegative()||t.predictable?e.log():new n(e.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e))})}),iC="log2",iS=factory_factory(iC,["typed","config","Complex"],e=>{var{typed:r,config:t,Complex:n}=e;return r(iC,{number:function(e){return e>=0||t.predictable?p(e):_log2Complex(new n(e,0))},Complex:_log2Complex,BigNumber:function(e){return!e.isNegative()||t.predictable?e.log(2):_log2Complex(new n(e.toNumber(),0))},"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e))});function _log2Complex(e){var r=Math.sqrt(e.re*e.re+e.im*e.im);return new n(Math.log2?Math.log2(r):Math.log(r)/Math.LN2,Math.atan2(e.im,e.re)/Math.LN2)}}),iM=factory_factory("map",["typed"],e=>{var{typed:r}=e;return r("map",{"Array, function":map_map,"Matrix, function":function(e,r){return e.map(r)}})});function map_map(e,r){return function recurse(t,n){return Array.isArray(t)?t.map(function(e,r){return recurse(e,n.concat(r))}):applyCallback(r,t,n,e,"map")}(e,[])}var iF=factory_factory("multiplyScalar",["typed"],e=>{var{typed:r}=e;return r("multiplyScalar",{"number, number":multiplyNumber,"Complex, Complex":function(e,r){return e.mul(r)},"BigNumber, BigNumber":function(e,r){return e.times(r)},"Fraction, Fraction":function(e,r){return e.mul(r)},"number | Fraction | BigNumber | Complex, Unit":(e,r)=>r.multiply(e),"Unit, number | Fraction | BigNumber | Complex | Unit":(e,r)=>e.multiply(r)})}),iT="number, number";function notNumber(e){return!e}function orNumber(e,r){return!!(e||r)}function xorNumber(e,r){return!!e!=!!r}function andNumber(e,r){return!!(e&&r)}notNumber.signature="number",orNumber.signature=iT,xorNumber.signature=iT,andNumber.signature=iT;var iO=factory_factory("not",["typed"],e=>{var{typed:r}=e;return r("not",{"null | undefined":()=>!0,number:notNumber,Complex:function(e){return 0===e.re&&0===e.im},BigNumber:function(e){return e.isZero()||e.isNaN()},Unit:r.referToSelf(e=>t=>r.find(e,t.valueType())(t.value)),"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e))})}),iB=factory_factory("number",["typed"],e=>{var{typed:r}=e,t=r("number",{"":function(){return 0},number:function(e){return e},string:function(e){if("NaN"===e)return NaN;var r,t,n=(t=(r=e).match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/))?{input:r,radix:({"0b":2,"0o":8,"0x":16})[t[1]],integerPart:t[2],fractionalPart:t[3]}:null;if(n)return function(e){for(var r=parseInt(e.integerPart,e.radix),t=0,n=0;n<e.fractionalPart.length;n++)t+=parseInt(e.fractionalPart[n],e.radix)/Math.pow(e.radix,n+1);var a=r+t;if(isNaN(a))throw SyntaxError('String "'+e.input+'" is not a valid number');return a}(n);var a=0,o=e.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);o&&(a=Number(o[2]),e=o[1]);var s=Number(e);if(isNaN(s))throw SyntaxError('String "'+e+'" is not a valid number');if(o){if(s>2**a-1)throw SyntaxError('String "'.concat(e,'" is out of range'));s>=2**(a-1)&&(s-=2**a)}return s},BigNumber:function(e){return e.toNumber()},Fraction:function(e){return e.valueOf()},Unit:r.referToSelf(e=>r=>{var t=r.clone();return t.value=e(r.value),t}),null:function(e){return 0},"Unit, string | Unit":function(e,r){return e.toNumber(r)},"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e))});return t.fromJSON=function(e){return parseFloat(e.value)},t}),ik=factory_factory("oct",["typed","format"],e=>{var{typed:r,format:t}=e;return r("oct",{"number | BigNumber":function(e){return t(e,{notation:"oct"})},"number | BigNumber, number":function(e,r){return t(e,{notation:"oct",wordSize:r})}})}),iI=t(6377),iP=iI(Date.now());function seededRNG_createRng(e){var r;return r=null===e?iP:iI(String(e)),function(){return r()}}var iz="pickRandom",iR=factory_factory(iz,["typed","config","?on"],e=>{var{typed:r,config:t,on:n}=e,a=seededRNG_createRng(t.randomSeed);return n&&n("config",function(e,r){e.randomSeed!==r.randomSeed&&(a=seededRNG_createRng(e.randomSeed))}),r(iz,{"Array | Matrix":function(e){return _pickRandom(e,{})},"Array | Matrix, Object":function(e,r){return _pickRandom(e,r)},"Array | Matrix, number":function(e,r){return _pickRandom(e,{number:r})},"Array | Matrix, Array | Matrix":function(e,r){return _pickRandom(e,{weights:r})},"Array | Matrix, Array | Matrix, number":function(e,r,t){return _pickRandom(e,{number:t,weights:r})},"Array | Matrix, number, Array | Matrix":function(e,r,t){return _pickRandom(e,{number:r,weights:t})}});function _pickRandom(e,r){var t,{number:n,weights:o,elementWise:s=!0}=r,u=void 0===n;u&&(n=1);var c=isMatrix(e)?e.create:isMatrix(o)?o.create:null;e=e.valueOf(),o&&(o=o.valueOf()),!0===s&&(e=flatten(e),o=flatten(o));var l=0;if(void 0!==o){if(o.length!==e.length)throw Error("Weights must have the same length as possibles");for(var p=0,m=o.length;p<m;p++){if(!isNumber(o[p])||o[p]<0)throw Error("Weights must be an array of positive numbers");l+=o[p]}}for(var h=e.length,g=[];g.length<n;){if(void 0===o)t=e[Math.floor(a()*h)];else for(var y=a()*l,v=0,x=e.length;v<x;v++)if((y-=o[v])<0){t=e[v];break}g.push(t)}return u?g[0]:c?c(g):g}});function randomMatrix(e,r){var t=[];if((e=e.slice(0)).length>1)for(var n=0,a=e.shift();n<a;n++)t.push(randomMatrix(e,r));else for(var o=0,s=e.shift();o<s;o++)t.push(r());return t}var iq="random",ij=factory_factory(iq,["typed","config","?on"],e=>{var{typed:r,config:t,on:n}=e,a=seededRNG_createRng(t.randomSeed);return n&&n("config",function(e,r){e.randomSeed!==r.randomSeed&&(a=seededRNG_createRng(e.randomSeed))}),r(iq,{"":()=>0+1*a(),number:e=>0+a()*(e-0),"number, number":(e,r)=>e+a()*(r-e),"Array | Matrix":e=>_randomMatrix(e,0,1),"Array | Matrix, number":(e,r)=>_randomMatrix(e,0,r),"Array | Matrix, number, number":(e,r,t)=>_randomMatrix(e,r,t)});function _randomMatrix(e,r,t){var n=randomMatrix(e.valueOf(),()=>r+a()*(t-r));return isMatrix(e)?e.create(n):n}}),iU=factory_factory("re",["typed"],e=>{var{typed:r}=e;return r("re",{"number | BigNumber | Fraction":e=>e,Complex:e=>e.re,"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e))})}),iL=factory_factory("sec",["typed","BigNumber"],e=>{var{typed:r,BigNumber:t}=e,n=nZ({typed:r});return r("sec",{number:secNumber,Complex:e=>e.sec(),BigNumber:e=>new t(1).div(e.cos())},n)}),iH="sign",i$=factory_factory(iH,["typed","BigNumber","Fraction","complex"],e=>{var{typed:r,BigNumber:t,complex:n,Fraction:a}=e;return r(iH,{number:signNumber,Complex:function(e){return 0===e.im?n(signNumber(e.re)):e.sign()},BigNumber:function(e){return new t(e.cmp(0))},Fraction:function(e){return new a(e.s,1)},"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e,!0)),Unit:r.referToSelf(e=>t=>{if(!t._isDerived()&&0!==t.units[0].unit.offset)throw TypeError("sign is ambiguous for units with offset");return r.find(e,t.valueType())(t.value)})})}),iV=factory_factory("sin",["typed"],e=>{var{typed:r}=e,t=nZ({typed:r});return r("sin",{number:Math.sin,"Complex | BigNumber":e=>e.sin()},t)}),iZ=factory_factory("SparseMatrix",["typed","equalScalar","Matrix"],e=>{var{typed:r,equalScalar:t,Matrix:n}=e;function SparseMatrix(e,r){if(!(this instanceof SparseMatrix))throw SyntaxError("Constructor must be called with the new operator");if(r&&!isString(r))throw Error("Invalid datatype: "+r);if(isMatrix(e))"SparseMatrix"===e.type?(this._values=e._values?object_clone(e._values):void 0,this._index=object_clone(e._index),this._ptr=object_clone(e._ptr),this._size=object_clone(e._size),this._datatype=r||e._datatype):_createFromArray(this,e.valueOf(),r||e._datatype);else if(e&&a(e.index)&&a(e.ptr)&&a(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=r||e.datatype;else if(a(e))_createFromArray(this,e,r);else if(e)throw TypeError("Unsupported type of data ("+typeOf(e)+")");else this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=r}function _createFromArray(e,n,o){e._values=[],e._index=[],e._ptr=[],e._datatype=o;var s=n.length,u=0,c=t,l=0;if(isString(o)&&(c=r.find(t,[o,o])||t,l=r.convert(0,o)),s>0){var p=0;do{e._ptr.push(e._index.length);for(var m=0;m<s;m++){var h=n[m];if(a(h)){if(0===p&&u<h.length&&(u=h.length),p<h.length){var g=h[p];c(g,l)||(e._values.push(g),e._index.push(m))}}else 0===p&&u<1&&(u=1),c(h,l)||(e._values.push(h),e._index.push(m))}p++}while(p<u)}e._ptr.push(e._index.length),e._size=[s,u]}function _getValueIndex(e,r,t,n){if(t-r==0)return t;for(var a=r;a<t;a++)if(n[a]===e)return a;return r}function _insert(e,r,t,n,a,o,s){a.splice(e,0,n),o.splice(e,0,r);for(var u=t+1;u<s.length;u++)s[u]++}function _resize(e,n,a,o){var s,u,c,l=o||0,p=t,m=0;isString(e._datatype)&&(p=r.find(t,[e._datatype,e._datatype])||t,m=r.convert(0,e._datatype),l=r.convert(l,e._datatype));var h=!p(l,m),g=e._size[0],y=e._size[1];if(a>y){for(u=y;u<a;u++)if(e._ptr[u]=e._values.length,h)for(s=0;s<g;s++)e._values.push(l),e._index.push(s);e._ptr[a]=e._values.length}else a<y&&(e._ptr.splice(a+1,y-a),e._values.splice(e._ptr[a],e._values.length),e._index.splice(e._ptr[a],e._index.length));if(y=a,n>g){if(h){var v=0;for(u=0;u<y;u++){e._ptr[u]=e._ptr[u]+v,c=e._ptr[u+1]+v;var x=0;for(s=g;s<n;s++,x++)e._values.splice(c+x,0,l),e._index.splice(c+x,0,s),v++}e._ptr[y]=e._values.length}}else if(n<g){var b=0;for(u=0;u<y;u++){e._ptr[u]=e._ptr[u]-b;var N=e._ptr[u],w=e._ptr[u+1]-b;for(c=N;c<w;c++)(s=e._index[c])>n-1&&(e._values.splice(c,1),e._index.splice(c,1),b++)}e._ptr[u]=e._values.length}return e._size[0]=n,e._size[1]=a,e}function _toArray(e,r,t,n,a){var o,s,u=n[0],c=n[1],l=[];for(o=0;o<u;o++)for(s=0,l[o]=[];s<c;s++)l[o][s]=0;for(s=0;s<c;s++)for(var p=t[s],m=t[s+1],h=p;h<m;h++)l[o=r[h]][s]=e?a?object_clone(e[h]):e[h]:1;return l}return SparseMatrix.prototype=new n,SparseMatrix.prototype.createSparseMatrix=function(e,r){return new SparseMatrix(e,r)},Object.defineProperty(SparseMatrix,"name",{value:"SparseMatrix"}),SparseMatrix.prototype.constructor=SparseMatrix,SparseMatrix.prototype.type="SparseMatrix",SparseMatrix.prototype.isSparseMatrix=!0,SparseMatrix.prototype.getDataType=function(){return getArrayDataType(this._values,typeOf)},SparseMatrix.prototype.storage=function(){return"sparse"},SparseMatrix.prototype.datatype=function(){return this._datatype},SparseMatrix.prototype.create=function(e,r){return new SparseMatrix(e,r)},SparseMatrix.prototype.density=function(){var e=this._size[0],r=this._size[1];return 0!==e&&0!==r?this._index.length/(e*r):0},SparseMatrix.prototype.subset=function(e,r,t){if(!this._values)throw Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(e,r){if(!isIndex(r))throw TypeError("Invalid index");if(r.isScalar())return e.get(r.min());var t,n,a,o,s=r.size();if(s.length!==e._size.length)throw new DimensionError(s.length,e._size.length);var u=r.min(),c=r.max();for(t=0,n=e._size.length;t<n;t++)validateIndex(u[t],e._size[t]),validateIndex(c[t],e._size[t]);var l=e._values,p=e._index,m=e._ptr,h=r.dimension(0),g=r.dimension(1),y=[],v=[];h.forEach(function(e,r){v[e]=r[0],y[e]=!0});var x=l?[]:void 0,b=[],N=[];return g.forEach(function(e){for(N.push(b.length),a=m[e],o=m[e+1];a<o;a++)!0===y[t=p[a]]&&(b.push(v[t]),x&&x.push(l[a]))}),N.push(b.length),new SparseMatrix({values:x,index:b,ptr:N,size:s,datatype:e._datatype})}(this,e);case 2:case 3:return function(e,r,t,n){if(!r||!0!==r.isIndex)throw TypeError("Invalid index");var a,o=r.size(),s=r.isScalar();if(isMatrix(t)?(a=t.size(),t=t.toArray()):a=arraySize(t),s){if(0!==a.length)throw TypeError("Scalar expected");e.set(r.min(),t,n)}else{if(1!==o.length&&2!==o.length)throw new DimensionError(o.length,e._size.length,"<");if(a.length<o.length){for(var u=0,c=0;1===o[u]&&1===a[u];)u++;for(;1===o[u];)c++,u++;t=unsqueeze(t,o.length,c,a)}if(!deepStrictEqual(o,a))throw new DimensionError(o,a,">");if(1===o.length)r.dimension(0).forEach(function(r,a){validateIndex(r),e.set([r,0],t[a[0]],n)});else{var l=r.dimension(0),p=r.dimension(1);l.forEach(function(r,a){validateIndex(r),p.forEach(function(o,s){validateIndex(o),e.set([r,o],t[a[0]][s[0]],n)})})}}return e}(this,e,r,t);default:throw SyntaxError("Wrong number of arguments")}},SparseMatrix.prototype.get=function(e){if(!a(e))throw TypeError("Array expected");if(e.length!==this._size.length)throw new DimensionError(e.length,this._size.length);if(!this._values)throw Error("Cannot invoke get on a Pattern only matrix");var r=e[0],t=e[1];validateIndex(r,this._size[0]),validateIndex(t,this._size[1]);var n=_getValueIndex(r,this._ptr[t],this._ptr[t+1],this._index);return n<this._ptr[t+1]&&this._index[n]===r?this._values[n]:0},SparseMatrix.prototype.set=function(e,n,o){if(!a(e))throw TypeError("Array expected");if(e.length!==this._size.length)throw new DimensionError(e.length,this._size.length);if(!this._values)throw Error("Cannot invoke set on a Pattern only matrix");var s=e[0],u=e[1],c=this._size[0],l=this._size[1],p=t,m=0;isString(this._datatype)&&(p=r.find(t,[this._datatype,this._datatype])||t,m=r.convert(0,this._datatype)),(s>c-1||u>l-1)&&(_resize(this,Math.max(s+1,c),Math.max(u+1,l),o),c=this._size[0],l=this._size[1]),validateIndex(s,c),validateIndex(u,l);var h=_getValueIndex(s,this._ptr[u],this._ptr[u+1],this._index);return h<this._ptr[u+1]&&this._index[h]===s?p(n,m)?function(e,r,t,n,a){t.splice(e,1),n.splice(e,1);for(var o=r+1;o<a.length;o++)a[o]--}(h,u,this._values,this._index,this._ptr):this._values[h]=n:p(n,m)||_insert(h,s,u,n,this._values,this._index,this._ptr),this},SparseMatrix.prototype.resize=function(e,r,t){if(!isCollection(e))throw TypeError("Array or Matrix expected");var n=e.valueOf().map(e=>Array.isArray(e)&&1===e.length?e[0]:e);if(2!==n.length)throw Error("Only two dimensions matrix are supported");return n.forEach(function(e){if(!isNumber(e)||!isInteger(e)||e<0)throw TypeError("Invalid size, must contain positive integers (size: "+string_format(n)+")")}),_resize(t?this.clone():this,n[0],n[1],r)},SparseMatrix.prototype.reshape=function(e,r){if(!a(e))throw TypeError("Array expected");if(2!==e.length)throw Error("Sparse matrices can only be reshaped in two dimensions");e.forEach(function(r){if(!isNumber(r)||!isInteger(r)||r<=-2||0===r)throw TypeError("Invalid size, must contain positive integers or -1 (size: "+string_format(e)+")")});var t=this._size[0]*this._size[1],n=(e=processSizesWildcard(e,t))[0]*e[1];if(t!==n)throw Error("Reshaping sparse matrix will result in the wrong number of elements");var o=r?this.clone():this;if(this._size[0]===e[0]&&this._size[1]===e[1])return o;for(var s=[],u=0;u<o._ptr.length;u++)for(var c=0;c<o._ptr[u+1]-o._ptr[u];c++)s.push(u);for(var l=o._values.slice(),p=o._index.slice(),m=0;m<o._index.length;m++){var h=p[m],g=s[m],y=h*o._size[1]+g;s[m]=y%e[1],p[m]=Math.floor(y/e[1])}o._values.length=0,o._index.length=0,o._ptr.length=e[1]+1,o._size=e.slice();for(var v=0;v<o._ptr.length;v++)o._ptr[v]=0;for(var x=0;x<l.length;x++){var b=p[x],N=s[x],w=l[x];_insert(_getValueIndex(b,o._ptr[N],o._ptr[N+1],o._index),b,N,w,o._values,o._index,o._ptr)}return o},SparseMatrix.prototype.clone=function(){return new SparseMatrix({values:this._values?object_clone(this._values):void 0,index:object_clone(this._index),ptr:object_clone(this._ptr),size:object_clone(this._size),datatype:this._datatype})},SparseMatrix.prototype.size=function(){return this._size.slice(0)},SparseMatrix.prototype.map=function(e,n){if(!this._values)throw Error("Cannot invoke map on a Pattern only matrix");var a=this,o=this._size[0],s=this._size[1],u=maxArgumentCount(e);return function(e,n,a,o,s,u,c){var l=[],p=[],m=[],h=t,g=0;isString(e._datatype)&&(h=r.find(t,[e._datatype,e._datatype])||t,g=r.convert(0,e._datatype));for(var invoke=function(e,r,t){e=u(e,r,t),h(e,g)||(l.push(e),p.push(r))},y=o;y<=s;y++){m.push(l.length);var v=e._ptr[y],x=e._ptr[y+1];if(c)for(var b=v;b<x;b++){var N=e._index[b];N>=n&&N<=a&&invoke(e._values[b],N-n,y-o)}else{for(var w={},_=v;_<x;_++)w[e._index[_]]=e._values[_];for(var D=n;D<=a;D++)invoke(D in w?w[D]:0,D-n,y-o)}}return m.push(l.length),new SparseMatrix({values:l,index:p,ptr:m,size:[a-n+1,s-o+1]})}(this,0,o-1,0,s-1,function(r,t,n){return 1===u?e(r):2===u?e(r,[t,n]):e(r,[t,n],a)},n)},SparseMatrix.prototype.forEach=function(e,r){if(!this._values)throw Error("Cannot invoke forEach on a Pattern only matrix");for(var t=this._size[0],n=this._size[1],a=0;a<n;a++){var o=this._ptr[a],s=this._ptr[a+1];if(r)for(var u=o;u<s;u++){var c=this._index[u];e(this._values[u],[c,a],this)}else{for(var l={},p=o;p<s;p++)l[this._index[p]]=this._values[p];for(var m=0;m<t;m++)e(m in l?l[m]:0,[m,a],this)}}},SparseMatrix.prototype[Symbol.iterator]=function*(){if(!this._values)throw Error("Cannot iterate a Pattern only matrix");for(var e=this._size[1],r=0;r<e;r++)for(var t=this._ptr[r],n=this._ptr[r+1],a=t;a<n;a++){var o=this._index[a];yield{value:this._values[a],index:[o,r]}}},SparseMatrix.prototype.toArray=function(){return _toArray(this._values,this._index,this._ptr,this._size,!0)},SparseMatrix.prototype.valueOf=function(){return _toArray(this._values,this._index,this._ptr,this._size,!1)},SparseMatrix.prototype.format=function(e){for(var r=this._size[0],t=this._size[1],n=this.density(),a="Sparse Matrix ["+string_format(r,e)+" x "+string_format(t,e)+"] density: "+string_format(n,e)+"\n",o=0;o<t;o++)for(var s=this._ptr[o],u=this._ptr[o+1],c=s;c<u;c++)a+="\n    ("+string_format(this._index[c],e)+", "+string_format(o,e)+") ==> "+(this._values?string_format(this._values[c],e):"X");return a},SparseMatrix.prototype.toString=function(){return string_format(this.toArray())},SparseMatrix.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},SparseMatrix.prototype.diagonal=function(e){if(e){if(isBigNumber(e)&&(e=e.toNumber()),!isNumber(e)||!isInteger(e))throw TypeError("The parameter k must be an integer number")}else e=0;var r=e>0?e:0,t=e<0?-e:0,n=this._size[0],a=this._size[1],o=Math.min(n-t,a-r),s=[],u=[],c=[];c[0]=0;for(var l=r;l<a&&s.length<o;l++)for(var p=this._ptr[l],m=this._ptr[l+1],h=p;h<m;h++){var g=this._index[h];if(g===l-r+t){s.push(this._values[h]),u[s.length-1]=g-t;break}}return c.push(s.length),new SparseMatrix({values:s,index:u,ptr:c,size:[o,1]})},SparseMatrix.fromJSON=function(e){return new SparseMatrix(e)},SparseMatrix.diagonal=function(e,n,o,s,u){if(!a(e))throw TypeError("Array expected, size parameter");if(2!==e.length)throw Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(isBigNumber(e)&&(e=e.toNumber()),!isNumber(e)||!isInteger(e)||e<1)throw Error("Size values must be positive integers");return e}),o){if(isBigNumber(o)&&(o=o.toNumber()),!isNumber(o)||!isInteger(o))throw TypeError("The parameter k must be an integer number")}else o=0;var c,l=t,p=0;isString(u)&&(l=r.find(t,[u,u])||t,p=r.convert(0,u));var m=o>0?o:0,h=o<0?-o:0,g=e[0],y=e[1],v=Math.min(g-h,y-m);if(a(n)){if(n.length!==v)throw Error("Invalid value array length");c=function(e){return n[e]}}else if(isMatrix(n)){var x=n.size();if(1!==x.length||x[0]!==v)throw Error("Invalid matrix length");c=function(e){return n.get([e])}}else c=function(){return n};for(var b=[],N=[],w=[],_=0;_<y;_++){w.push(b.length);var D=_-m;if(D>=0&&D<v){var E=c(D);l(E,p)||(N.push(D+h),b.push(E))}}return w.push(b.length),new SparseMatrix({values:b,index:N,ptr:w,size:[g,y]})},SparseMatrix.prototype.swapRows=function(e,r){if(!isNumber(e)||!isInteger(e)||!isNumber(r)||!isInteger(r))throw Error("Row index must be positive integers");if(2!==this._size.length)throw Error("Only two dimensional matrix is supported");return validateIndex(e,this._size[0]),validateIndex(r,this._size[0]),SparseMatrix._swapRows(e,r,this._size[1],this._values,this._index,this._ptr),this},SparseMatrix._forEachRow=function(e,r,t,n,a){for(var o=n[e],s=n[e+1],u=o;u<s;u++)a(t[u],r[u])},SparseMatrix._swapRows=function(e,r,t,n,a,o){for(var s=0;s<t;s++){var u=o[s],c=o[s+1],l=_getValueIndex(e,u,c,a),p=_getValueIndex(r,u,c,a);if(l<c&&p<c&&a[l]===e&&a[p]===r){if(n){var m=n[l];n[l]=n[p],n[p]=m}continue}if(l<c&&a[l]===e&&(p>=c||a[p]!==r)){var h=n?n[l]:void 0;a.splice(p,0,r),n&&n.splice(p,0,h),a.splice(p<=l?l+1:l,1),n&&n.splice(p<=l?l+1:l,1);continue}if(p<c&&a[p]===r&&(l>=c||a[l]!==e)){var g=n?n[p]:void 0;a.splice(l,0,e),n&&n.splice(l,0,g),a.splice(l<=p?p+1:p,1),n&&n.splice(l<=p?p+1:p,1)}}},SparseMatrix},{isClass:!0}),iG="splitUnit",iW=factory_factory(iG,["typed"],e=>{var{typed:r}=e;return r(iG,{"Unit, Array":function(e,r){return e.splitUnit(r)}})}),iY="square",iX=factory_factory(iY,["typed"],e=>{var{typed:r}=e;return r(iY,{number:squareNumber,Complex:function(e){return e.mul(e)},BigNumber:function(e){return e.times(e)},Fraction:function(e){return e.mul(e)},Unit:function(e){return e.pow(2)}})}),iJ="string",iK=factory_factory(iJ,["typed"],e=>{var{typed:r}=e;return r(iJ,{"":function(){return""},number:format,null:function(e){return"null"},boolean:function(e){return e+""},string:function(e){return e},"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e)),any:function(e){return String(e)}})}),iQ="subtractScalar",i0=factory_factory(iQ,["typed"],e=>{var{typed:r}=e;return r(iQ,{"number, number":subtractNumber,"Complex, Complex":function(e,r){return e.sub(r)},"BigNumber, BigNumber":function(e,r){return e.minus(r)},"Fraction, Fraction":function(e,r){return e.sub(r)},"Unit, Unit":r.referToSelf(e=>(t,n)=>{if(null===t.value||void 0===t.value)throw Error("Parameter x contains a unit with undefined value");if(null===n.value||void 0===n.value)throw Error("Parameter y contains a unit with undefined value");if(!t.equalBase(n))throw Error("Units do not match");var a=t.clone();return a.value=r.find(e,[a.valueType(),n.valueType()])(a.value,n.value),a.fixPrefix=!1,a})})}),i1=factory_factory("tan",["typed"],e=>{var{typed:r}=e,t=nZ({typed:r});return r("tan",{number:Math.tan,"Complex | BigNumber":e=>e.tan()},t)}),i2="typeOf",i3=factory_factory(i2,["typed"],e=>{var{typed:r}=e;return r(i2,{any:typeOf})}),i5="acosh",i4=factory_factory(i5,["typed","config","Complex"],e=>{var{typed:r,config:t,Complex:n}=e;return r(i5,{number:function(e){return e>=1||t.predictable?x(e):e<=-1?new n(Math.log(Math.sqrt(e*e-1)-e),Math.PI):new n(e,0).acosh()},Complex:function(e){return e.acosh()},BigNumber:function(e){return e.acosh()}})}),i8="acsch",i6=factory_factory(i8,["typed","BigNumber"],e=>{var{typed:r,BigNumber:t}=e;return r(i8,{number:acschNumber,Complex:function(e){return e.acsch()},BigNumber:function(e){return new t(1).div(e).asinh()}})}),i7="asec",i9=factory_factory(i7,["typed","config","Complex","BigNumber"],e=>{var{typed:r,config:t,Complex:n,BigNumber:a}=e;return r(i7,{number:function(e){return e<=-1||e>=1||t.predictable?asecNumber(e):new n(e,0).asec()},Complex:function(e){return e.asec()},BigNumber:function(e){return new a(1).div(e).acos()}})}),ae=factory_factory("bin",["typed","format"],e=>{var{typed:r,format:t}=e;return r("bin",{"number | BigNumber":function(e){return t(e,{notation:"bin"})},"number | BigNumber, number":function(e,r){return t(e,{notation:"bin",wordSize:r})}})}),ar="combinationsWithRep",at=factory_factory(ar,["typed"],e=>{var{typed:r}=e;return r(ar,{"number, number":function(e,r){if(!isInteger(e)||e<0||!isInteger(r)||r<0)throw TypeError("Positive integer value expected in function combinationsWithRep");if(e<1)throw TypeError("k must be less than or equal to n + k - 1");return r<e-1?product_product(e,e+r-1)/product_product(1,r):product_product(r+1,e+r-1)/product_product(1,e-1)},"BigNumber, BigNumber":function(e,r){var t,n,a=new e.constructor(1),o=e.minus(a);if(!combinationsWithRep_isPositiveInteger(e)||!combinationsWithRep_isPositiveInteger(r))throw TypeError("Positive integer value expected in function combinationsWithRep");if(e.lt(a))throw TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(t=a,r.lt(o))for(n=a;n.lte(o);n=n.plus(a))t=t.times(r.plus(n)).dividedBy(n);else for(n=a;n.lte(r);n=n.plus(a))t=t.times(o.plus(n)).dividedBy(n);return t}})});function combinationsWithRep_isPositiveInteger(e){return e.isInteger()&&e.gte(0)}var an="cosh",ai=factory_factory(an,["typed"],e=>{var{typed:r}=e;return r(an,{number:w,"Complex | BigNumber":e=>e.cosh()})}),aa="csch",ao=factory_factory(aa,["typed","BigNumber"],e=>{var{typed:r,BigNumber:t}=e;return r(aa,{number:cschNumber,Complex:e=>e.csch(),BigNumber:e=>new t(1).div(e.sinh())})}),as="isNaN",au=factory_factory(as,["typed"],e=>{var{typed:r}=e;return r(as,{number:isNaNNumber,BigNumber:function(e){return e.isNaN()},Fraction:function(e){return!1},Complex:function(e){return e.isNaN()},Unit:function(e){return Number.isNaN(e.value)},"Array | Matrix":function(e){return deepMap(e,Number.isNaN)}})}),ac="isPrime",al=factory_factory(ac,["typed"],e=>{var{typed:r}=e;return r(ac,{number:function(e){if(0*e!=0)return!1;if(e<=3)return e>1;if(e%2==0||e%3==0)return!1;for(var r=5;r*r<=e;r+=6)if(e%r==0||e%(r+2)==0)return!1;return!0},BigNumber:function(e){if(0*e.toNumber()!=0)return!1;if(e.lte(3))return e.gt(1);if(e.mod(2).eq(0)||e.mod(3).eq(0))return!1;if(e.lt(4294967296)){for(var r=e.toNumber(),t=5;t*t<=r;t+=6)if(r%t==0||r%(t+2)==0)return!1;return!0}e=new(e.constructor.clone({precision:2*e.toFixed(0).length}))(e);for(var n=0,a=e.sub(1);a.mod(2).eq(0);)a=a.div(2),n+=1;var o=null;if(e.lt("3317044064679887385961981"))o=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(r=>r<e);else{var s=Math.min(e.toNumber()-2,Math.floor(2*Math.pow(e.toFixed(0).length*Math.log(10),2)));o=[];for(var u=2;u<=s;u+=1)o.push(s)}for(var c=0;c<o.length;c+=1){var l=o[c],p=function(e,r,t){for(var n=1;!r.eq(0);)r.mod(2).eq(0)?(r=r.div(2),e=e.mul(e).mod(t)):(r=r.sub(1),n=e.mul(n).mod(t));return n}(e.sub(e).add(l),a,e);if(!p.eq(1)){for(var m=0,h=p;!h.eq(e.sub(1));m+=1,h=h.mul(h).mod(e))if(m===n-1)return!1}}return!0},"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e))})}),af="randomInt",ap=factory_factory(af,["typed","config","?on"],e=>{var{typed:r,config:t,on:n}=e,a=seededRNG_createRng(t.randomSeed);return n&&n("config",function(e,r){e.randomSeed!==r.randomSeed&&(a=seededRNG_createRng(e.randomSeed))}),r(af,{"":()=>_randomInt(0,1),number:e=>_randomInt(0,e),"number, number":(e,r)=>_randomInt(e,r),"Array | Matrix":e=>_randomIntMatrix(e,0,1),"Array | Matrix, number":(e,r)=>_randomIntMatrix(e,0,r),"Array | Matrix, number, number":(e,r,t)=>_randomIntMatrix(e,r,t)});function _randomIntMatrix(e,r,t){var n=randomMatrix(e.valueOf(),()=>_randomInt(r,t));return isMatrix(e)?e.create(n):n}function _randomInt(e,r){return Math.floor(e+a()*(r-e))}}),am="sech",ah=factory_factory(am,["typed","BigNumber"],e=>{var{typed:r,BigNumber:t}=e;return r(am,{number:sechNumber,Complex:e=>e.sech(),BigNumber:e=>new t(1).div(e.cosh())})}),ad="sinh",ag=factory_factory(ad,["typed"],e=>{var{typed:r}=e;return r(ad,{number:sinhNumber,"Complex | BigNumber":e=>e.sinh()})}),ay="sparse",av=factory_factory(ay,["typed","SparseMatrix"],e=>{var{typed:r,SparseMatrix:t}=e;return r(ay,{"":function(){return new t([])},string:function(e){return new t([],e)},"Array | Matrix":function(e){return new t(e)},"Array | Matrix, string":function(e,r){return new t(e,r)}})}),ax=factory_factory("sqrt",["config","typed","Complex"],e=>{var{config:r,typed:t,Complex:n}=e;return t("sqrt",{number:_sqrtNumber,Complex:function(e){return e.sqrt()},BigNumber:function(e){return!e.isNegative()||r.predictable?e.sqrt():_sqrtNumber(e.toNumber())},Unit:function(e){return e.pow(.5)}});function _sqrtNumber(e){return isNaN(e)?NaN:e>=0||r.predictable?Math.sqrt(e):new n(e,0).sqrt()}}),ab=factory_factory("tanh",["typed"],e=>{var{typed:r}=e;return r("tanh",{number:D,"Complex | BigNumber":e=>e.tanh()})}),aN="unaryMinus",aw=factory_factory(aN,["typed"],e=>{var{typed:r}=e;return r(aN,{number:unaryMinusNumber,"Complex | BigNumber | Fraction":e=>e.neg(),Unit:r.referToSelf(e=>t=>{var n=t.clone();return n.value=r.find(e,n.valueType())(t.value),n}),"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e,!0))})}),a_="acoth",aD=factory_factory(a_,["typed","config","Complex","BigNumber"],e=>{var{typed:r,config:t,Complex:n,BigNumber:a}=e;return r(a_,{number:function(e){return e>=1||e<=-1||t.predictable?acothNumber(e):new n(e,0).acoth()},Complex:function(e){return e.acoth()},BigNumber:function(e){return new a(1).div(e).atanh()}})}),aE="coth",aA=factory_factory(aE,["typed","BigNumber"],e=>{var{typed:r,BigNumber:t}=e;return r(aE,{number:cothNumber,Complex:e=>e.coth(),BigNumber:e=>new t(1).div(e.tanh())})}),aC=factory_factory("fraction",["typed","Fraction"],e=>{var{typed:r,Fraction:t}=e;return r("fraction",{number:function(e){if(!isFinite(e)||isNaN(e))throw Error(e+" cannot be represented as a fraction");return new t(e)},string:function(e){return new t(e)},"number, number":function(e,r){return new t(e,r)},null:function(e){return new t(0)},BigNumber:function(e){return new t(e.toString())},Fraction:function(e){return e},Unit:r.referToSelf(e=>r=>{var t=r.clone();return t.value=e(r.value),t}),Object:function(e){return new t(e)},"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e))})}),aS="isNumeric",aM=factory_factory(aS,["typed"],e=>{var{typed:r}=e;return r(aS,{"number | BigNumber | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e))})}),aF="matrix",aT=factory_factory(aF,["typed","Matrix","DenseMatrix","SparseMatrix"],e=>{var{typed:r,Matrix:t,DenseMatrix:n,SparseMatrix:a}=e;return r(aF,{"":function(){return _create([])},string:function(e){return _create([],e)},"string, string":function(e,r){return _create([],e,r)},Array:function(e){return _create(e)},Matrix:function(e){return _create(e,e.storage())},"Array | Matrix, string":_create,"Array | Matrix, string, string":_create});function _create(e,r,t){if("dense"===r||"default"===r||void 0===r)return new n(e,t);if("sparse"===r)return new a(e,t);throw TypeError("Unknown matrix type "+JSON.stringify(r)+".")}}),aO="matrixFromFunction",aB=factory_factory(aO,["typed","matrix","isZero"],e=>{var{typed:r,matrix:t,isZero:n}=e;return r(aO,{"Array | Matrix, function, string, string":function(e,r,t,n){return _create(e,r,t,n)},"Array | Matrix, function, string":function(e,r,t){return _create(e,r,t)},"Matrix, function":function(e,r){return _create(e,r,"dense")},"Array, function":function(e,r){return _create(e,r,"dense").toArray()},"Array | Matrix, string, function":function(e,r,t){return _create(e,t,r)},"Array | Matrix, string, string, function":function(e,r,t,n){return _create(e,n,r,t)}});function _create(e,r,a,o){var s;return(s=void 0!==o?t(a,o):t(a)).resize(e),s.forEach(function(e,t){var a=r(t);n(a)||s.set(t,a)}),s}}),ak="mode",aI=factory_factory(ak,["typed","isNaN","isNumeric"],e=>{var{typed:r,isNaN:t,isNumeric:n}=e;return r(ak,{"Array | Matrix":_mode,"...":function(e){return _mode(e)}});function _mode(e){if(0===(e=flatten(e.valueOf())).length)throw Error("Cannot calculate mode of an empty array");for(var r={},a=[],o=0,s=0;s<e.length;s++){var u=e[s];if(n(u)&&t(u))throw Error("Cannot calculate mode of an array containing NaN values");u in r||(r[u]=0),r[u]++,r[u]===o?a.push(u):r[u]>o&&(o=r[u],a=[u])}return a}}),aP=factory_factory("numeric",["number","?bignumber","?fraction"],e=>{var{number:r,bignumber:t,fraction:n}=e,a={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:e=>r(e),BigNumber:t?e=>t(e):noBignumber,Fraction:n?e=>n(e):noFraction};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number",t=arguments.length>2?arguments[2]:void 0;if(void 0!==t)throw SyntaxError("numeric() takes one or two arguments");var n=typeOf(e);if(!(n in a))throw TypeError("Cannot convert "+e+' of type "'+n+'"; valid input types are '+Object.keys(a).join(", "));if(!(r in o))throw TypeError("Cannot convert "+e+' to type "'+r+'"; valid output types are '+Object.keys(o).join(", "));return r===n?e:o[r](e)}}),az="prod",aR=factory_factory(az,["typed","config","multiplyScalar","numeric"],e=>{var{typed:r,config:t,multiplyScalar:n,numeric:a}=e;return r(az,{"Array | Matrix":_prod,"Array | Matrix, number | BigNumber":function(e,r){throw Error("prod(A, dim) is not yet supported")},"...":function(e){return _prod(e)}});function _prod(e){var r;if(deepForEach(e,function(e){try{r=void 0===r?e:n(r,e)}catch(r){throw improveErrorMessage(r,"prod",e)}}),"string"==typeof r&&(r=a(r,t.number)),void 0===r)throw Error("Cannot calculate prod of an empty array");return r}}),aq="reshape",aj=factory_factory(aq,["typed","isInteger","matrix"],e=>{var{typed:r,isInteger:t}=e;return r(aq,{"Matrix, Array":function(e,r){return e.reshape(r,!0)},"Array, Array":function(e,r){return r.forEach(function(e){if(!t(e))throw TypeError("Invalid size for dimension: "+e)}),reshape(e,r)}})}),aU="size",aL=factory_factory(aU,["typed","config","?matrix"],e=>{var{typed:r,config:t,matrix:n}=e;return r(aU,{Matrix:function(e){return e.create(e.size())},Array:arraySize,string:function(e){return"Array"===t.matrix?[e.length]:n([e.length])},"number | Complex | BigNumber | Unit | boolean | null":function(e){return"Array"===t.matrix?[]:n?n([]):noMatrix()}})}),aH="squeeze",a$=factory_factory(aH,["typed","matrix"],e=>{var{typed:r,matrix:t}=e;return r(aH,{Array:function(e){return squeeze(object_clone(e))},Matrix:function(e){var r=squeeze(e.toArray());return Array.isArray(r)?t(r):r},any:function(e){return object_clone(e)}})}),aV="transpose",aZ=factory_factory(aV,["typed","matrix"],e=>{var{typed:r,matrix:t}=e;return r(aV,{Array:e=>transposeMatrix(t(e)).valueOf(),Matrix:transposeMatrix,any:object_clone});function transposeMatrix(e){var r,t=e.size();switch(t.length){case 1:r=e.clone();break;case 2:var n=t[0],a=t[1];if(0===a)throw RangeError("Cannot transpose a 2D matrix with no columns (size: "+string_format(t)+")");switch(e.storage()){case"dense":r=function(e,r,t){for(var n,a=e._data,o=[],s=0;s<t;s++){n=o[s]=[];for(var u=0;u<r;u++)n[u]=object_clone(a[u][s])}return e.createDenseMatrix({data:o,size:[t,r],datatype:e._datatype})}(e,n,a);break;case"sparse":r=function(e,r,t){for(var n,a,o,s=e._values,u=e._index,c=e._ptr,l=s?[]:void 0,p=[],m=[],h=[],g=0;g<r;g++)h[g]=0;for(n=0,a=u.length;n<a;n++)h[u[n]]++;for(var y=0,v=0;v<r;v++)m.push(y),y+=h[v],h[v]=m[v];for(m.push(y),o=0;o<t;o++)for(var x=c[o],b=c[o+1],N=x;N<b;N++){var w=h[u[N]]++;p[w]=o,s&&(l[w]=object_clone(s[N]))}return e.createSparseMatrix({values:l,index:p,ptr:m,size:[t,r],datatype:e._datatype})}(e,n,a)}break;default:throw RangeError("Matrix must be a vector or two dimensional (size: "+string_format(t)+")")}return r}}),aG="xgcd",aW=factory_factory(aG,["typed","config","matrix","BigNumber"],e=>{var{typed:r,config:t,matrix:n,BigNumber:a}=e;return r(aG,{"number, number":function(e,r){var a=xgcdNumber(e,r);return"Array"===t.matrix?a:n(a)},"BigNumber, BigNumber":function(e,r){var o,s,u,c,l=new a(0),p=new a(1),m=l,h=p,g=p,y=l;if(!e.isInt()||!r.isInt())throw Error("Parameters in function xgcd must be integer numbers");for(;!r.isZero();)s=e.div(r).floor(),u=e.mod(r),o=m,m=h.minus(s.times(m)),h=o,o=g,g=y.minus(s.times(g)),y=o,e=r,r=u;return c=e.lt(l)?[e.neg(),h.neg(),y.neg()]:[e,e.isZero()?0:h,y],"Array"===t.matrix?c:n(c)}})}),aY="zeros",aX=factory_factory(aY,["typed","config","matrix","BigNumber"],e=>{var{typed:r,config:t,matrix:n,BigNumber:a}=e;return r(aY,{"":function(){return"Array"===t.matrix?_zeros([]):_zeros([],"default")},"...number | BigNumber | string":function(e){if("string"==typeof e[e.length-1]){var r=e.pop();return _zeros(e,r)}return"Array"===t.matrix?_zeros(e):_zeros(e,"default")},Array:_zeros,Matrix:function(e){var r=e.storage();return _zeros(e.valueOf(),r)},"Array | Matrix, string":function(e,r){return _zeros(e.valueOf(),r)}});function _zeros(e,r){var t,o=(t=!1,e.forEach(function(e,r,n){isBigNumber(e)&&(t=!0,n[r]=e.toNumber())}),t)?new a(0):0;if(function(e){e.forEach(function(e){if("number"!=typeof e||!isInteger(e)||e<0)throw Error("Parameters in function zeros must be positive integers")})}(e),r){var s=n(r);return e.length>0?s.resize(e,o):s}var u=[];return e.length>0?array_resize(u,e,o):u}}),aJ="asin",aK=factory_factory(aJ,["typed","config","Complex"],e=>{var{typed:r,config:t,Complex:n}=e;return r(aJ,{number:function(e){return e>=-1&&e<=1||t.predictable?Math.asin(e):new n(e,0).asin()},Complex:function(e){return e.asin()},BigNumber:function(e){return e.asin()}})}),aQ="cbrt",a0=factory_factory(aQ,["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],e=>{var{config:r,typed:t,isNegative:n,unaryMinus:a,matrix:o,Complex:s,BigNumber:u,Fraction:c}=e;return t(aQ,{number:cbrtNumber,Complex:_cbrtComplex,"Complex, boolean":_cbrtComplex,BigNumber:function(e){return e.cbrt()},Unit:function(e){if(e.value&&isComplex(e.value)){var r=e.clone();return r.value=1,(r=r.pow(1/3)).value=_cbrtComplex(e.value),r}var t,o=n(e.value);o&&(e.value=a(e.value)),t=isBigNumber(e.value)?new u(1).div(3):isFraction(e.value)?new c(1,3):1/3;var s=e.pow(t);return o&&(s.value=a(s.value)),s}});function _cbrtComplex(e,t){var n=e.arg()/3,a=e.abs(),u=new s(cbrtNumber(a),0).mul(new s(0,n).exp());if(!t)return u;var c=[u,new s(cbrtNumber(a),0).mul(new s(0,n+2*Math.PI/3).exp()),new s(cbrtNumber(a),0).mul(new s(0,n-2*Math.PI/3).exp())];return"Array"===r.matrix?c:o(c)}}),a1="count",a2=factory_factory(a1,["typed","size","prod"],e=>{var{typed:r,size:t,prod:n}=e;return r(a1,{string:function(e){return e.length},"Matrix | Array":function(e){return n(t(e))}})}),a3="ctranspose",a5=factory_factory(a3,["typed","transpose","conj"],e=>{var{typed:r,transpose:t,conj:n}=e;return r(a3,{any:function(e){return n(t(e))}})}),a4="diag",a8=factory_factory(a4,["typed","matrix","DenseMatrix","SparseMatrix"],e=>{var{typed:r,matrix:t,DenseMatrix:n,SparseMatrix:a}=e;return r(a4,{Array:function(e){return _diag(e,0,arraySize(e),null)},"Array, number":function(e,r){return _diag(e,r,arraySize(e),null)},"Array, BigNumber":function(e,r){return _diag(e,r.toNumber(),arraySize(e),null)},"Array, string":function(e,r){return _diag(e,0,arraySize(e),r)},"Array, number, string":function(e,r,t){return _diag(e,r,arraySize(e),t)},"Array, BigNumber, string":function(e,r,t){return _diag(e,r.toNumber(),arraySize(e),t)},Matrix:function(e){return _diag(e,0,e.size(),e.storage())},"Matrix, number":function(e,r){return _diag(e,r,e.size(),e.storage())},"Matrix, BigNumber":function(e,r){return _diag(e,r.toNumber(),e.size(),e.storage())},"Matrix, string":function(e,r){return _diag(e,0,e.size(),r)},"Matrix, number, string":function(e,r,t){return _diag(e,r,e.size(),t)},"Matrix, BigNumber, string":function(e,r,t){return _diag(e,r.toNumber(),e.size(),t)}});function _diag(e,r,o,s){if(!isInteger(r))throw TypeError("Second parameter in function diag must be an integer");var u=r>0?r:0,c=r<0?-r:0;switch(o.length){case 1:return function(e,r,t,o,s,u){var c=[o+s,o+u];if(t&&"sparse"!==t&&"dense"!==t)throw TypeError("Unknown matrix type ".concat(t,'"'));var l="sparse"===t?a.diagonal(c,e,r):n.diagonal(c,e,r);return null!==t?l:l.valueOf()}(e,r,s,o[0],c,u);case 2:return function(e,r,n,a,o,s){if(isMatrix(e)){var u=e.diagonal(r);return null!==n?n!==u.storage()?t(u,n):u:u.valueOf()}for(var c=Math.min(a[0]-o,a[1]-s),l=[],p=0;p<c;p++)l[p]=e[p+o][p+s];return null!==n?t(l):l}(e,r,s,o,c,u)}throw RangeError("Matrix for function diag must be 2 dimensional")}}),a6="divideScalar",a7=factory_factory(a6,["typed","numeric"],e=>{var{typed:r,numeric:t}=e;return r(a6,{"number, number":function(e,r){return e/r},"Complex, Complex":function(e,r){return e.div(r)},"BigNumber, BigNumber":function(e,r){return e.div(r)},"Fraction, Fraction":function(e,r){return e.div(r)},"Unit, number | Complex | Fraction | BigNumber | Unit":(e,r)=>e.divide(r),"number | Fraction | Complex | BigNumber, Unit":(e,r)=>r.divideInto(e)})}),a9=factory_factory("matAlgo02xDS0",["typed","equalScalar"],e=>{var{typed:r,equalScalar:t}=e;return function(e,n,a,o){var s,u=e._data,c=e._size,l=e._datatype,p=n._values,m=n._index,h=n._ptr,g=n._size,y=n._datatype;if(c.length!==g.length)throw new DimensionError(c.length,g.length);if(c[0]!==g[0]||c[1]!==g[1])throw RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+g+")");if(!p)throw Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v=c[0],x=c[1],b=t,N=0,w=a;"string"==typeof l&&l===y&&(s=l,b=r.find(t,[s,s]),N=r.convert(0,s),w=r.find(a,[s,s]));for(var _=[],D=[],E=[],A=0;A<x;A++){E[A]=D.length;for(var C=h[A],S=h[A+1],M=C;M<S;M++){var F=m[M],T=o?w(p[M],u[F][A]):w(u[F][A],p[M]);b(T,N)||(D.push(F),_.push(T))}}return E[x]=D.length,n.createSparseMatrix({values:_,index:D,ptr:E,size:[v,x],datatype:s})}}),oe=factory_factory("matAlgo03xDSf",["typed"],e=>{var{typed:r}=e;return function(e,t,n,a){var o,s=e._data,u=e._size,c=e._datatype,l=t._values,p=t._index,m=t._ptr,h=t._size,g=t._datatype;if(u.length!==h.length)throw new DimensionError(u.length,h.length);if(u[0]!==h[0]||u[1]!==h[1])throw RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");if(!l)throw Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var y=u[0],v=u[1],x=0,b=n;"string"==typeof c&&c===g&&(o=c,x=r.convert(0,o),b=r.find(n,[o,o]));for(var N=[],w=0;w<y;w++)N[w]=[];for(var _=[],D=[],E=0;E<v;E++){for(var A=E+1,C=m[E],S=m[E+1],M=C;M<S;M++){var F=p[M];_[F]=a?b(l[M],s[F][E]):b(s[F][E],l[M]),D[F]=A}for(var T=0;T<y;T++)D[T]===A?N[T][E]=_[T]:N[T][E]=a?b(x,s[T][E]):b(s[T][E],x)}return e.createDenseMatrix({data:N,size:[y,v],datatype:o})}}),or=factory_factory("matAlgo07xSSf",["typed","DenseMatrix"],e=>{var{typed:r,DenseMatrix:t}=e;return function(e,n,a){var o,s,u,c=e._size,l=e._datatype,p=n._size,m=n._datatype;if(c.length!==p.length)throw new DimensionError(c.length,p.length);if(c[0]!==p[0]||c[1]!==p[1])throw RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+p+")");var h=c[0],g=c[1],y=0,v=a;"string"==typeof l&&l===m&&(o=l,y=r.convert(0,o),v=r.find(a,[o,o]));var x=[];for(s=0;s<h;s++)x[s]=[];var b=[],N=[],w=[],_=[];for(u=0;u<g;u++){var D=u+1;for(_scatter(e,u,w,b,D),_scatter(n,u,_,N,D),s=0;s<h;s++){var E=w[s]===D?b[s]:y,A=_[s]===D?N[s]:y;x[s][u]=v(E,A)}}return new t({data:x,size:[h,g],datatype:o})};function _scatter(e,r,t,n,a){for(var o=e._values,s=e._index,u=e._ptr,c=u[r],l=u[r+1];c<l;c++){var p=s[c];t[p]=a,n[p]=o[c]}}}),ot=factory_factory("matAlgo11xS0s",["typed","equalScalar"],e=>{var{typed:r,equalScalar:t}=e;return function(e,n,a,o){var s,u=e._values,c=e._index,l=e._ptr,p=e._size,m=e._datatype;if(!u)throw Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=p[0],g=p[1],y=t,v=0,x=a;"string"==typeof m&&(s=m,y=r.find(t,[s,s]),v=r.convert(0,s),n=r.convert(n,s),x=r.find(a,[s,s]));for(var b=[],N=[],w=[],_=0;_<g;_++){w[_]=N.length;for(var D=l[_],E=l[_+1],A=D;A<E;A++){var C=c[A],S=o?x(n,u[A]):x(u[A],n);y(S,v)||(N.push(C),b.push(S))}}return w[g]=N.length,e.createSparseMatrix({values:b,index:N,ptr:w,size:[h,g],datatype:s})}}),on=factory_factory("matAlgo12xSfs",["typed","DenseMatrix"],e=>{var{typed:r,DenseMatrix:t}=e;return function(e,n,a,o){var s,u=e._values,c=e._index,l=e._ptr,p=e._size,m=e._datatype;if(!u)throw Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=p[0],g=p[1],y=a;"string"==typeof m&&(s=m,n=r.convert(n,s),y=r.find(a,[s,s]));for(var v=[],x=[],b=[],N=0;N<g;N++){for(var w=N+1,_=l[N],D=l[N+1],E=_;E<D;E++){var A=c[E];x[A]=u[E],b[A]=w}for(var C=0;C<h;C++)0===N&&(v[C]=[]),b[C]===w?v[C][N]=o?y(n,x[C]):y(x[C],n):v[C][N]=o?y(n,0):y(0,n)}return new t({data:v,size:[h,g],datatype:s})}}),oi=factory_factory("matAlgo13xDD",["typed"],e=>{var{typed:r}=e;return function(e,t,n){var a,o=e._data,s=e._size,u=e._datatype,c=t._data,l=t._size,p=t._datatype,m=[];if(s.length!==l.length)throw new DimensionError(s.length,l.length);for(var h=0;h<s.length;h++){if(s[h]!==l[h])throw RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+l+")");m[h]=s[h]}var g=n;"string"==typeof u&&u===p&&(a=u,g=r.find(n,[a,a]));var y=m.length>0?function _iterate(e,r,t,n,a,o){var s=[];if(r===t.length-1)for(var u=0;u<n;u++)s[u]=e(a[u],o[u]);else for(var c=0;c<n;c++)s[c]=_iterate(e,r+1,t,t[r+1],a[c],o[c]);return s}(g,0,m,m[0],o,c):[];return e.createDenseMatrix({data:y,size:m,datatype:a})}}),oa=factory_factory("matAlgo14xDs",["typed"],e=>{var{typed:r}=e;return function(e,t,n,a){var o,s=e._data,u=e._size,c=e._datatype,l=n;"string"==typeof c&&(o=c,t=r.convert(t,o),l=r.find(n,[o,o]));var p=u.length>0?function _iterate(e,r,t,n,a,o,s){var u=[];if(r===t.length-1)for(var c=0;c<n;c++)u[c]=s?e(o,a[c]):e(a[c],o);else for(var l=0;l<n;l++)u[l]=_iterate(e,r+1,t,t[r+1],a[l],o,s);return u}(l,0,u,u[0],s,t,a):[];return e.createDenseMatrix({data:p,size:object_clone(u),datatype:o})}}),oo=factory_factory("broadcast",["concat"],e=>{var{concat:r}=e;return function(e,r){var t=Math.max(e._size.length,r._size.length);if(e._size.length===r._size.length&&e._size.every((e,t)=>e===r._size[t]))return[e,r];for(var n=_padLeft(e._size,t,0),a=_padLeft(r._size,t,0),o=[],s=0;s<t;s++)o[s]=Math.max(n[s],a[s]);checkBroadcastingRules(n,o),checkBroadcastingRules(a,o);var u=e.clone(),c=r.clone();u._size.length<t?u.reshape(_padLeft(u._size,t,1)):c._size.length<t&&c.reshape(_padLeft(c._size,t,1));for(var l=0;l<t;l++)u._size[l]<o[l]&&(u=_stretch(u,o[l],l)),c._size[l]<o[l]&&(c=_stretch(c,o[l],l));return[u,c]};function _padLeft(e,r,t){return[...Array(r-e.length).fill(t),...e]}function _stretch(e,t,n){return r(...Array(t).fill(e),n)}}),os=factory_factory("matrixAlgorithmSuite",["typed","matrix","concat"],e=>{var{typed:r,matrix:t,concat:n}=e,a=oi({typed:r}),o=oa({typed:r}),s=oo({concat:n});return function(e){var n,u=e.elop,c=e.SD||e.DS;u?(n={"DenseMatrix, DenseMatrix":(e,r)=>a(...s(e,r),u),"Array, Array":(e,r)=>a(...s(t(e),t(r)),u).valueOf(),"Array, DenseMatrix":(e,r)=>a(...s(t(e),r),u),"DenseMatrix, Array":(e,r)=>a(...s(e,t(r)),u)},e.SS&&(n["SparseMatrix, SparseMatrix"]=(r,t)=>e.SS(...s(r,t),u,!1)),e.DS&&(n["DenseMatrix, SparseMatrix"]=(r,t)=>e.DS(...s(r,t),u,!1),n["Array, SparseMatrix"]=(r,n)=>e.DS(...s(t(r),n),u,!1)),c&&(n["SparseMatrix, DenseMatrix"]=(e,r)=>c(...s(r,e),u,!0),n["SparseMatrix, Array"]=(e,r)=>c(...s(t(r),e),u,!0))):(n={"DenseMatrix, DenseMatrix":r.referToSelf(e=>(r,t)=>a(...s(r,t),e)),"Array, Array":r.referToSelf(e=>(r,n)=>a(...s(t(r),t(n)),e).valueOf()),"Array, DenseMatrix":r.referToSelf(e=>(r,n)=>a(...s(t(r),n),e)),"DenseMatrix, Array":r.referToSelf(e=>(r,n)=>a(...s(r,t(n)),e))},e.SS&&(n["SparseMatrix, SparseMatrix"]=r.referToSelf(r=>(t,n)=>e.SS(...s(t,n),r,!1))),e.DS&&(n["DenseMatrix, SparseMatrix"]=r.referToSelf(r=>(t,n)=>e.DS(...s(t,n),r,!1)),n["Array, SparseMatrix"]=r.referToSelf(r=>(n,a)=>e.DS(...s(t(n),a),r,!1))),c&&(n["SparseMatrix, DenseMatrix"]=r.referToSelf(e=>(r,t)=>c(...s(t,r),e,!0)),n["SparseMatrix, Array"]=r.referToSelf(e=>(r,n)=>c(...s(t(n),r),e,!0))));var l=e.scalar||"any";(e.Ds||e.Ss)&&(u?(n["DenseMatrix,"+l]=(e,r)=>o(e,r,u,!1),n[l+", DenseMatrix"]=(e,r)=>o(r,e,u,!0),n["Array,"+l]=(e,r)=>o(t(e),r,u,!1).valueOf(),n[l+", Array"]=(e,r)=>o(t(r),e,u,!0).valueOf()):(n["DenseMatrix,"+l]=r.referToSelf(e=>(r,t)=>o(r,t,e,!1)),n[l+", DenseMatrix"]=r.referToSelf(e=>(r,t)=>o(t,r,e,!0)),n["Array,"+l]=r.referToSelf(e=>(r,n)=>o(t(r),n,e,!1).valueOf()),n[l+", Array"]=r.referToSelf(e=>(r,n)=>o(t(n),r,e,!0).valueOf())));var p=void 0!==e.sS?e.sS:e.Ss;return u?(e.Ss&&(n["SparseMatrix,"+l]=(r,t)=>e.Ss(r,t,u,!1)),p&&(n[l+", SparseMatrix"]=(e,r)=>p(r,e,u,!0))):(e.Ss&&(n["SparseMatrix,"+l]=r.referToSelf(r=>(t,n)=>e.Ss(t,n,r,!1))),p&&(n[l+", SparseMatrix"]=r.referToSelf(e=>(r,t)=>p(t,r,e,!0)))),u&&u.signatures&&extend(n,u.signatures),n}}),ou="dotDivide",oc=factory_factory(ou,["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],e=>{var{typed:r,matrix:t,equalScalar:n,divideScalar:a,DenseMatrix:o,concat:s}=e,u=a9({typed:r,equalScalar:n}),c=oe({typed:r}),l=or({typed:r,DenseMatrix:o}),p=ot({typed:r,equalScalar:n}),m=on({typed:r,DenseMatrix:o}),h=os({typed:r,matrix:t,concat:s});return r(ou,h({elop:a,SS:l,DS:c,SD:u,Ss:p,sS:m}))}),ol="equal",of=factory_factory(ol,["typed","matrix","equalScalar","DenseMatrix","concat"],e=>{var{typed:r,matrix:t,equalScalar:n,DenseMatrix:a,concat:o}=e,s=oe({typed:r}),u=or({typed:r,DenseMatrix:a}),c=on({typed:r,DenseMatrix:a}),l=os({typed:r,matrix:t,concat:o});return r(ol,op({typed:r,equalScalar:n}),l({elop:n,SS:u,DS:s,Ss:c}))}),op=factory_factory(ol,["typed","equalScalar"],e=>{var{typed:r,equalScalar:t}=e;return r(ol,{"any, any":function(e,r){return null===e?null===r:null===r?null===e:void 0===e?void 0===r:void 0===r?void 0===e:t(e,r)}})}),om="flatten",oh=factory_factory(om,["typed","matrix"],e=>{var{typed:r,matrix:t}=e;return r(om,{Array:function(e){return flatten(e)},Matrix:function(e){return t(flatten(e.toArray()))}})}),od="hasNumericValue",og=factory_factory(od,["typed","isNumeric"],e=>{var{typed:r,isNumeric:t}=e;return r(od,{boolean:()=>!0,string:function(e){return e.trim().length>0&&!isNaN(Number(e))},any:function(e){return t(e)}})}),oy="identity",ov=factory_factory(oy,["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],e=>{var{typed:r,config:t,matrix:n,BigNumber:a,DenseMatrix:o,SparseMatrix:s}=e;return r(oy,{"":function(){return"Matrix"===t.matrix?n([]):[]},string:function(e){return n(e)},"number | BigNumber":function(e){return _identity(e,e,"Matrix"===t.matrix?"dense":void 0)},"number | BigNumber, string":function(e,r){return _identity(e,e,r)},"number | BigNumber, number | BigNumber":function(e,r){return _identity(e,r,"Matrix"===t.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(e,r,t){return _identity(e,r,t)},Array:function(e){return _identityVector(e)},"Array, string":function(e,r){return _identityVector(e,r)},Matrix:function(e){return _identityVector(e.valueOf(),e.storage())},"Matrix, string":function(e,r){return _identityVector(e.valueOf(),r)}});function _identityVector(e,r){switch(e.length){case 0:return r?n(r):[];case 1:return _identity(e[0],e[0],r);case 2:return _identity(e[0],e[1],r);default:throw Error("Vector containing two values expected")}}function _identity(e,r,t){var n=isBigNumber(e)||isBigNumber(r)?a:null;if(isBigNumber(e)&&(e=e.toNumber()),isBigNumber(r)&&(r=r.toNumber()),!isInteger(e)||e<1||!isInteger(r)||r<1)throw Error("Parameters in function identity must be positive integers");var u=n?new a(1):1,c=n?new n(0):0,l=[e,r];if(t){if("sparse"===t)return s.diagonal(l,u,0,c);if("dense"===t)return o.diagonal(l,u,0,c);throw TypeError('Unknown matrix type "'.concat(t,'"'))}for(var p=array_resize([],l,c),m=e<r?e:r,h=0;h<m;h++)p[h][h]=u;return p}}),ox="kron",ob=factory_factory(ox,["typed","matrix","multiplyScalar"],e=>{var{typed:r,matrix:t,multiplyScalar:n}=e;return r(ox,{"Matrix, Matrix":function(e,r){return t(_kron(e.toArray(),r.toArray()))},"Matrix, Array":function(e,r){return t(_kron(e.toArray(),r))},"Array, Matrix":function(e,r){return t(_kron(e,r.toArray()))},"Array, Array":_kron});function _kron(e,r){if(1===arraySize(e).length&&(e=[e]),1===arraySize(r).length&&(r=[r]),arraySize(e).length>2||arraySize(r).length>2)throw RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(e.length)+", y = "+JSON.stringify(r.length)+")");var t=[],a=[];return e.map(function(e){return r.map(function(r){return a=[],t.push(a),e.map(function(e){return r.map(function(r){return a.push(n(e,r))})})})})&&t}}),oN="largerEq",ow=factory_factory(oN,["typed","config","matrix","DenseMatrix","concat"],e=>{var{typed:r,config:t,matrix:n,DenseMatrix:a,concat:o}=e,s=oe({typed:r}),u=or({typed:r,DenseMatrix:a}),c=on({typed:r,DenseMatrix:a}),l=os({typed:r,matrix:n,concat:o}),p=nK({typed:r});return r(oN,o_({typed:r,config:t}),{"boolean, boolean":(e,r)=>e>=r,"BigNumber, BigNumber":function(e,r){return e.gte(r)||nearlyEqual_nearlyEqual(e,r,t.epsilon)},"Fraction, Fraction":(e,r)=>-1!==e.compare(r),"Complex, Complex":function(){throw TypeError("No ordering relation is defined for complex numbers")}},p,l({SS:u,DS:s,Ss:c}))}),o_=factory_factory(oN,["typed","config"],e=>{var{typed:r,config:t}=e;return r(oN,{"number, number":function(e,r){return e>=r||nearlyEqual(e,r,t.epsilon)}})}),oD=factory_factory("matAlgo01xDSid",["typed"],e=>{var{typed:r}=e;return function(e,t,n,a){var o,s,u=e._data,c=e._size,l=e._datatype,p=t._values,m=t._index,h=t._ptr,g=t._size,y=t._datatype;if(c.length!==g.length)throw new DimensionError(c.length,g.length);if(c[0]!==g[0]||c[1]!==g[1])throw RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+g+")");if(!p)throw Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v=c[0],x=c[1],b="string"==typeof l&&l===y?l:void 0,N=b?r.find(n,[b,b]):n,w=[];for(o=0;o<v;o++)w[o]=[];var _=[],D=[];for(s=0;s<x;s++){for(var E=s+1,A=h[s],C=h[s+1],S=A;S<C;S++)_[o=m[S]]=a?N(p[S],u[o][s]):N(u[o][s],p[S]),D[o]=E;for(o=0;o<v;o++)D[o]===E?w[o][s]=_[o]:w[o][s]=u[o][s]}return e.createDenseMatrix({data:w,size:[v,x],datatype:b})}}),oE=factory_factory("matAlgo10xSids",["typed","DenseMatrix"],e=>{var{typed:r,DenseMatrix:t}=e;return function(e,n,a,o){var s,u=e._values,c=e._index,l=e._ptr,p=e._size,m=e._datatype;if(!u)throw Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=p[0],g=p[1],y=a;"string"==typeof m&&(s=m,n=r.convert(n,s),y=r.find(a,[s,s]));for(var v=[],x=[],b=[],N=0;N<g;N++){for(var w=N+1,_=l[N],D=l[N+1],E=_;E<D;E++){var A=c[E];x[A]=u[E],b[A]=w}for(var C=0;C<h;C++)0===N&&(v[C]=[]),b[C]===w?v[C][N]=o?y(n,x[C]):y(x[C],n):v[C][N]=n}return new t({data:v,size:[h,g],datatype:s})}}),oA=factory_factory("matAlgo08xS0Sid",["typed","equalScalar"],e=>{var{typed:r,equalScalar:t}=e;return function(e,n,a){var o,s,u,c,l,p=e._values,m=e._index,h=e._ptr,g=e._size,y=e._datatype,v=n._values,x=n._index,b=n._ptr,N=n._size,w=n._datatype;if(g.length!==N.length)throw new DimensionError(g.length,N.length);if(g[0]!==N[0]||g[1]!==N[1])throw RangeError("Dimension mismatch. Matrix A ("+g+") must match Matrix B ("+N+")");if(!p||!v)throw Error("Cannot perform operation on Pattern Sparse Matrices");var _=g[0],D=g[1],E=t,A=0,C=a;"string"==typeof y&&y===w&&(o=y,E=r.find(t,[o,o]),A=r.convert(0,o),C=r.find(a,[o,o]));for(var S=[],M=[],F=[],T=[],O=[],B=0;B<D;B++){F[B]=M.length;var k=B+1;for(u=h[B],c=h[B+1],s=u;s<c;s++)O[l=m[s]]=k,T[l]=p[s],M.push(l);for(u=b[B],c=b[B+1],s=u;s<c;s++)O[l=x[s]]===k&&(T[l]=C(T[l],v[s]));for(s=F[B];s<M.length;){var I=T[l=M[s]];E(I,A)?M.splice(s,1):(S.push(I),s++)}}return F[D]=M.length,e.createSparseMatrix({values:S,index:M,ptr:F,size:[_,D],datatype:o})}}),oC=factory_factory("useMatrixForArrayScalar",["typed","matrix"],e=>{var{typed:r,matrix:t}=e;return{"Array, number":r.referTo("DenseMatrix, number",e=>(r,n)=>e(t(r),n).valueOf()),"Array, BigNumber":r.referTo("DenseMatrix, BigNumber",e=>(r,n)=>e(t(r),n).valueOf()),"number, Array":r.referTo("number, DenseMatrix",e=>(r,n)=>e(r,t(n)).valueOf()),"BigNumber, Array":r.referTo("BigNumber, DenseMatrix",e=>(r,n)=>e(r,t(n)).valueOf())}}),oS="leftShift",oM=factory_factory(oS,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],e=>{var{typed:r,matrix:t,equalScalar:n,zeros:a,DenseMatrix:o,concat:s}=e,u=oD({typed:r}),c=a9({typed:r,equalScalar:n}),l=oA({typed:r,equalScalar:n}),p=oE({typed:r,DenseMatrix:o}),m=ot({typed:r,equalScalar:n}),h=oa({typed:r}),g=os({typed:r,matrix:t,concat:s}),y=oC({typed:r,matrix:t});return r(oS,{"number, number":leftShiftNumber,"BigNumber, BigNumber":leftShiftBigNumber,"SparseMatrix, number | BigNumber":r.referToSelf(e=>(r,t)=>n(t,0)?r.clone():m(r,t,e,!1)),"DenseMatrix, number | BigNumber":r.referToSelf(e=>(r,t)=>n(t,0)?r.clone():h(r,t,e,!1)),"number | BigNumber, SparseMatrix":r.referToSelf(e=>(r,t)=>n(r,0)?a(t.size(),t.storage()):p(t,r,e,!0)),"number | BigNumber, DenseMatrix":r.referToSelf(e=>(r,t)=>n(r,0)?a(t.size(),t.storage()):h(t,r,e,!0))},y,g({SS:l,DS:u,SD:c}))});function createSolveValidation(e){var{DenseMatrix:r}=e;return function(e,t,n){var o=e.size();if(2!==o.length)throw RangeError("Matrix must be two dimensional (size: "+string_format(o)+")");var s=o[0];if(s!==o[1])throw RangeError("Matrix must be square (size: "+string_format(o)+")");var u=[];if(isMatrix(t)){var c=t.size(),l=t._data;if(1===c.length){if(c[0]!==s)throw RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var p=0;p<s;p++)u[p]=[l[p]];return new r({data:u,size:[s,1],datatype:t._datatype})}if(2===c.length){if(c[0]!==s||1!==c[1])throw RangeError("Dimension mismatch. Matrix columns must match vector length.");if(isDenseMatrix(t)){if(n){u=[];for(var m=0;m<s;m++)u[m]=[l[m][0]];return new r({data:u,size:[s,1],datatype:t._datatype})}return t}if(isSparseMatrix(t)){for(var h=0;h<s;h++)u[h]=[0];for(var g=t._values,y=t._index,v=t._ptr,x=v[1],b=v[0];b<x;b++)u[y[b]][0]=g[b];return new r({data:u,size:[s,1],datatype:t._datatype})}}throw RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(a(t)){var N=arraySize(t);if(1===N.length){if(N[0]!==s)throw RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var w=0;w<s;w++)u[w]=[t[w]];return new r({data:u,size:[s,1]})}if(2===N.length){if(N[0]!==s||1!==N[1])throw RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var _=0;_<s;_++)u[_]=[t[_][0]];return new r({data:u,size:[s,1]})}throw RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var oF="lsolve",oT=factory_factory(oF,["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],e=>{var{typed:r,matrix:t,divideScalar:n,multiplyScalar:a,subtractScalar:o,equalScalar:s,DenseMatrix:u}=e,c=createSolveValidation({DenseMatrix:u});return r(oF,{"SparseMatrix, Array | Matrix":function(e,r){return function(e,r){for(var t=(r=c(e,r,!0))._data,l=e._size[0],p=e._size[1],m=e._values,h=e._index,g=e._ptr,y=[],v=0;v<p;v++){var x=t[v][0]||0;if(s(x,0))y[v]=[0];else{for(var b=0,N=[],w=[],_=g[v],D=g[v+1],E=_;E<D;E++){var A=h[E];A===v?b=m[E]:A>v&&(N.push(m[E]),w.push(A))}if(s(b,0))throw Error("Linear system cannot be solved since matrix is singular");for(var C=n(x,b),S=0,M=w.length;S<M;S++){var F=w[S];t[F]=[o(t[F][0]||0,a(C,N[S]))]}y[v]=[C]}}return new u({data:y,size:[l,1]})}(e,r)},"DenseMatrix, Array | Matrix":function(e,r){return _denseForwardSubstitution(e,r)},"Array, Array | Matrix":function(e,r){return _denseForwardSubstitution(t(e),r).valueOf()}});function _denseForwardSubstitution(e,r){for(var t=(r=c(e,r,!0))._data,l=e._size[0],p=e._size[1],m=[],h=e._data,g=0;g<p;g++){var y=t[g][0]||0,v=void 0;if(s(y,0))v=0;else{var x=h[g][g];if(s(x,0))throw Error("Linear system cannot be solved since matrix is singular");v=n(y,x);for(var b=g+1;b<l;b++)t[b]=[o(t[b][0]||0,a(v,h[b][g]))]}m[g]=[v]}return new u({data:m,size:[l,1]})}}),oO="matrixFromColumns",oB=factory_factory(oO,["typed","matrix","flatten","size"],e=>{var{typed:r,matrix:t,flatten:n,size:a}=e;return r(oO,{"...Array":function(e){return _createArray(e)},"...Matrix":function(e){return t(_createArray(e.map(e=>e.toArray())))}});function _createArray(e){if(0===e.length)throw TypeError("At least one column is needed to construct a matrix.");for(var r=checkVectorTypeAndReturnLength(e[0]),t=[],a=0;a<r;a++)t[a]=[];for(var o of e){var s=checkVectorTypeAndReturnLength(o);if(s!==r)throw TypeError("The vectors had different length: "+(0|r)+" ≠ "+(0|s));for(var u=n(o),c=0;c<r;c++)t[c].push(u[c])}return t}function checkVectorTypeAndReturnLength(e){var r=a(e);if(1===r.length)return r[0];if(2===r.length){if(1===r[0])return r[1];if(1===r[1])return r[0];throw TypeError("At least one of the arguments is not a vector.")}throw TypeError("Only one- or two-dimensional vectors are supported.")}}),oI=factory_factory("matAlgo06xS0S0",["typed","equalScalar"],e=>{var{typed:r,equalScalar:t}=e;return function(e,n,a){var o,s=e._values,u=e._size,c=e._datatype,l=n._values,p=n._size,m=n._datatype;if(u.length!==p.length)throw new DimensionError(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");var h=u[0],g=u[1],y=t,v=0,x=a;"string"==typeof c&&c===m&&(o=c,y=r.find(t,[o,o]),v=r.convert(0,o),x=r.find(a,[o,o]));for(var b=s&&l?[]:void 0,N=[],w=[],_=b?[]:void 0,D=[],E=[],A=0;A<g;A++){w[A]=N.length;var C=A+1;if(scatter(e,A,D,_,E,C,N,x),scatter(n,A,D,_,E,C,N,x),_)for(var S=w[A];S<N.length;){var M=N[S];if(E[M]===C){var F=_[M];y(F,v)?N.splice(S,1):(b.push(F),S++)}else N.splice(S,1)}else for(var T=w[A];T<N.length;)E[N[T]]!==C?N.splice(T,1):T++}return w[g]=N.length,e.createSparseMatrix({values:b,index:N,ptr:w,size:[h,g],datatype:o})}}),oP="nthRoot",oz=factory_factory(oP,["typed","matrix","equalScalar","BigNumber","concat"],e=>{var{typed:r,matrix:t,equalScalar:n,BigNumber:a,concat:o}=e,s=oD({typed:r}),u=a9({typed:r,equalScalar:n}),c=oI({typed:r,equalScalar:n}),l=ot({typed:r,equalScalar:n}),p=os({typed:r,matrix:t,concat:o});function complexErr(){throw Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return r(oP,{number:arithmetic_nthRootNumber,"number, number":arithmetic_nthRootNumber,BigNumber:e=>_bigNthRoot(e,new a(2)),"BigNumber, BigNumber":_bigNthRoot,Complex:complexErr,"Complex, number":complexErr,Array:r.referTo("DenseMatrix,number",e=>r=>e(t(r),2).valueOf()),DenseMatrix:r.referTo("DenseMatrix,number",e=>r=>e(r,2)),SparseMatrix:r.referTo("SparseMatrix,number",e=>r=>e(r,2)),"SparseMatrix, SparseMatrix":r.referToSelf(e=>(r,t)=>{if(1===t.density())return c(r,t,e);throw Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":r.referToSelf(e=>(r,t)=>{if(1===t.density())return s(r,t,e,!1);throw Error("Root must be non-zero")}),"Array, SparseMatrix":r.referTo("DenseMatrix,SparseMatrix",e=>(r,n)=>e(t(r),n)),"number | BigNumber, SparseMatrix":r.referToSelf(e=>(r,t)=>{if(1===t.density())return l(t,r,e,!0);throw Error("Root must be non-zero")})},p({scalar:"number | BigNumber",SD:u,Ss:l,sS:!1}));function _bigNthRoot(e,r){var t=a.precision,n=a.clone({precision:t+2}),o=new a(0),s=new n(1),u=r.isNegative();if(u&&(r=r.neg()),r.isZero())throw Error("Root must be non-zero");if(e.isNegative()&&!r.abs().mod(2).equals(1))throw Error("Root must be odd when a is negative.");if(e.isZero())return u?new n(1/0):0;if(!e.isFinite())return u?o:e;var c=e.abs().pow(s.div(r));return c=e.isNeg()?c.neg():c,new a((u?s.div(c):c).toPrecision(t))}}),oR=factory_factory("ones",["typed","config","matrix","BigNumber"],e=>{var{typed:r,config:t,matrix:n,BigNumber:a}=e;return r("ones",{"":function(){return"Array"===t.matrix?_ones([]):_ones([],"default")},"...number | BigNumber | string":function(e){if("string"==typeof e[e.length-1]){var r=e.pop();return _ones(e,r)}return"Array"===t.matrix?_ones(e):_ones(e,"default")},Array:_ones,Matrix:function(e){var r=e.storage();return _ones(e.valueOf(),r)},"Array | Matrix, string":function(e,r){return _ones(e.valueOf(),r)}});function _ones(e,r){var t,o=(t=!1,e.forEach(function(e,r,n){isBigNumber(e)&&(t=!0,n[r]=e.toNumber())}),t)?new a(1):1;if(function(e){e.forEach(function(e){if("number"!=typeof e||!isInteger(e)||e<0)throw Error("Parameters in function ones must be positive integers")})}(e),r){var s=n(r);return e.length>0?s.resize(e,o):s}var u=[];return e.length>0?array_resize(u,e,o):u}}),oq=factory_factory("qr",["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],e=>{var{typed:r,matrix:t,zeros:n,identity:a,isZero:o,equal:s,sign:u,sqrt:c,conj:l,unaryMinus:p,addScalar:m,divideScalar:h,multiplyScalar:g,subtractScalar:y,complex:v}=e;return _extends(r("qr",{DenseMatrix:function(e){return _denseQR(e)},SparseMatrix:function(e){return function(e){throw Error("qr not implemented for sparse matrices yet")}(0)},Array:function(e){var r=_denseQR(t(e));return{Q:r.Q.valueOf(),R:r.R.valueOf()}}}),{_denseQRimpl});function _denseQRimpl(e){var r,t,v,x=e._size[0],b=e._size[1],N=a([x],"dense"),w=N._data,_=e.clone(),D=_._data,E=n([x],"");for(v=0;v<Math.min(b,x);++v){var A=D[v][v],C=p(s(A,0)?1:u(A)),S=l(C),M=0;for(r=v;r<x;r++)M=m(M,g(D[r][v],l(D[r][v])));var F=g(C,c(M));if(!o(F)){var T=y(A,F);for(E[v]=1,r=v+1;r<x;r++)E[r]=h(D[r][v],T);var O=p(l(h(T,F))),B=void 0;for(t=v;t<b;t++){for(B=0,r=v;r<x;r++)B=m(B,g(l(E[r]),D[r][t]));for(B=g(B,O),r=v;r<x;r++)D[r][t]=g(y(D[r][t],g(E[r],B)),S)}for(r=0;r<x;r++){for(B=0,t=v;t<x;t++)B=m(B,g(w[r][t],E[t]));for(B=g(B,O),t=v;t<x;++t)w[r][t]=h(y(w[r][t],g(B,l(E[t]))),S)}}}return{Q:N,R:_,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}function _denseQR(e){var r=_denseQRimpl(e),t=r.R._data;if(e._data.length>0)for(var n="Complex"===t[0][0].type?v(0):0,a=0;a<t.length;++a)for(var o=0;o<a&&o<(t[0]||[]).length;++o)t[a][o]=n;return r}});function ArgumentsError(e,r,t,n){if(!(this instanceof ArgumentsError))throw SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=r,this.min=t,this.max=n,this.message="Wrong number of arguments in function "+e+" ("+r+" provided, "+t+(null!=n?"-"+n:"")+" expected)",this.stack=Error().stack}ArgumentsError.prototype=Error(),ArgumentsError.prototype.constructor=Error,ArgumentsError.prototype.name="ArgumentsError",ArgumentsError.prototype.isArgumentsError=!0;var oj=factory_factory("resize",["config","matrix"],e=>{var{config:r,matrix:t}=e;return function(e,n,a){if(2!=arguments.length&&3!=arguments.length)throw new ArgumentsError("resize",arguments.length,2,3);if(isMatrix(n)&&(n=n.valueOf()),isBigNumber(n[0])&&(n=n.map(function(e){return isBigNumber(e)?e.toNumber():e})),isMatrix(e))return e.resize(n,a,!0);if("string"==typeof e)return function(e,r,t){if(void 0!==t){if("string"!=typeof t||1!==t.length)throw TypeError("Single character expected as defaultValue")}else t=" ";if(1!==r.length)throw new DimensionError(r.length,1);var n=r[0];if("number"!=typeof n||!isInteger(n))throw TypeError("Invalid size, must contain positive integers (size: "+string_format(r)+")");if(e.length>n)return e.substring(0,n);if(!(e.length<n))return e;for(var a=e,o=0,s=n-e.length;o<s;o++)a+=t;return a}(e,n,a);var o=!Array.isArray(e)&&"Array"!==r.matrix;if(0===n.length){for(;Array.isArray(e);)e=e[0];return object_clone(e)}Array.isArray(e)||(e=[e]);var s=array_resize(e=object_clone(e),n,a);return o?t(s):s}}),oU="rightArithShift",oL=factory_factory(oU,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],e=>{var{typed:r,matrix:t,equalScalar:n,zeros:a,DenseMatrix:o,concat:s}=e,u=oD({typed:r}),c=a9({typed:r,equalScalar:n}),l=oA({typed:r,equalScalar:n}),p=oE({typed:r,DenseMatrix:o}),m=ot({typed:r,equalScalar:n}),h=oa({typed:r}),g=os({typed:r,matrix:t,concat:s}),y=oC({typed:r,matrix:t});return r(oU,{"number, number":rightArithShiftNumber,"BigNumber, BigNumber":rightArithShiftBigNumber,"SparseMatrix, number | BigNumber":r.referToSelf(e=>(r,t)=>n(t,0)?r.clone():m(r,t,e,!1)),"DenseMatrix, number | BigNumber":r.referToSelf(e=>(r,t)=>n(t,0)?r.clone():h(r,t,e,!1)),"number | BigNumber, SparseMatrix":r.referToSelf(e=>(r,t)=>n(r,0)?a(t.size(),t.storage()):p(t,r,e,!0)),"number | BigNumber, DenseMatrix":r.referToSelf(e=>(r,t)=>n(r,0)?a(t.size(),t.storage()):h(t,r,e,!0))},y,g({SS:l,DS:u,SD:c}))}),oH="Number of decimals in function round must be an integer",o$="round",oV=factory_factory(o$,["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],e=>{var{typed:r,matrix:t,equalScalar:n,zeros:a,BigNumber:o,DenseMatrix:s}=e,u=ot({typed:r,equalScalar:n}),c=on({typed:r,DenseMatrix:s}),l=oa({typed:r});return r(o$,{number:roundNumber,"number, number":roundNumber,"number, BigNumber":function(e,r){if(!r.isInteger())throw TypeError(oH);return new o(e).toDecimalPlaces(r.toNumber())},Complex:function(e){return e.round()},"Complex, number":function(e,r){if(r%1)throw TypeError(oH);return e.round(r)},"Complex, BigNumber":function(e,r){if(!r.isInteger())throw TypeError(oH);var t=r.toNumber();return e.round(t)},BigNumber:function(e){return e.toDecimalPlaces(0)},"BigNumber, BigNumber":function(e,r){if(!r.isInteger())throw TypeError(oH);return e.toDecimalPlaces(r.toNumber())},Fraction:function(e){return e.round()},"Fraction, number":function(e,r){if(r%1)throw TypeError(oH);return e.round(r)},"Fraction, BigNumber":function(e,r){if(!r.isInteger())throw TypeError(oH);return e.round(r.toNumber())},"Unit, number, Unit":r.referToSelf(e=>function(r,t,n){var a=r.toNumeric(n);return n.multiply(e(a,t))}),"Unit, BigNumber, Unit":r.referToSelf(e=>(r,t,n)=>e(r,t.toNumber(),n)),"Unit, Unit":r.referToSelf(e=>(r,t)=>e(r,0,t)),"Array | Matrix, number, Unit":r.referToSelf(e=>(r,t,n)=>deepMap(r,r=>e(r,t,n),!0)),"Array | Matrix, BigNumber, Unit":r.referToSelf(e=>(r,t,n)=>e(r,t.toNumber(),n)),"Array | Matrix, Unit":r.referToSelf(e=>(r,t)=>e(r,0,t)),"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e,!0)),"SparseMatrix, number | BigNumber":r.referToSelf(e=>(r,t)=>u(r,t,e,!1)),"DenseMatrix, number | BigNumber":r.referToSelf(e=>(r,t)=>l(r,t,e,!1)),"Array, number | BigNumber":r.referToSelf(e=>(r,n)=>l(t(r),n,e,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":r.referToSelf(e=>(r,t)=>n(r,0)?a(t.size(),t.storage()):c(t,r,e,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":r.referToSelf(e=>(r,t)=>n(r,0)?a(t.size(),t.storage()):l(t,r,e,!0)),"number | Complex | BigNumber | Fraction, Array":r.referToSelf(e=>(r,n)=>l(t(n),r,e,!0).valueOf())})}),oZ="smaller",oG=factory_factory(oZ,["typed","config","matrix","DenseMatrix","concat"],e=>{var{typed:r,config:t,matrix:n,DenseMatrix:a,concat:o}=e,s=oe({typed:r}),u=or({typed:r,DenseMatrix:a}),c=on({typed:r,DenseMatrix:a}),l=os({typed:r,matrix:n,concat:o}),p=nK({typed:r});return r(oZ,oW({typed:r,config:t}),{"boolean, boolean":(e,r)=>e<r,"BigNumber, BigNumber":function(e,r){return e.lt(r)&&!nearlyEqual_nearlyEqual(e,r,t.epsilon)},"Fraction, Fraction":(e,r)=>-1===e.compare(r),"Complex, Complex":function(e,r){throw TypeError("No ordering relation is defined for complex numbers")}},p,l({SS:u,DS:s,Ss:c}))}),oW=factory_factory(oZ,["typed","config"],e=>{var{typed:r,config:t}=e;return r(oZ,{"number, number":function(e,r){return e<r&&!nearlyEqual(e,r,t.epsilon)}})}),oY=factory_factory("matAlgo05xSfSf",["typed","equalScalar"],e=>{var{typed:r,equalScalar:t}=e;return function(e,n,a){var o,s,u,c,l,p=e._values,m=e._index,h=e._ptr,g=e._size,y=e._datatype,v=n._values,x=n._index,b=n._ptr,N=n._size,w=n._datatype;if(g.length!==N.length)throw new DimensionError(g.length,N.length);if(g[0]!==N[0]||g[1]!==N[1])throw RangeError("Dimension mismatch. Matrix A ("+g+") must match Matrix B ("+N+")");var _=g[0],D=g[1],E=t,A=0,C=a;"string"==typeof y&&y===w&&(o=y,E=r.find(t,[o,o]),A=r.convert(0,o),C=r.find(a,[o,o]));var S=p&&v?[]:void 0,M=[],F=[],T=S?[]:void 0,O=S?[]:void 0,B=[],k=[];for(u=0;u<D;u++){F[u]=M.length;var I=u+1;for(c=h[u],l=h[u+1];c<l;c++)s=m[c],M.push(s),B[s]=I,T&&(T[s]=p[c]);for(c=b[u],l=b[u+1];c<l;c++)B[s=x[c]]!==I&&M.push(s),k[s]=I,O&&(O[s]=v[c]);if(S)for(c=F[u];c<M.length;){var P=B[s=M[c]],z=k[s];if(P===I||z===I){var R=C(P===I?T[s]:A,z===I?O[s]:A);E(R,A)?M.splice(c,1):(S.push(R),c++)}}}return F[D]=M.length,e.createSparseMatrix({values:S,index:M,ptr:F,size:[_,D],datatype:o})}}),oX="subtract",oJ=factory_factory(oX,["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],e=>{var{typed:r,matrix:t,equalScalar:n,subtractScalar:a,unaryMinus:o,DenseMatrix:s,concat:u}=e,c=oD({typed:r}),l=oe({typed:r}),p=oY({typed:r,equalScalar:n}),m=oE({typed:r,DenseMatrix:s}),h=on({typed:r,DenseMatrix:s}),g=os({typed:r,matrix:t,concat:u});return r(oX,{"any, any":a},g({elop:a,SS:p,DS:c,SD:l,Ss:h,sS:m}))}),oK=factory_factory("to",["typed","matrix","concat"],e=>{var{typed:r,matrix:t,concat:n}=e,a=os({typed:r,matrix:t,concat:n});return r("to",{"Unit, Unit | string":(e,r)=>e.to(r)},a({Ds:!0}))}),oQ="unequal",o0=factory_factory(oQ,["typed","config","equalScalar","matrix","DenseMatrix","concat"],e=>{var{typed:r,config:t,equalScalar:n,matrix:a,DenseMatrix:o,concat:s}=e,u=oe({typed:r}),c=or({typed:r,DenseMatrix:o}),l=on({typed:r,DenseMatrix:o}),p=os({typed:r,matrix:a,concat:s});return r(oQ,o1({typed:r,equalScalar:n}),p({elop:function(e,r){return!n(e,r)},SS:c,DS:u,Ss:l}))}),o1=factory_factory(oQ,["typed","equalScalar"],e=>{var{typed:r,equalScalar:t}=e;return r(oQ,{"any, any":function(e,r){return null===e?null!==r:null===r?null!==e:void 0===e?void 0!==r:void 0===r?void 0!==e:!t(e,r)}})}),o2="usolve",o3=factory_factory(o2,["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],e=>{var{typed:r,matrix:t,divideScalar:n,multiplyScalar:a,subtractScalar:o,equalScalar:s,DenseMatrix:u}=e,c=createSolveValidation({DenseMatrix:u});return r(o2,{"SparseMatrix, Array | Matrix":function(e,r){return function(e,r){for(var t=(r=c(e,r,!0))._data,l=e._size[0],p=e._size[1],m=e._values,h=e._index,g=e._ptr,y=[],v=p-1;v>=0;v--){var x=t[v][0]||0;if(s(x,0))y[v]=[0];else{for(var b=0,N=[],w=[],_=g[v],D=g[v+1],E=D-1;E>=_;E--){var A=h[E];A===v?b=m[E]:A<v&&(N.push(m[E]),w.push(A))}if(s(b,0))throw Error("Linear system cannot be solved since matrix is singular");for(var C=n(x,b),S=0,M=w.length;S<M;S++){var F=w[S];t[F]=[o(t[F][0],a(C,N[S]))]}y[v]=[C]}}return new u({data:y,size:[l,1]})}(e,r)},"DenseMatrix, Array | Matrix":function(e,r){return _denseBackwardSubstitution(e,r)},"Array, Array | Matrix":function(e,r){return _denseBackwardSubstitution(t(e),r).valueOf()}});function _denseBackwardSubstitution(e,r){for(var t=(r=c(e,r,!0))._data,l=e._size[0],p=e._size[1],m=[],h=e._data,g=p-1;g>=0;g--){var y=t[g][0]||0,v=void 0;if(s(y,0))v=0;else{var x=h[g][g];if(s(x,0))throw Error("Linear system cannot be solved since matrix is singular");v=n(y,x);for(var b=g-1;b>=0;b--)t[b]=[o(t[b][0]||0,a(v,h[b][g]))]}m[g]=[v]}return new u({data:m,size:[l,1]})}}),o5=factory_factory("xor",["typed","matrix","DenseMatrix","concat"],e=>{var{typed:r,matrix:t,DenseMatrix:n,concat:a}=e,o=oe({typed:r}),s=or({typed:r,DenseMatrix:n}),u=on({typed:r,DenseMatrix:n}),c=os({typed:r,matrix:t,concat:a});return r("xor",{"number, number":xorNumber,"Complex, Complex":function(e,r){return(0!==e.re||0!==e.im)!=(0!==r.re||0!==r.im)},"BigNumber, BigNumber":function(e,r){return(!e.isZero()&&!e.isNaN())!=(!r.isZero()&&!r.isNaN())},"Unit, Unit":r.referToSelf(e=>(r,t)=>e(r.value||0,t.value||0))},c({SS:s,DS:o,Ss:u}))}),o4=factory_factory("matAlgo04xSidSid",["typed","equalScalar"],e=>{var{typed:r,equalScalar:t}=e;return function(e,n,a){var o,s,u,c,l,p,m=e._values,h=e._index,g=e._ptr,y=e._size,v=e._datatype,x=n._values,b=n._index,N=n._ptr,w=n._size,_=n._datatype;if(y.length!==w.length)throw new DimensionError(y.length,w.length);if(y[0]!==w[0]||y[1]!==w[1])throw RangeError("Dimension mismatch. Matrix A ("+y+") must match Matrix B ("+w+")");var D=y[0],E=y[1],A=t,C=0,S=a;"string"==typeof v&&v===_&&(o=v,A=r.find(t,[o,o]),C=r.convert(0,o),S=r.find(a,[o,o]));var M=m&&x?[]:void 0,F=[],T=[],O=m&&x?[]:void 0,B=m&&x?[]:void 0,k=[],I=[];for(u=0;u<E;u++){T[u]=F.length;var P=u+1;for(l=g[u],p=g[u+1],c=l;c<p;c++)s=h[c],F.push(s),k[s]=P,O&&(O[s]=m[c]);for(l=N[u],p=N[u+1],c=l;c<p;c++)if(k[s=b[c]]===P){if(O){var z=S(O[s],x[c]);A(z,C)?k[s]=null:O[s]=z}}else F.push(s),I[s]=P,B&&(B[s]=x[c]);if(O&&B)for(c=T[u];c<F.length;)k[s=F[c]]===P?(M[c]=O[s],c++):I[s]===P?(M[c]=B[s],c++):F.splice(c,1)}return T[E]=F.length,e.createSparseMatrix({values:M,index:F,ptr:T,size:[D,E],datatype:o})}}),o8=factory_factory("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],e=>{var{typed:r,matrix:t,addScalar:n,equalScalar:a,DenseMatrix:o,SparseMatrix:s,concat:u}=e,c=oD({typed:r}),l=o4({typed:r,equalScalar:a}),p=oE({typed:r,DenseMatrix:o}),m=os({typed:r,matrix:t,concat:u});return r("add",{"any, any":n,"any, any, ...any":r.referToSelf(e=>(r,t,n)=>{for(var a=e(r,t),o=0;o<n.length;o++)a=e(a,n[o]);return a})},m({elop:n,DS:c,SS:l,Ss:p}))}),o6=factory_factory("matAlgo09xS0Sf",["typed","equalScalar"],e=>{var{typed:r,equalScalar:t}=e;return function(e,n,a){var o,s,u,c,l,p,m=e._values,h=e._index,g=e._ptr,y=e._size,v=e._datatype,x=n._values,b=n._index,N=n._ptr,w=n._size,_=n._datatype;if(y.length!==w.length)throw new DimensionError(y.length,w.length);if(y[0]!==w[0]||y[1]!==w[1])throw RangeError("Dimension mismatch. Matrix A ("+y+") must match Matrix B ("+w+")");var D=y[0],E=y[1],A=t,C=0,S=a;"string"==typeof v&&v===_&&(o=v,A=r.find(t,[o,o]),C=r.convert(0,o),S=r.find(a,[o,o]));var M=m&&x?[]:void 0,F=[],T=[],O=M?[]:void 0,B=[];for(u=0;u<E;u++){T[u]=F.length;var k=u+1;if(O)for(l=N[u],p=N[u+1],c=l;c<p;c++)B[s=b[c]]=k,O[s]=x[c];for(l=g[u],p=g[u+1],c=l;c<p;c++)if(s=h[c],O){var I=B[s]===k?O[s]:C,P=S(m[c],I);A(P,C)||(F.push(s),M.push(P))}else F.push(s)}return T[E]=F.length,e.createSparseMatrix({values:M,index:F,ptr:T,size:[D,E],datatype:o})}}),o7="atan2",o9=factory_factory(o7,["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],e=>{var{typed:r,matrix:t,equalScalar:n,BigNumber:a,DenseMatrix:o,concat:s}=e,u=a9({typed:r,equalScalar:n}),c=oe({typed:r}),l=o6({typed:r,equalScalar:n}),p=ot({typed:r,equalScalar:n}),m=on({typed:r,DenseMatrix:o}),h=os({typed:r,matrix:t,concat:s});return r(o7,{"number, number":Math.atan2,"BigNumber, BigNumber":(e,r)=>a.atan2(e,r)},h({scalar:"number | BigNumber",SS:l,DS:c,SD:u,Ss:p,sS:m}))}),se="bitAnd",sr=factory_factory(se,["typed","matrix","equalScalar","concat"],e=>{var{typed:r,matrix:t,equalScalar:n,concat:a}=e,o=a9({typed:r,equalScalar:n}),s=oI({typed:r,equalScalar:n}),u=ot({typed:r,equalScalar:n}),c=os({typed:r,matrix:t,concat:a});return r(se,{"number, number":bitAndNumber,"BigNumber, BigNumber":bitAndBigNumber},c({SS:s,DS:o,Ss:u}))}),st="bitXor",sn=factory_factory(st,["typed","matrix","DenseMatrix","concat"],e=>{var{typed:r,matrix:t,DenseMatrix:n,concat:a}=e,o=oe({typed:r}),s=or({typed:r,DenseMatrix:n}),u=on({typed:r,DenseMatrix:n}),c=os({typed:r,matrix:t,concat:a});return r(st,{"number, number":bitXorNumber,"BigNumber, BigNumber":bitXor},c({SS:s,DS:o,Ss:u}))}),si="catalan",sa=factory_factory(si,["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],e=>{var{typed:r,addScalar:t,divideScalar:n,multiplyScalar:a,combinations:o,isNegative:s,isInteger:u}=e;return r(si,{"number | BigNumber":function(e){if(!u(e)||s(e))throw TypeError("Non-negative integer value expected in function catalan");return n(o(a(e,2),e),t(e,1))}})}),so="compare",ss=factory_factory(so,["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],e=>{var{typed:r,config:t,equalScalar:n,matrix:a,BigNumber:o,Fraction:s,DenseMatrix:u,concat:c}=e,l=oe({typed:r}),p=oY({typed:r,equalScalar:n}),m=on({typed:r,DenseMatrix:u}),h=os({typed:r,matrix:a,concat:c}),g=nK({typed:r});return r(so,su({typed:r,config:t}),{"boolean, boolean":function(e,r){return e===r?0:e>r?1:-1},"BigNumber, BigNumber":function(e,r){return new o(nearlyEqual_nearlyEqual(e,r,t.epsilon)?0:e.cmp(r))},"Fraction, Fraction":function(e,r){return new s(e.compare(r))},"Complex, Complex":function(){throw TypeError("No ordering relation is defined for complex numbers")}},g,h({SS:p,DS:l,Ss:m}))}),su=factory_factory(so,["typed","config"],e=>{var{typed:r,config:t}=e;return r(so,{"number, number":function(e,r){return nearlyEqual(e,r,t.epsilon)?0:e>r?1:-1}})}),sc="compareText";compareText.signature="any, any";var sl=factory_factory(sc,["typed","matrix","concat"],e=>{var{typed:r,matrix:t,concat:n}=e,a=os({typed:r,matrix:t,concat:n});return r(sc,compareText,a({elop:compareText,Ds:!0}))}),sf="deepEqual",sp=factory_factory(sf,["typed","equal"],e=>{var{typed:r,equal:t}=e;return r(sf,{"any, any":function(e,r){return function _deepEqual(e,r){if(Array.isArray(e)){if(!Array.isArray(r))return!1;var n=e.length;if(n!==r.length)return!1;for(var a=0;a<n;a++)if(!_deepEqual(e[a],r[a]))return!1;return!0}return!Array.isArray(r)&&t(e,r)}(e.valueOf(),r.valueOf())}})}),sm="distance",sh=factory_factory(sm,["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],e=>{var{typed:r,addScalar:t,subtractScalar:n,multiplyScalar:a,divideScalar:o,deepEqual:s,sqrt:u,abs:c}=e;return r(sm,{"Array, Array, Array":function(e,r,t){if(2===e.length&&2===r.length&&2===t.length){if(!_2d(e))throw TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!_2d(r))throw TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!_2d(t))throw TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(s(r,t))throw TypeError("LinePoint1 should not be same with LinePoint2");var o=n(t[1],r[1]),u=n(r[0],t[0]),c=n(a(t[0],r[1]),a(r[0],t[1]));return _distancePointLine2D(e[0],e[1],o,u,c)}throw TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(e,r,t){if(2===Object.keys(e).length&&2===Object.keys(r).length&&2===Object.keys(t).length){if(!_2d(e))throw TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!_2d(r))throw TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!_2d(t))throw TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(s(_objectToArray(r),_objectToArray(t)))throw TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in e&&"pointY"in e&&"lineOnePtX"in r&&"lineOnePtY"in r&&"lineTwoPtX"in t&&"lineTwoPtY"in t){var o=n(t.lineTwoPtY,r.lineOnePtY),u=n(r.lineOnePtX,t.lineTwoPtX),c=n(a(t.lineTwoPtX,r.lineOnePtY),a(r.lineOnePtX,t.lineTwoPtY));return _distancePointLine2D(e.pointX,e.pointY,o,u,c)}throw TypeError("Key names do not match")}throw TypeError("Invalid Arguments: Try again")},"Array, Array":function(e,r){if(2===e.length&&3===r.length){if(!_2d(e))throw TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!_3d(r))throw TypeError("Array with 3 numbers or BigNumbers expected for second argument");return _distancePointLine2D(e[0],e[1],r[0],r[1],r[2])}if(3===e.length&&6===r.length){if(!_3d(e))throw TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_parametricLine(r))throw TypeError("Array with 6 numbers or BigNumbers expected for second argument");return _distancePointLine3D(e[0],e[1],e[2],r[0],r[1],r[2],r[3],r[4],r[5])}if(e.length===r.length&&e.length>0){if(!_containsOnlyNumbers(e)||!_containsOnlyNumbers(r))throw TypeError("All values of an array should be numbers or BigNumbers");return _euclideanDistance(e,r)}throw TypeError("Invalid Arguments: Try again")},"Object, Object":function(e,r){if(2===Object.keys(e).length&&3===Object.keys(r).length){if(!_2d(e))throw TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!_3d(r))throw TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"xCoeffLine"in r&&"yCoeffLine"in r&&"constant"in r)return _distancePointLine2D(e.pointX,e.pointY,r.xCoeffLine,r.yCoeffLine,r.constant);throw TypeError("Key names do not match")}if(3===Object.keys(e).length&&6===Object.keys(r).length){if(!_3d(e))throw TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!_parametricLine(r))throw TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"x0"in r&&"y0"in r&&"z0"in r&&"a"in r&&"b"in r&&"c"in r)return _distancePointLine3D(e.pointX,e.pointY,e.pointZ,r.x0,r.y0,r.z0,r.a,r.b,r.c);throw TypeError("Key names do not match")}if(2===Object.keys(e).length&&2===Object.keys(r).length){if(!_2d(e))throw TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!_2d(r))throw TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in e&&"pointOneY"in e&&"pointTwoX"in r&&"pointTwoY"in r)return _euclideanDistance([e.pointOneX,e.pointOneY],[r.pointTwoX,r.pointTwoY]);throw TypeError("Key names do not match")}if(3===Object.keys(e).length&&3===Object.keys(r).length){if(!_3d(e))throw TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!_3d(r))throw TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in e&&"pointOneY"in e&&"pointOneZ"in e&&"pointTwoX"in r&&"pointTwoY"in r&&"pointTwoZ"in r)return _euclideanDistance([e.pointOneX,e.pointOneY,e.pointOneZ],[r.pointTwoX,r.pointTwoY,r.pointTwoZ]);throw TypeError("Key names do not match")}throw TypeError("Invalid Arguments: Try again")},Array:function(e){if(!function(e){if(2===e[0].length&&_isNumber(e[0][0])&&_isNumber(e[0][1])){if(e.some(e=>2!==e.length||!_isNumber(e[0])||!_isNumber(e[1])))return!1}else if(!(3===e[0].length&&_isNumber(e[0][0])&&_isNumber(e[0][1])&&_isNumber(e[0][2])))return!1;else if(e.some(e=>3!==e.length||!_isNumber(e[0])||!_isNumber(e[1])||!_isNumber(e[2])))return!1;return!0}(e))throw TypeError("Incorrect array format entered for pairwise distance calculation");return function(e){for(var r=[],t=[],n=[],a=0;a<e.length-1;a++)for(var o=a+1;o<e.length;o++)2===e[0].length?(t=[e[a][0],e[a][1]],n=[e[o][0],e[o][1]]):3===e[0].length&&(t=[e[a][0],e[a][1],e[a][2]],n=[e[o][0],e[o][1],e[o][2]]),r.push(_euclideanDistance(t,n));return r}(e)}});function _isNumber(e){return"number"==typeof e||isBigNumber(e)}function _2d(e){return e.constructor!==Array&&(e=_objectToArray(e)),_isNumber(e[0])&&_isNumber(e[1])}function _3d(e){return e.constructor!==Array&&(e=_objectToArray(e)),_isNumber(e[0])&&_isNumber(e[1])&&_isNumber(e[2])}function _containsOnlyNumbers(e){return Array.isArray(e)||(e=_objectToArray(e)),e.every(_isNumber)}function _parametricLine(e){return e.constructor!==Array&&(e=_objectToArray(e)),_isNumber(e[0])&&_isNumber(e[1])&&_isNumber(e[2])&&_isNumber(e[3])&&_isNumber(e[4])&&_isNumber(e[5])}function _objectToArray(e){for(var r=Object.keys(e),t=[],n=0;n<r.length;n++)t.push(e[r[n]]);return t}function _distancePointLine2D(e,r,n,s,l){return o(c(t(t(a(n,e),a(s,r)),l)),u(t(a(n,n),a(s,s))))}function _distancePointLine3D(e,r,s,c,l,p,m,h,g){var y=[n(a(n(l,r),g),a(n(p,s),h)),n(a(n(p,s),m),a(n(c,e),g)),n(a(n(c,e),h),a(n(l,r),m))];return o(y=u(t(t(a(y[0],y[0]),a(y[1],y[1])),a(y[2],y[2]))),u(t(t(a(m,m),a(h,h)),a(g,g))))}function _euclideanDistance(e,r){for(var o=e.length,s=0,c=0,l=0;l<o;l++)s=t(a(c=n(e[l],r[l]),c),s);return u(s)}}),sd=factory_factory("dot",["typed","addScalar","multiplyScalar","conj","size"],e=>{var{typed:r,addScalar:t,multiplyScalar:n,conj:a,size:o}=e;return r("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(e,o){var s=_validateDim(e,o),u=isMatrix(e)?e._data:e,c=isMatrix(e)?e._datatype:void 0,l=isMatrix(o)?o._data:o,p=isMatrix(o)?o._datatype:void 0,m=2===_size(e).length,h=2===_size(o).length,g=t,y=n;if(c&&p&&c===p&&"string"==typeof c&&(g=r.find(t,[c,c]),y=r.find(n,[c,c])),!m&&!h){for(var v=y(a(u[0]),l[0]),x=1;x<s;x++)v=g(v,y(a(u[x]),l[x]));return v}if(!m&&h){for(var b=y(a(u[0]),l[0][0]),N=1;N<s;N++)b=g(b,y(a(u[N]),l[N][0]));return b}if(m&&!h){for(var w=y(a(u[0][0]),l[0]),_=1;_<s;_++)w=g(w,y(a(u[_][0]),l[_]));return w}if(m&&h){for(var D=y(a(u[0][0]),l[0][0]),E=1;E<s;E++)D=g(D,y(a(u[E][0]),l[E][0]));return D}},"SparseMatrix, SparseMatrix":function(e,r){_validateDim(e,r);for(var a=e._index,o=e._values,s=r._index,u=r._values,c=0,l=0,p=0;l<a.length&&p<s.length;){var m=a[l],h=s[p];if(m<h){l++;continue}if(m>h){p++;continue}m===h&&(c=t(c,n(o[l],u[p])),l++,p++)}return c}});function _validateDim(e,r){var t,n,a=_size(e),o=_size(r);if(1===a.length)t=a[0];else if(2===a.length&&1===a[1])t=a[0];else throw RangeError("Expected a column vector, instead got a matrix of size ("+a.join(", ")+")");if(1===o.length)n=o[0];else if(2===o.length&&1===o[1])n=o[0];else throw RangeError("Expected a column vector, instead got a matrix of size ("+o.join(", ")+")");if(t!==n)throw RangeError("Vectors must have equal length ("+t+" != "+n+")");if(0===t)throw RangeError("Cannot calculate the dot product of empty vectors");return t}function _size(e){return isMatrix(e)?e.size():o(e)}}),sg="equalText",sy=factory_factory(sg,["typed","compareText","isZero"],e=>{var{typed:r,compareText:t,isZero:n}=e;return r(sg,{"any, any":function(e,r){return n(t(e,r))}})}),sv="floor",sx=factory_factory(sv,["typed","config","round"],e=>{var{typed:r,config:t,round:n}=e;return r(sv,{number:function(e){return nearlyEqual(e,n(e),t.epsilon)?n(e):Math.floor(e)},"number, number":function(e,r){if(nearlyEqual(e,n(e,r),t.epsilon))return n(e,r);var[a,o]="".concat(e,"e").split("e"),s=Math.floor(Number("".concat(a,"e").concat(Number(o)+r)));return[a,o]="".concat(s,"e").split("e"),Number("".concat(a,"e").concat(Number(o)-r))}})}),sb=factory_factory(sv,["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],e=>{var{typed:r,config:t,round:n,matrix:a,equalScalar:o,zeros:s,DenseMatrix:u}=e,c=ot({typed:r,equalScalar:o}),l=on({typed:r,DenseMatrix:u}),p=oa({typed:r}),m=sx({typed:r,config:t,round:n});return r("floor",{number:m.signatures.number,"number,number":m.signatures["number,number"],Complex:function(e){return e.floor()},"Complex, number":function(e,r){return e.floor(r)},"Complex, BigNumber":function(e,r){return e.floor(r.toNumber())},BigNumber:function(e){return nearlyEqual_nearlyEqual(e,n(e),t.epsilon)?n(e):e.floor()},"BigNumber, BigNumber":function(e,r){return nearlyEqual_nearlyEqual(e,n(e,r),t.epsilon)?n(e,r):e.toDecimalPlaces(r.toNumber(),rQ.ROUND_FLOOR)},Fraction:function(e){return e.floor()},"Fraction, number":function(e,r){return e.floor(r)},"Fraction, BigNumber":function(e,r){return e.floor(r.toNumber())},"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e,!0)),"Array, number | BigNumber":r.referToSelf(e=>(r,t)=>deepMap(r,r=>e(r,t),!0)),"SparseMatrix, number | BigNumber":r.referToSelf(e=>(r,t)=>c(r,t,e,!1)),"DenseMatrix, number | BigNumber":r.referToSelf(e=>(r,t)=>p(r,t,e,!1)),"number | Complex | Fraction | BigNumber, Array":r.referToSelf(e=>(r,t)=>p(a(t),r,e,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":r.referToSelf(e=>(r,t)=>o(r,0)?s(t.size(),t.storage()):"dense"===t.storage()?p(t,r,e,!0):l(t,r,e,!0))})}),sN=factory_factory("mod",["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],e=>{var{typed:r,config:t,round:n,matrix:a,equalScalar:o,zeros:s,DenseMatrix:u,concat:c}=e,l=sb({typed:r,config:t,round:n,matrix:a,equalScalar:o,zeros:s,DenseMatrix:u}),p=a9({typed:r,equalScalar:o}),m=oe({typed:r}),h=oY({typed:r,equalScalar:o}),g=ot({typed:r,equalScalar:o}),y=on({typed:r,DenseMatrix:u}),v=os({typed:r,matrix:a,concat:c});return r("mod",{"number, number":function(e,r){return 0===r?e:e-r*l(e/r)},"BigNumber, BigNumber":function(e,r){return r.isZero()?e:e.sub(r.mul(l(e.div(r))))},"Fraction, Fraction":function(e,r){return r.equals(0)?e:e.sub(r.mul(l(e.div(r))))}},v({SS:h,DS:m,SD:p,Ss:g,sS:y}))}),sw="number | BigNumber | Fraction | Matrix | Array",s_="".concat(sw,", ").concat(sw,", ...").concat(sw);function is1d(e){return!e.some(e=>Array.isArray(e))}var sD=factory_factory("gcd",["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],e=>{var{typed:r,matrix:t,config:n,round:a,equalScalar:o,zeros:s,BigNumber:u,DenseMatrix:c,concat:l}=e,p=sN({typed:r,config:n,round:a,matrix:t,equalScalar:o,zeros:s,DenseMatrix:c,concat:l}),m=oD({typed:r}),h=o4({typed:r,equalScalar:o}),g=oE({typed:r,DenseMatrix:c}),y=os({typed:r,matrix:t,concat:l});return r("gcd",{"number, number":function(e,r){var t;if(!isInteger(e)||!isInteger(r))throw Error("Parameters in function gcd must be integer numbers");for(;0!==r;)t=p(e,r),e=r,r=t;return e<0?-e:e},"BigNumber, BigNumber":function(e,r){if(!e.isInt()||!r.isInt())throw Error("Parameters in function gcd must be integer numbers");for(var t=new u(0);!r.isZero();){var n=p(e,r);e=r,r=n}return e.lt(t)?e.neg():e},"Fraction, Fraction":(e,r)=>e.gcd(r)},y({SS:h,DS:m,Ss:g}),{[s_]:r.referToSelf(e=>(r,t,n)=>{for(var a=e(r,t),o=0;o<n.length;o++)a=e(a,n[o]);return a}),Array:r.referToSelf(e=>r=>{if(1===r.length&&Array.isArray(r[0])&&is1d(r[0]))return e(...r[0]);if(is1d(r))return e(...r);throw new ArgumentsError("gcd() supports only 1d matrices!")}),Matrix:r.referToSelf(e=>r=>e(r.toArray()))})}),sE="hypot",sA=factory_factory(sE,["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],e=>{var{typed:r,abs:t,addScalar:n,divideScalar:a,multiplyScalar:o,sqrt:s,smaller:u,isPositive:c}=e;return r(sE,{"... number | BigNumber":_hypot,Array:_hypot,Matrix:e=>_hypot(flatten(e.toArray()))});function _hypot(e){for(var r=0,l=0,p=0;p<e.length;p++){if(isComplex(e[p]))throw TypeError("Unexpected type of argument to hypot");var m=t(e[p]);u(l,m)?(r=n(r=o(r,o(a(l,m),a(l,m))),1),l=m):r=n(r,c(m)?o(a(m,l),a(m,l)):m)}return o(l,s(r))}}),sC=factory_factory("ImmutableDenseMatrix",["smaller","DenseMatrix"],e=>{var{smaller:r,DenseMatrix:t}=e;function ImmutableDenseMatrix(e,r){if(!(this instanceof ImmutableDenseMatrix))throw SyntaxError("Constructor must be called with the new operator");if(r&&!isString(r))throw Error("Invalid datatype: "+r);if(isMatrix(e)||a(e)){var n=new t(e,r);this._data=n._data,this._size=n._size,this._datatype=n._datatype,this._min=null,this._max=null}else if(e&&a(e.data)&&a(e.size))this._data=e.data,this._size=e.size,this._datatype=e.datatype,this._min=void 0!==e.min?e.min:null,this._max=void 0!==e.max?e.max:null;else if(e)throw TypeError("Unsupported type of data ("+typeOf(e)+")");else this._data=[],this._size=[0],this._datatype=r,this._min=null,this._max=null}return ImmutableDenseMatrix.prototype=new t,ImmutableDenseMatrix.prototype.type="ImmutableDenseMatrix",ImmutableDenseMatrix.prototype.isImmutableDenseMatrix=!0,ImmutableDenseMatrix.prototype.subset=function(e){switch(arguments.length){case 1:var r=t.prototype.subset.call(this,e);if(isMatrix(r))return new ImmutableDenseMatrix({data:r._data,size:r._size,datatype:r._datatype});return r;case 2:case 3:throw Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw SyntaxError("Wrong number of arguments")}},ImmutableDenseMatrix.prototype.set=function(){throw Error("Cannot invoke set on an Immutable Matrix instance")},ImmutableDenseMatrix.prototype.resize=function(){throw Error("Cannot invoke resize on an Immutable Matrix instance")},ImmutableDenseMatrix.prototype.reshape=function(){throw Error("Cannot invoke reshape on an Immutable Matrix instance")},ImmutableDenseMatrix.prototype.clone=function(){return new ImmutableDenseMatrix({data:object_clone(this._data),size:object_clone(this._size),datatype:this._datatype})},ImmutableDenseMatrix.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},ImmutableDenseMatrix.fromJSON=function(e){return new ImmutableDenseMatrix(e)},ImmutableDenseMatrix.prototype.swapRows=function(){throw Error("Cannot invoke swapRows on an Immutable Matrix instance")},ImmutableDenseMatrix.prototype.min=function(){if(null===this._min){var e=null;this.forEach(function(t){(null===e||r(t,e))&&(e=t)}),this._min=null!==e?e:void 0}return this._min},ImmutableDenseMatrix.prototype.max=function(){if(null===this._max){var e=null;this.forEach(function(t){(null===e||r(e,t))&&(e=t)}),this._max=null!==e?e:void 0}return this._max},ImmutableDenseMatrix},{isClass:!0}),sS=factory_factory("Index",["ImmutableDenseMatrix","getMatrixDataType"],e=>{var{ImmutableDenseMatrix:r,getMatrixDataType:t}=e;function Index(e){if(!(this instanceof Index))throw SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var r=0,n=arguments.length;r<n;r++){var o=arguments[r],s=a(o),u=isMatrix(o),c=null;if(isRange(o))this._dimensions.push(o),this._isScalar=!1;else if(s||u){var l=void 0;"boolean"===t(o)?(s&&(l=_createImmutableMatrix(_booleansArrayToNumbersForIndex(o).valueOf())),u&&(l=_createImmutableMatrix(_booleansArrayToNumbersForIndex(o._data).valueOf())),c=o.valueOf().length):l=_createImmutableMatrix(o.valueOf()),this._dimensions.push(l);var p=l.size();(1!==p.length||1!==p[0]||null!==c)&&(this._isScalar=!1)}else if("number"==typeof o)this._dimensions.push(_createImmutableMatrix([o]));else if("string"==typeof o)this._dimensions.push(o);else throw TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._sourceSize.push(c)}}function _createImmutableMatrix(e){for(var t=0,n=e.length;t<n;t++)if("number"!=typeof e[t]||!isInteger(e[t]))throw TypeError("Index parameters must be positive integer numbers");return new r(e)}return Index.prototype.type="Index",Index.prototype.isIndex=!0,Index.prototype.clone=function(){var e=new Index;return e._dimensions=object_clone(this._dimensions),e._isScalar=this._isScalar,e._sourceSize=this._sourceSize,e},Index.create=function(e){var r=new Index;return Index.apply(r,e),r},Index.prototype.size=function(){for(var e=[],r=0,t=this._dimensions.length;r<t;r++){var n=this._dimensions[r];e[r]="string"==typeof n?1:n.size()[0]}return e},Index.prototype.max=function(){for(var e=[],r=0,t=this._dimensions.length;r<t;r++){var n=this._dimensions[r];e[r]="string"==typeof n?n:n.max()}return e},Index.prototype.min=function(){for(var e=[],r=0,t=this._dimensions.length;r<t;r++){var n=this._dimensions[r];e[r]="string"==typeof n?n:n.min()}return e},Index.prototype.forEach=function(e){for(var r=0,t=this._dimensions.length;r<t;r++)e(this._dimensions[r],r,this)},Index.prototype.dimension=function(e){return this._dimensions[e]||null},Index.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},Index.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},Index.prototype.isScalar=function(){return this._isScalar},Index.prototype.toArray=function(){for(var e=[],r=0,t=this._dimensions.length;r<t;r++){var n=this._dimensions[r];e.push("string"==typeof n?n:n.toArray())}return e},Index.prototype.valueOf=Index.prototype.toArray,Index.prototype.toString=function(){for(var e=[],r=0,t=this._dimensions.length;r<t;r++){var n=this._dimensions[r];"string"==typeof n?e.push(JSON.stringify(n)):e.push(n.toString())}return"["+e.join(", ")+"]"},Index.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},Index.fromJSON=function(e){return Index.create(e.dimensions)},Index},{isClass:!0});function _booleansArrayToNumbersForIndex(e){var r=[];return e.forEach((e,t)=>{e&&r.push(t)}),r}var sM="larger",sF=factory_factory(sM,["typed","config","matrix","DenseMatrix","concat"],e=>{var{typed:r,config:t,matrix:n,DenseMatrix:a,concat:o}=e,s=oe({typed:r}),u=or({typed:r,DenseMatrix:a}),c=on({typed:r,DenseMatrix:a}),l=os({typed:r,matrix:n,concat:o}),p=nK({typed:r});return r(sM,sT({typed:r,config:t}),{"boolean, boolean":(e,r)=>e>r,"BigNumber, BigNumber":function(e,r){return e.gt(r)&&!nearlyEqual_nearlyEqual(e,r,t.epsilon)},"Fraction, Fraction":(e,r)=>1===e.compare(r),"Complex, Complex":function(){throw TypeError("No ordering relation is defined for complex numbers")}},p,l({SS:u,DS:s,Ss:c}))}),sT=factory_factory(sM,["typed","config"],e=>{var{typed:r,config:t}=e;return r(sM,{"number, number":function(e,r){return e>r&&!nearlyEqual(e,r,t.epsilon)}})}),sO=factory_factory("log",["config","typed","divideScalar","Complex"],e=>{var{typed:r,config:t,divideScalar:n,Complex:a}=e;return r("log",{number:function(e){var r;return e>=0||t.predictable?r?Math.log(e)/Math.log(r):Math.log(e):new a(e,0).log()},Complex:function(e){return e.log()},BigNumber:function(e){return!e.isNegative()||t.predictable?e.ln():new a(e.toNumber(),0).log()},"any, any":r.referToSelf(e=>(r,t)=>n(e(r),e(t)))})}),sB="lsolveAll",sk=factory_factory(sB,["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],e=>{var{typed:r,matrix:t,divideScalar:n,multiplyScalar:a,subtractScalar:o,equalScalar:s,DenseMatrix:u}=e,c=createSolveValidation({DenseMatrix:u});return r(sB,{"SparseMatrix, Array | Matrix":function(e,r){return function(e,r){for(var t=[c(e,r,!0)._data.map(e=>e[0])],l=e._size[0],p=e._size[1],m=e._values,h=e._index,g=e._ptr,y=0;y<p;y++)for(var v=t.length,x=0;x<v;x++){for(var b=t[x],N=[],w=[],_=g[y],D=g[y+1],E=0,A=_;A<D;A++){var C=h[A];C===y?E=m[A]:C>y&&(N.push(m[A]),w.push(C))}if(s(E,0)){if(s(b[y],0)){if(0===x){var S=[...b];S[y]=1;for(var M=0,F=w.length;M<F;M++){var T=w[M];S[T]=o(S[T],N[M])}t.push(S)}}else{if(0===x)return[];t.splice(x,1),x-=1,v-=1}}else{b[y]=n(b[y],E);for(var O=0,B=w.length;O<B;O++){var k=w[O];b[k]=o(b[k],a(b[y],N[O]))}}}return t.map(e=>new u({data:e.map(e=>[e]),size:[l,1]}))}(e,r)},"DenseMatrix, Array | Matrix":function(e,r){return _denseForwardSubstitution(e,r)},"Array, Array | Matrix":function(e,r){return _denseForwardSubstitution(t(e),r).map(e=>e.valueOf())}});function _denseForwardSubstitution(e,r){for(var t=[c(e,r,!0)._data.map(e=>e[0])],l=e._data,p=e._size[0],m=e._size[1],h=0;h<m;h++)for(var g=t.length,y=0;y<g;y++){var v=t[y];if(s(l[h][h],0)){if(s(v[h],0)){if(0===y){var x=[...v];x[h]=1;for(var b=h+1;b<m;b++)x[b]=o(x[b],l[b][h]);t.push(x)}}else{if(0===y)return[];t.splice(y,1),y-=1,g-=1}}else{v[h]=n(v[h],l[h][h]);for(var N=h+1;N<m;N++)v[N]=o(v[N],a(v[h],l[N][h]))}}return t.map(e=>new u({data:e.map(e=>[e]),size:[p,1]}))}}),sI="matrixFromRows",sP=factory_factory(sI,["typed","matrix","flatten","size"],e=>{var{typed:r,matrix:t,flatten:n,size:a}=e;return r(sI,{"...Array":function(e){return _createArray(e)},"...Matrix":function(e){return t(_createArray(e.map(e=>e.toArray())))}});function _createArray(e){if(0===e.length)throw TypeError("At least one row is needed to construct a matrix.");var r=checkVectorTypeAndReturnLength(e[0]),t=[];for(var a of e){var o=checkVectorTypeAndReturnLength(a);if(o!==r)throw TypeError("The vectors had different length: "+(0|r)+" ≠ "+(0|o));t.push(n(a))}return t}function checkVectorTypeAndReturnLength(e){var r=a(e);if(1===r.length)return r[0];if(2===r.length){if(1===r[0])return r[1];if(1===r[1])return r[0];throw TypeError("At least one of the arguments is not a vector.")}throw TypeError("Only one- or two-dimensional vectors are supported.")}}),sz="multiply",sR=factory_factory(sz,["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],e=>{var{typed:r,matrix:t,addScalar:n,multiplyScalar:a,equalScalar:o,dot:s}=e,u=ot({typed:r,equalScalar:o}),c=oa({typed:r});function _validateMatrixDimensions(e,r){switch(e.length){case 1:switch(r.length){case 1:if(e[0]!==r[0])throw RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(e[0]!==r[0])throw RangeError("Dimension mismatch in multiplication. Vector length ("+e[0]+") must match Matrix rows ("+r[0]+")");break;default:throw Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+r.length+" dimensions)")}break;case 2:switch(r.length){case 1:if(e[1]!==r[0])throw RangeError("Dimension mismatch in multiplication. Matrix columns ("+e[1]+") must match Vector length ("+r[0]+")");break;case 2:if(e[1]!==r[0])throw RangeError("Dimension mismatch in multiplication. Matrix A columns ("+e[1]+") must match Matrix B rows ("+r[0]+")");break;default:throw Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+r.length+" dimensions)")}break;default:throw Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+e.length+" dimensions)")}}var l=r("_multiplyMatrixVector",{"DenseMatrix, any":function(e,t){var o,s=e._data,u=e._size,c=e._datatype,l=t._data,p=t._datatype,m=u[0],h=u[1],g=n,y=a;c&&p&&c===p&&"string"==typeof c&&(o=c,g=r.find(n,[o,o]),y=r.find(a,[o,o]));for(var v=[],x=0;x<m;x++){for(var b=s[x],N=y(b[0],l[0]),w=1;w<h;w++)N=g(N,y(b[w],l[w]));v[x]=N}return e.createDenseMatrix({data:v,size:[m],datatype:o})},"SparseMatrix, any":function(e,t){var s,u=e._values,c=e._index,l=e._ptr,p=e._datatype;if(!u)throw Error("Cannot multiply Pattern only Matrix times Dense Matrix");var m=t._data,h=t._datatype,g=e._size[0],y=t._size[0],v=[],x=[],b=[],N=n,w=a,_=o,D=0;p&&h&&p===h&&"string"==typeof p&&(s=p,N=r.find(n,[s,s]),w=r.find(a,[s,s]),_=r.find(o,[s,s]),D=r.convert(0,s));var E=[],A=[];b[0]=0;for(var C=0;C<y;C++){var S=m[C];if(!_(S,D))for(var M=l[C],F=l[C+1],T=M;T<F;T++){var O=c[T];A[O]?E[O]=N(E[O],w(S,u[T])):(A[O]=!0,x.push(O),E[O]=w(S,u[T]))}}for(var B=x.length,k=0;k<B;k++){var I=x[k];v[k]=E[I]}return b[1]=x.length,e.createSparseMatrix({values:v,index:x,ptr:b,size:[g,1],datatype:s})}}),p=r("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(e,t){var o,s=e._data,u=e._size,c=e._datatype,l=t._data,p=t._size,m=t._datatype,h=u[0],g=u[1],y=p[1],v=n,x=a;c&&m&&c===m&&"string"==typeof c&&(o=c,v=r.find(n,[o,o]),x=r.find(a,[o,o]));for(var b=[],N=0;N<h;N++){var w=s[N];b[N]=[];for(var _=0;_<y;_++){for(var D=x(w[0],l[0][_]),E=1;E<g;E++)D=v(D,x(w[E],l[E][_]));b[N][_]=D}}return e.createDenseMatrix({data:b,size:[h,y],datatype:o})},"DenseMatrix, SparseMatrix":function(e,t){var s,u=e._data,c=e._size,l=e._datatype,p=t._values,m=t._index,h=t._ptr,g=t._size,y=t._datatype;if(!p)throw Error("Cannot multiply Dense Matrix times Pattern only Matrix");var v=c[0],x=g[1],b=n,N=a,w=o,_=0;l&&y&&l===y&&"string"==typeof l&&(s=l,b=r.find(n,[s,s]),N=r.find(a,[s,s]),w=r.find(o,[s,s]),_=r.convert(0,s));for(var D=[],E=[],A=[],C=t.createSparseMatrix({values:D,index:E,ptr:A,size:[v,x],datatype:s}),S=0;S<x;S++){A[S]=E.length;var M=h[S],F=h[S+1];if(F>M)for(var T=0,O=0;O<v;O++){for(var B=O+1,k=void 0,I=M;I<F;I++){var P=m[I];T!==B?(k=N(u[O][P],p[I]),T=B):k=b(k,N(u[O][P],p[I]))}T!==B||w(k,_)||(E.push(O),D.push(k))}}return A[x]=E.length,C},"SparseMatrix, DenseMatrix":function(e,t){var s,u=e._values,c=e._index,l=e._ptr,p=e._datatype;if(!u)throw Error("Cannot multiply Pattern only Matrix times Dense Matrix");var m=t._data,h=t._datatype,g=e._size[0],y=t._size[0],v=t._size[1],x=n,b=a,N=o,w=0;p&&h&&p===h&&"string"==typeof p&&(s=p,x=r.find(n,[s,s]),b=r.find(a,[s,s]),N=r.find(o,[s,s]),w=r.convert(0,s));for(var _=[],D=[],E=[],A=e.createSparseMatrix({values:_,index:D,ptr:E,size:[g,v],datatype:s}),C=[],S=[],M=0;M<v;M++){E[M]=D.length;for(var F=M+1,T=0;T<y;T++){var O=m[T][M];if(!N(O,w))for(var B=l[T],k=l[T+1],I=B;I<k;I++){var P=c[I];S[P]!==F?(S[P]=F,D.push(P),C[P]=b(O,u[I])):C[P]=x(C[P],b(O,u[I]))}}for(var z=E[M],R=D.length,q=z;q<R;q++){var j=D[q];_[q]=C[j]}}return E[v]=D.length,A},"SparseMatrix, SparseMatrix":function(e,t){var o,s,u,c,l,p,m,h,g,y=e._values,v=e._index,x=e._ptr,b=e._datatype,N=t._values,w=t._index,_=t._ptr,D=t._datatype,E=e._size[0],A=t._size[1],C=y&&N,S=n,M=a;b&&D&&b===D&&"string"==typeof b&&(o=b,S=r.find(n,[o,o]),M=r.find(a,[o,o]));for(var F=C?[]:void 0,T=[],O=[],B=e.createSparseMatrix({values:F,index:T,ptr:O,size:[E,A],datatype:o}),k=C?[]:void 0,I=[],P=0;P<A;P++){O[P]=T.length;var z=P+1;for(p=_[P],m=_[P+1],l=p;l<m;l++)if(g=w[l],C)for(u=x[g],c=x[g+1],s=u;s<c;s++)I[h=v[s]]!==z?(I[h]=z,T.push(h),k[h]=M(N[l],y[s])):k[h]=S(k[h],M(N[l],y[s]));else for(u=x[g],c=x[g+1],s=u;s<c;s++)I[h=v[s]]!==z&&(I[h]=z,T.push(h));if(C)for(var R=O[P],q=T.length,j=R;j<q;j++){var U=T[j];F[j]=k[U]}}return O[A]=T.length,B}});return r(sz,a,{"Array, Array":r.referTo("Matrix, Matrix",e=>(r,n)=>{_validateMatrixDimensions(arraySize(r),arraySize(n));var a=e(t(r),t(n));return isMatrix(a)?a.valueOf():a}),"Matrix, Matrix":function(e,t){var o=e.size(),u=t.size();return(_validateMatrixDimensions(o,u),1===o.length)?1===u.length?function(e,r,t){if(0===t)throw Error("Cannot multiply two empty vectors");return s(e,r)}(e,t,o[0]):function(e,t){if("dense"!==t.storage())throw Error("Support for SparseMatrix not implemented");return function(e,t){var o,s=e._data,u=e._size,c=e._datatype,l=t._data,p=t._size,m=t._datatype,h=u[0],g=p[1],y=n,v=a;c&&m&&c===m&&"string"==typeof c&&(o=c,y=r.find(n,[o,o]),v=r.find(a,[o,o]));for(var x=[],b=0;b<g;b++){for(var N=v(s[0],l[0][b]),w=1;w<h;w++)N=y(N,v(s[w],l[w][b]));x[b]=N}return e.createDenseMatrix({data:x,size:[g],datatype:o})}(e,t)}(e,t):1===u.length?l(e,t):p(e,t)},"Matrix, Array":r.referTo("Matrix,Matrix",e=>(r,n)=>e(r,t(n))),"Array, Matrix":r.referToSelf(e=>(r,n)=>e(t(r,n.storage()),n)),"SparseMatrix, any":function(e,r){return u(e,r,a,!1)},"DenseMatrix, any":function(e,r){return c(e,r,a,!1)},"any, SparseMatrix":function(e,r){return u(r,e,a,!0)},"any, DenseMatrix":function(e,r){return c(r,e,a,!0)},"Array, any":function(e,r){return c(t(e),r,a,!1).valueOf()},"any, Array":function(e,r){return c(t(r),e,a,!0).valueOf()},"any, any":a,"any, any, ...any":r.referToSelf(e=>(r,t,n)=>{for(var a=e(r,t),o=0;o<n.length;o++)a=e(a,n[o]);return a})})}),sq="nthRoots",sj=factory_factory(sq,["config","typed","divideScalar","Complex"],e=>{var{typed:r,config:t,divideScalar:n,Complex:a}=e,o=[function(e){return new a(e,0)},function(e){return new a(0,e)},function(e){return new a(-e,0)},function(e){return new a(0,-e)}];function _nthComplexRoots(e,r){if(r<0)throw Error("Root must be greater than zero");if(0===r)throw Error("Root must be non-zero");if(r%1!=0)throw Error("Root must be an integer");if(0===e||0===e.abs())return[new a(0,0)];var t,n="number"==typeof e;(n||0===e.re||0===e.im)&&(t=n?2*+(e<0):0===e.im?2*+(e.re<0):2*+(e.im<0)+1);for(var s=e.arg(),u=e.abs(),c=[],l=Math.pow(u,1/r),p=0;p<r;p++){var m=(t+4*p)/r;if(m===Math.round(m)){c.push(o[m%4](l));continue}c.push(new a({r:l,phi:(s+2*Math.PI*p)/r}))}return c}return r(sq,{Complex:function(e){return _nthComplexRoots(e,2)},"Complex, number":_nthComplexRoots})}),sU=factory_factory("or",["typed","matrix","equalScalar","DenseMatrix","concat"],e=>{var{typed:r,matrix:t,equalScalar:n,DenseMatrix:a,concat:o}=e,s=oe({typed:r}),u=oY({typed:r,equalScalar:n}),c=on({typed:r,DenseMatrix:a}),l=os({typed:r,matrix:t,concat:o});return r("or",{"number, number":orNumber,"Complex, Complex":function(e,r){return 0!==e.re||0!==e.im||0!==r.re||0!==r.im},"BigNumber, BigNumber":function(e,r){return!e.isZero()&&!e.isNaN()||!r.isZero()&&!r.isNaN()},"Unit, Unit":r.referToSelf(e=>(r,t)=>e(r.value||0,t.value||0))},l({SS:u,DS:s,Ss:c}))}),sL="partitionSelect",sH=factory_factory(sL,["typed","isNumeric","isNaN","compare"],e=>{var{typed:r,isNumeric:t,isNaN:n,compare:a}=e,desc=(e,r)=>-a(e,r);return r(sL,{"Array | Matrix, number":function(e,r){return _partitionSelect(e,r,a)},"Array | Matrix, number, string":function(e,r,t){if("asc"===t)return _partitionSelect(e,r,a);if("desc"===t)return _partitionSelect(e,r,desc);throw Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":_partitionSelect});function _partitionSelect(e,r,t){if(!isInteger(r)||r<0)throw Error("k must be a non-negative integer");if(isMatrix(e)){if(e.size().length>1)throw Error("Only one dimensional matrices supported");return quickSelect(e.valueOf(),r,t)}if(Array.isArray(e))return quickSelect(e,r,t)}function quickSelect(e,r,a){if(r>=e.length)throw Error("k out of bounds");for(var o=0;o<e.length;o++)if(t(e[o])&&n(e[o]))return e[o];for(var s=0,u=e.length-1;s<u;){for(var c=s,l=u,p=e[Math.floor(Math.random()*(u-s+1))+s];c<l;)if(a(e[c],p)>=0){var m=e[l];e[l]=e[c],e[c]=m,--l}else++c;a(e[c],p)>0&&--c,r<=c?u=c:s=c+1}return e[r]}}),s$="rightLogShift",sV=factory_factory(s$,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],e=>{var{typed:r,matrix:t,equalScalar:n,zeros:a,DenseMatrix:o,concat:s}=e,u=oD({typed:r}),c=a9({typed:r,equalScalar:n}),l=oA({typed:r,equalScalar:n}),p=oE({typed:r,DenseMatrix:o}),m=ot({typed:r,equalScalar:n}),h=oa({typed:r}),g=os({typed:r,matrix:t,concat:s}),y=oC({typed:r,matrix:t});return r(s$,{"number, number":rightLogShiftNumber,"SparseMatrix, number | BigNumber":r.referToSelf(e=>(r,t)=>n(t,0)?r.clone():m(r,t,e,!1)),"DenseMatrix, number | BigNumber":r.referToSelf(e=>(r,t)=>n(t,0)?r.clone():h(r,t,e,!1)),"number | BigNumber, SparseMatrix":r.referToSelf(e=>(r,t)=>n(r,0)?a(t.size(),t.storage()):p(t,r,e,!0)),"number | BigNumber, DenseMatrix":r.referToSelf(e=>(r,t)=>n(r,0)?a(t.size(),t.storage()):h(t,r,e,!0))},y,g({SS:l,DS:u,SD:c}))});function csTdfs(e,r,t,n,a,o,s){var u=0;for(t[s]=e;u>=0;){var c=t[s+u],l=t[n+c];-1===l?(u--,o[r++]=c):(t[n+c]=t[a+l],t[s+ ++u]=l)}return r}var sZ=factory_factory("csAmd",["add","multiply","transpose"],e=>{var{add:r,multiply:t,transpose:n}=e;return function(e,a){if(!a||e<=0||e>3)return null;var o,s,u,c,l,p,m,h,g,y,v,x,b,N,w,_,D=a._size,E=D[0],A=D[1],C=0,S=Math.max(16,10*Math.sqrt(A));S=Math.min(A-2,S);var M=function(e,a,o,s,u){var c=n(a);if(1===e&&s===o)return r(a,c);if(2===e){for(var l=c._index,p=c._ptr,m=0,h=0;h<o;h++){var g=p[h];if(p[h]=m,!(p[h+1]-g>u))for(var y=p[h+1];g<y;g++)l[m++]=l[g]}p[o]=m,a=n(c)}return t(c,a)}(e,a,E,A,S);!function(e,r,t){for(var n=e._values,a=e._index,o=e._ptr,s=e._size[1],u=0,c=0;c<s;c++){var l=o[c];for(o[c]=u;l<o[c+1];l++)r(a[l],c,n?n[l]:1,null)&&(a[u]=a[l],n&&(n[u]=n[l]),u++)}o[s]=u,a.splice(u,a.length-u),n&&n.splice(u,n.length-u)}(M,_diag,0);for(var F=M._index,T=M._ptr,O=T[A],B=[],k=[],I=A+1,P=2*(A+1),z=3*(A+1),R=4*(A+1),q=5*(A+1),j=6*(A+1),U=7*(A+1),L=function(e,r,t,n,a,o,s,u,c,l,p,m){for(var h=0;h<e;h++)t[n+h]=r[h+1]-r[h];t[n+e]=0;for(var g=0;g<=e;g++)t[a+g]=-1,o[g]=-1,t[s+g]=-1,t[u+g]=-1,t[c+g]=1,t[l+g]=1,t[p+g]=0,t[m+g]=t[n+g];var y=_wclear(0,0,t,l,e);return t[p+e]=-2,r[e]=-1,t[l+e]=0,y}(A,T,k,0,z,B,P,U,I,j,R,q),H=function(e,r,t,n,a,o,s,u,c,l,p){for(var m=0,h=0;h<e;h++){var g=t[n+h];if(0===g)t[a+h]=-2,m++,r[h]=-1,t[o+h]=0;else if(g>s)t[u+h]=0,t[a+h]=-1,m++,r[h]=-e-2,t[u+e]++;else{var y=t[c+g];-1!==y&&(l[y]=h),t[p+h]=t[c+g],t[c+g]=h}}return m}(A,T,k,q,R,j,S,I,z,B,P),$=0;H<A;){for(u=-1;$<A&&-1===(u=k[z+$]);$++);-1!==k[P+u]&&(B[k[P+u]]=-1),k[z+$]=k[P+u];var V=k[R+u],Z=k[I+u];H+=Z;var G=0;k[I+u]=-Z;var W=T[u],Y=0===V?W:O,X=Y;for(c=1;c<=V+1;c++){for(c>V?(p=u,m=W,h=k[0+u]-V):(m=T[p=F[W++]],h=k[0+p]),l=1;l<=h;l++)(g=k[I+(o=F[m++])])<=0||(G+=g,k[I+o]=-g,F[X++]=o,-1!==k[P+o]&&(B[k[P+o]]=B[o]),-1!==B[o]?k[P+B[o]]=k[P+o]:k[z+k[q+o]]=k[P+o]);p!==u&&(T[p]=-u-2,k[j+p]=0)}for(0!==V&&(O=X),k[q+u]=G,T[u]=Y,k[0+u]=X-Y,k[R+u]=-2,L=_wclear(L,C,k,j,A),y=Y;y<X;y++)if(!((v=k[R+(o=F[y])])<=0)){var J=L-(g=-k[I+o]);for(W=T[o],x=T[o]+v-1;W<=x;W++)k[j+(p=F[W])]>=L?k[j+p]-=g:0!==k[j+p]&&(k[j+p]=k[q+p]+J)}for(y=Y;y<X;y++){for(w=0,b=(x=T[o=F[y]])+k[R+o]-1,N=x,_=0,W=x;W<=b;W++)if(0!==k[j+(p=F[W])]){var K=k[j+p]-L;K>0?(_+=K,F[N++]=p,w+=p):(T[p]=-u-2,k[j+p]=0)}k[R+o]=N-x+1;var Q=N,ee=x+k[0+o];for(W=b+1;W<ee;W++){var er=k[I+(s=F[W])];er<=0||(_+=er,F[N++]=s,w+=s)}0===_?(T[o]=-u-2,G-=g=-k[I+o],Z+=g,H+=g,k[I+o]=0,k[R+o]=-1):(k[q+o]=Math.min(k[q+o],_),F[N]=F[Q],F[Q]=F[x],F[x]=u,k[0+o]=N-x+1,w=(w<0?-w:w)%A,k[P+o]=k[U+w],k[U+w]=o,B[o]=w)}for(k[q+u]=G,L=_wclear(L+(C=Math.max(C,G)),C,k,j,A),y=Y;y<X;y++)if(!(k[I+(o=F[y])]>=0))for(o=k[U+(w=B[o])],k[U+w]=-1;-1!==o&&-1!==k[P+o];o=k[P+o],L++){for(h=k[0+o],v=k[R+o],W=T[o]+1;W<=T[o]+h-1;W++)k[j+F[W]]=L;var et=o;for(s=k[P+o];-1!==s;){var en=k[0+s]===h&&k[R+s]===v;for(W=T[s]+1;en&&W<=T[s]+h-1;W++)k[j+F[W]]!==L&&(en=0);en?(T[s]=-o-2,k[I+o]+=k[I+s],k[I+s]=0,k[R+s]=-1,s=k[P+s],k[P+et]=s):(et=s,s=k[P+s])}}for(W=Y,y=Y;y<X;y++)(g=-k[I+(o=F[y])])<=0||(k[I+o]=g,_=Math.min(_=k[q+o]+G-g,A-H-g),-1!==k[z+_]&&(B[k[z+_]]=o),k[P+o]=k[z+_],B[o]=-1,k[z+_]=o,$=Math.min($,_),k[q+o]=_,F[W++]=o);k[I+u]=Z,0==(k[0+u]=W-Y)&&(T[u]=-1,k[j+u]=0),0!==V&&(O=W)}for(o=0;o<A;o++)T[o]=-T[o]-2;for(s=0;s<=A;s++)k[z+s]=-1;for(s=A;s>=0;s--)k[I+s]>0||(k[P+s]=k[z+T[s]],k[z+T[s]]=s);for(p=A;p>=0;p--)k[I+p]<=0||-1===T[p]||(k[P+p]=k[z+T[p]],k[z+T[p]]=p);for(u=0,o=0;o<=A;o++)-1===T[o]&&(u=csTdfs(o,u,k,z,P,B,j));return B.splice(B.length-1,1),B};function _wclear(e,r,t,n,a){if(e<2||e+r<0){for(var o=0;o<a;o++)0!==t[n+o]&&(t[n+o]=1);e=2}return e}function _diag(e,r){return e!==r}}),sG=factory_factory("csCounts",["transpose"],e=>{var{transpose:r}=e;return function(e,t,n,a){if(!e||!t||!n)return null;var o,s,u,c,l,p,m,h=e._size,g=h[0],y=h[1],v=4*y+(a?y+g+1:0),x=[],b=2*y,N=3*y,w=4*y,_=5*y+1;for(u=0;u<v;u++)x[u]=-1;var D=[],E=r(e),A=E._index,C=E._ptr;for(u=0;u<y;u++)for(D[s=n[u]]=-1===x[N+s]?1:0;-1!==s&&-1===x[N+s];s=t[s])x[N+s]=u;if(a){for(u=0;u<y;u++)x[n[u]]=u;for(o=0;o<g;o++){for(u=y,p=C[o],m=C[o+1],l=p;l<m;l++)u=Math.min(u,x[A[l]]);x[_+o]=x[w+u],x[w+u]=o}}for(o=0;o<y;o++)x[0+o]=o;for(u=0;u<y;u++){for(-1!==t[s=n[u]]&&D[t[s]]--,c=a?x[w+u]:s;-1!==c;c=a?x[_+c]:-1)for(l=C[c];l<C[c+1];l++){var S=function(e,r,t,n,a,o,s){var u,c,l,p=0;if(e<=r||t[n+r]<=t[a+e])return -1;t[a+e]=t[n+r];var m=t[o+e];if(t[o+e]=r,-1===m)p=1,l=e;else{for(p=2,l=m;l!==t[s+l];l=t[s+l]);for(u=m;u!==l;u=c)c=t[s+u],t[s+u]=l}return{jleaf:p,q:l}}(o=A[l],s,x,N,y,b,0);S.jleaf>=1&&D[s]++,2===S.jleaf&&D[S.q]--}-1!==t[s]&&(x[0+s]=t[s])}for(s=0;s<y;s++)-1!==t[s]&&(D[t[s]]+=D[s]);return D}}),sW=factory_factory("csSqr",["add","multiply","transpose"],e=>{var{add:r,multiply:t,transpose:n}=e,a=sZ({add:r,multiply:t,transpose:n}),o=sG({transpose:n});return function(e,r,t){var n,s=r._ptr,u=r._size[1],c={};if(c.q=a(e,r),e&&!c.q)return null;if(t){var l=e?function(e,r,t,n){e._values;for(var a=e._index,o=e._ptr,s=e._size,u=e._datatype,c=s[0],l=s[1],p=[],m=[],h=0,g=0;g<l;g++){m[g]=h;for(var y=t?t[g]:g,v=o[y],x=o[y+1],b=v;b<x;b++){var N=r?r[a[b]]:a[b];p[h]=N,h++}}return m[l]=h,e.createSparseMatrix({values:null,index:p,ptr:m,size:[c,l],datatype:u})}(r,null,c.q,0):r;c.parent=function(e,r){if(!e)return null;var t,n,a=e._index,o=e._ptr,s=e._size,u=s[0],c=s[1],l=[],p=[];if(r)for(t=0;t<u;t++)p[c+t]=-1;for(var m=0;m<c;m++){l[m]=-1,p[0+m]=-1;for(var h=o[m],g=o[m+1],y=h;y<g;y++){var v=a[y];for(t=r?p[c+v]:v;-1!==t&&t<m;t=n)n=p[0+t],p[0+t]=m,-1===n&&(l[t]=m);r&&(p[c+v]=m)}}return l}(l,1);var p=function(e,r){if(!e)return null;var t,n=0,a=[],o=[],s=2*r;for(t=0;t<r;t++)o[0+t]=-1;for(t=r-1;t>=0;t--)-1!==e[t]&&(o[r+t]=o[0+e[t]],o[0+e[t]]=t);for(t=0;t<r;t++)-1===e[t]&&(n=csTdfs(t,n,o,0,r,a,s));return a}(c.parent,u);if(c.cp=o(l,c.parent,p,1),l&&c.parent&&c.cp&&function(e,r){var t,n,a,o,s,u=e._ptr,c=e._index,l=e._size,p=l[0],m=l[1];r.pinv=[],r.leftmost=[];var h=r.parent,g=r.pinv,y=r.leftmost,v=[],x=p+m,b=p+2*m;for(n=0;n<m;n++)v[p+n]=-1,v[x+n]=-1,v[b+n]=0;for(t=0;t<p;t++)y[t]=-1;for(n=m-1;n>=0;n--)for(o=u[n],s=u[n+1],a=o;a<s;a++)y[c[a]]=n;for(t=p-1;t>=0;t--)g[t]=-1,-1!==(n=y[t])&&(0==v[b+n]++&&(v[x+n]=t),v[0+t]=v[p+n],v[p+n]=t);for(n=0,r.lnz=0,r.m2=p;n<m;n++)if(t=v[p+n],r.lnz++,t<0&&(t=r.m2++),g[t]=n,!(--b[n]<=0)){r.lnz+=v[b+n];var N=h[n];-1!==N&&(0===v[b+N]&&(v[x+N]=v[x+n]),v[0+v[x+n]]=v[p+N],v[p+N]=v[0+t],v[b+N]+=v[b+n])}for(t=0;t<p;t++)g[t]<0&&(g[t]=n++);return!0}(l,c))for(c.unz=0,n=0;n<u;n++)c.unz+=c.cp[n]}else c.unz=4*s[u]+u,c.lnz=c.unz;return c}}),sY=factory_factory("csSpsolve",["divideScalar","multiply","subtract"],e=>{var{divideScalar:r,multiply:t,subtract:n}=e;return function(e,a,o,s,u,c,l){var p,m,h,g,y=e._values,v=e._index,x=e._ptr,b=e._size[1],N=a._values,w=a._index,_=a._ptr,D=function(e,r,t,n,a){var o,s,u,c,l=e._ptr,p=e._size,m=r._index,h=r._ptr,g=p[1],y=g;for(u=h[t],c=h[t+1],s=u;s<c;s++){var v=m[s];l[v]<0||(y=function(e,r,t,n,a){var o,s,u,c=r._index,l=r._ptr,p=r._size[1],m=0;for(n[0]=e;m>=0;){e=n[m];var h,g,y,v=a?a[e]:e;!(l[e]<0)&&(l[h=e]=-l[h]-2,n[p+m]=v<0?0:(g=l[v])<0?-g-2:g);var x=1;for(s=n[p+m],u=v<0?0:(y=l[v+1])<0?-y-2:y;s<u;s++)if(!(l[o=c[s]]<0)){n[p+m]=s,n[++m]=o,x=0;break}x&&(m--,n[--t]=e)}return t}(v,e,y,n,a))}for(s=y;s<g;s++)l[o=n[s]]=-l[o]-2;return y}(e,a,o,s,c);for(p=D;p<b;p++)u[s[p]]=0;for(m=_[o],h=_[o+1],p=m;p<h;p++)u[w[p]]=N[p];for(var E=D;E<b;E++){var A=s[E],C=c?c[A]:A;if(!(C<0))for(m=x[C],h=x[C+1],u[A]=r(u[A],y[l?m:h-1]),p=l?m+1:m,g=l?h:h-1;p<g;p++){var S=v[p];u[S]=n(u[S],t(y[p],u[A]))}}return D}}),sX=factory_factory("csLu",["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],e=>{var{abs:r,divideScalar:t,multiply:n,subtract:a,larger:o,largerEq:s,SparseMatrix:u}=e,c=sY({divideScalar:t,multiply:n,subtract:a});return function(e,a,l){if(!e)return null;var p,m,h,g=e._size[1],y=100,v=100;a&&(p=a.q,y=a.lnz||y,v=a.unz||v);var x=[],b=[],N=[],w=new u({values:x,index:b,ptr:N,size:[g,g]}),_=[],D=[],E=[],A=new u({values:_,index:D,ptr:E,size:[g,g]}),C=[],S=[],M=[];for(m=0;m<g;m++)S[m]=0,C[m]=-1,N[m+1]=0;y=0,v=0;for(var F=0;F<g;F++){N[F]=y,E[F]=v;var T=p?p[F]:F,O=c(w,e,T,M,S,C,1),B=-1,k=-1;for(h=O;h<g;h++)if(C[m=M[h]]<0){var I=r(S[m]);o(I,k)&&(k=I,B=m)}else D[v]=C[m],_[v++]=S[m];if(-1===B||k<=0)return null;C[T]<0&&s(r(S[T]),n(k,l))&&(B=T);var P=S[B];for(D[v]=F,_[v++]=P,C[B]=F,b[y]=B,x[y++]=1,h=O;h<g;h++)C[m=M[h]]<0&&(b[y]=m,x[y++]=t(S[m],P)),S[m]=0}for(h=0,N[g]=y,E[g]=v;h<y;h++)b[h]=C[b[h]];return x.splice(y,x.length-y),b.splice(y,b.length-y),_.splice(v,_.length-v),D.splice(v,D.length-v),{L:w,U:A,pinv:C}}}),sJ=factory_factory("slu",["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],e=>{var{typed:r,abs:t,add:n,multiply:a,transpose:o,divideScalar:s,subtract:u,larger:c,largerEq:l,SparseMatrix:p}=e,m=sW({add:n,multiply:a,transpose:o}),h=sX({abs:t,divideScalar:s,multiply:a,subtract:u,larger:c,largerEq:l,SparseMatrix:p});return r("slu",{"SparseMatrix, number, number":function(e,r,t){if(!isInteger(r)||r<0||r>3)throw Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(t<0||t>1)throw Error("Partial pivoting threshold must be a number from 0 to 1");var n=m(r,e,!1),a=h(e,n,t);return{L:a.L,U:a.U,p:a.pinv,q:n.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}),sK=factory_factory("trace",["typed","matrix","add"],e=>{var{typed:r,matrix:t,add:n}=e;return r("trace",{Array:function(e){return _denseTrace(t(e))},SparseMatrix:function(e){var r=e._values,t=e._index,a=e._ptr,o=e._size,s=o[0],u=o[1];if(s===u){var c=0;if(r.length>0)for(var l=0;l<u;l++)for(var p=a[l],m=a[l+1],h=p;h<m;h++){var g=t[h];if(g===l){c=n(c,r[h]);break}if(g>l)break}return c}throw RangeError("Matrix must be square (size: "+string_format(o)+")")},DenseMatrix:_denseTrace,any:object_clone});function _denseTrace(e){var r=e._size,t=e._data;switch(r.length){case 1:if(1===r[0])return object_clone(t[0]);throw RangeError("Matrix must be square (size: "+string_format(r)+")");case 2:var a=r[0];if(a===r[1]){for(var o=0,s=0;s<a;s++)o=n(o,t[s][s]);return o}throw RangeError("Matrix must be square (size: "+string_format(r)+")");default:throw RangeError("Matrix must be two dimensional (size: "+string_format(r)+")")}}}),sQ="usolveAll",s0=factory_factory(sQ,["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],e=>{var{typed:r,matrix:t,divideScalar:n,multiplyScalar:a,subtractScalar:o,equalScalar:s,DenseMatrix:u}=e,c=createSolveValidation({DenseMatrix:u});return r(sQ,{"SparseMatrix, Array | Matrix":function(e,r){return function(e,r){for(var t=[c(e,r,!0)._data.map(e=>e[0])],l=e._size[0],p=e._size[1],m=e._values,h=e._index,g=e._ptr,y=p-1;y>=0;y--)for(var v=t.length,x=0;x<v;x++){for(var b=t[x],N=[],w=[],_=g[y],D=g[y+1],E=0,A=D-1;A>=_;A--){var C=h[A];C===y?E=m[A]:C<y&&(N.push(m[A]),w.push(C))}if(s(E,0)){if(s(b[y],0)){if(0===x){var S=[...b];S[y]=1;for(var M=0,F=w.length;M<F;M++){var T=w[M];S[T]=o(S[T],N[M])}t.push(S)}}else{if(0===x)return[];t.splice(x,1),x-=1,v-=1}}else{b[y]=n(b[y],E);for(var O=0,B=w.length;O<B;O++){var k=w[O];b[k]=o(b[k],a(b[y],N[O]))}}}return t.map(e=>new u({data:e.map(e=>[e]),size:[l,1]}))}(e,r)},"DenseMatrix, Array | Matrix":function(e,r){return _denseBackwardSubstitution(e,r)},"Array, Array | Matrix":function(e,r){return _denseBackwardSubstitution(t(e),r).map(e=>e.valueOf())}});function _denseBackwardSubstitution(e,r){for(var t=[c(e,r,!0)._data.map(e=>e[0])],l=e._data,p=e._size[0],m=e._size[1],h=m-1;h>=0;h--)for(var g=t.length,y=0;y<g;y++){var v=t[y];if(s(l[h][h],0)){if(s(v[h],0)){if(0===y){var x=[...v];x[h]=1;for(var b=h-1;b>=0;b--)x[b]=o(x[b],l[b][h]);t.push(x)}}else{if(0===y)return[];t.splice(y,1),y-=1,g-=1}}else{v[h]=n(v[h],l[h][h]);for(var N=h-1;N>=0;N--)v[N]=o(v[N],a(v[h],l[N][h]))}}return t.map(e=>new u({data:e.map(e=>[e]),size:[p,1]}))}}),s1="zpk2tf",s2=factory_factory(s1,["typed","add","multiply","Complex","number"],e=>{var{typed:r,add:t,multiply:n,Complex:a,number:o}=e;return r(s1,{"Array,Array,number":function(e,r,t){return _zpk2tf(e,r,t)},"Array,Array":function(e,r){return _zpk2tf(e,r,1)},"Matrix,Matrix,number":function(e,r,t){return _zpk2tf(e.valueOf(),r.valueOf(),t)},"Matrix,Matrix":function(e,r){return _zpk2tf(e.valueOf(),r.valueOf(),1)}});function _zpk2tf(e,r,t){e.some(e=>"BigNumber"===e.type)&&(e=e.map(e=>o(e))),r.some(e=>"BigNumber"===e.type)&&(r=r.map(e=>o(e)));for(var s=[a(1,0)],u=[a(1,0)],c=0;c<e.length;c++){var l=e[c];"number"==typeof l&&(l=a(l,0)),s=_multiply(s,[a(1,0),a(-l.re,-l.im)])}for(var p=0;p<r.length;p++){var m=r[p];"number"==typeof m&&(m=a(m,0)),u=_multiply(u,[a(1,0),a(-m.re,-m.im)])}for(var h=0;h<s.length;h++)s[h]=n(s[h],t);return[s,u]}function _multiply(e,r){for(var o=[],s=0;s<e.length+r.length-1;s++){o[s]=a(0,0);for(var u=0;u<e.length;u++)s-u>=0&&s-u<r.length&&(o[s]=t(o[s],n(e[u],r[s-u])))}return o}}),s3="bitOr",s5=factory_factory(s3,["typed","matrix","equalScalar","DenseMatrix","concat"],e=>{var{typed:r,matrix:t,equalScalar:n,DenseMatrix:a,concat:o}=e,s=oD({typed:r}),u=o4({typed:r,equalScalar:n}),c=oE({typed:r,DenseMatrix:a}),l=os({typed:r,matrix:t,concat:o});return r(s3,{"number, number":bitOrNumber,"BigNumber, BigNumber":bitOrBigNumber},l({SS:u,DS:s,Ss:c}))}),s4="ceil",s8=factory_factory(s4,["typed","config","round"],e=>{var{typed:r,config:t,round:n}=e;return r(s4,{number:function(e){return nearlyEqual(e,n(e),t.epsilon)?n(e):Math.ceil(e)},"number, number":function(e,r){if(nearlyEqual(e,n(e,r),t.epsilon))return n(e,r);var[a,o]="".concat(e,"e").split("e"),s=Math.ceil(Number("".concat(a,"e").concat(Number(o)+r)));return[a,o]="".concat(s,"e").split("e"),Number("".concat(a,"e").concat(Number(o)-r))}})}),s6=factory_factory(s4,["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],e=>{var{typed:r,config:t,round:n,matrix:a,equalScalar:o,zeros:s,DenseMatrix:u}=e,c=ot({typed:r,equalScalar:o}),l=on({typed:r,DenseMatrix:u}),p=oa({typed:r}),m=s8({typed:r,config:t,round:n});return r("ceil",{number:m.signatures.number,"number,number":m.signatures["number,number"],Complex:function(e){return e.ceil()},"Complex, number":function(e,r){return e.ceil(r)},"Complex, BigNumber":function(e,r){return e.ceil(r.toNumber())},BigNumber:function(e){return nearlyEqual_nearlyEqual(e,n(e),t.epsilon)?n(e):e.ceil()},"BigNumber, BigNumber":function(e,r){return nearlyEqual_nearlyEqual(e,n(e,r),t.epsilon)?n(e,r):e.toDecimalPlaces(r.toNumber(),rQ.ROUND_CEIL)},Fraction:function(e){return e.ceil()},"Fraction, number":function(e,r){return e.ceil(r)},"Fraction, BigNumber":function(e,r){return e.ceil(r.toNumber())},"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e,!0)),"Array, number | BigNumber":r.referToSelf(e=>(r,t)=>deepMap(r,r=>e(r,t),!0)),"SparseMatrix, number | BigNumber":r.referToSelf(e=>(r,t)=>c(r,t,e,!1)),"DenseMatrix, number | BigNumber":r.referToSelf(e=>(r,t)=>p(r,t,e,!1)),"number | Complex | Fraction | BigNumber, Array":r.referToSelf(e=>(r,t)=>p(a(t),r,e,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":r.referToSelf(e=>(r,t)=>o(r,0)?s(t.size(),t.storage()):"dense"===t.storage()?p(t,r,e,!0):l(t,r,e,!0))})}),s7=t(3228),s9="compareNatural",ue=factory_factory(s9,["typed","compare"],e=>{var{typed:r,compare:t}=e,n=t.signatures["boolean,boolean"];return r(s9,{"any, any":function _compareNatural(e,r){var a,o=typeOf(e),s=typeOf(r);if(("number"===o||"BigNumber"===o||"Fraction"===o)&&("number"===s||"BigNumber"===s||"Fraction"===s))return"0"!==(a=t(e,r)).toString()?a>0?1:-1:s7(o,s);var u=["Array","DenseMatrix","SparseMatrix"];if(u.includes(o)||u.includes(s))return 0!==(a=function compareMatricesAndArrays(e,r,t){return isSparseMatrix(r)&&isSparseMatrix(t)?compareArrays(e,r.toJSON().values,t.toJSON().values):isSparseMatrix(r)?compareMatricesAndArrays(e,r.toArray(),t):isSparseMatrix(t)?compareMatricesAndArrays(e,r,t.toArray()):isDenseMatrix(r)?compareMatricesAndArrays(e,r.toJSON().data,t):isDenseMatrix(t)?compareMatricesAndArrays(e,r,t.toJSON().data):Array.isArray(r)?Array.isArray(t)?compareArrays(e,r,t):compareMatricesAndArrays(e,r,[t]):compareMatricesAndArrays(e,[r],t)}(_compareNatural,e,r))?a:s7(o,s);if(o!==s)return s7(o,s);if("Complex"===o)return e.re>r.re?1:e.re<r.re?-1:e.im>r.im?1:e.im<r.im?-1:0;if("Unit"===o)return e.equalBase(r)?_compareNatural(e.value,r.value):compareArrays(_compareNatural,e.formatUnits(),r.formatUnits());if("boolean"===o)return n(e,r);if("string"===o)return s7(e,r);if("Object"===o)return function(e,r,t){var n=Object.keys(r),a=Object.keys(t);n.sort(s7),a.sort(s7);var o=compareArrays(e,n,a);if(0!==o)return o;for(var s=0;s<n.length;s++){var u=e(r[n[s]],t[a[s]]);if(0!==u)return u}return 0}(_compareNatural,e,r);if("null"===o||"undefined"===o)return 0;throw TypeError('Unsupported type of value "'+o+'"')}});function compareArrays(e,r,t){for(var n=0,a=Math.min(r.length,t.length);n<a;n++){var o=e(r[n],t[n]);if(0!==o)return o}return r.length>t.length?1:r.length<t.length?-1:0}}),ur="composition",ut=factory_factory(ur,["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],e=>{var{typed:r,addScalar:t,combinations:n,isPositive:a,isNegative:o,isInteger:s,larger:u}=e;return r(ur,{"number | BigNumber, number | BigNumber":function(e,r){if(s(e)&&a(e)&&s(r)&&a(r)){if(u(r,e))throw TypeError("k must be less than or equal to n in function composition")}else throw TypeError("Positive integer value expected in function composition");return n(t(e,-1),t(r,-1))}})}),un="cross",ui=factory_factory(un,["typed","matrix","subtract","multiply"],e=>{var{typed:r,matrix:t,subtract:n,multiply:a}=e;return r(un,{"Matrix, Matrix":function(e,r){return t(_cross(e.toArray(),r.toArray()))},"Matrix, Array":function(e,r){return t(_cross(e.toArray(),r))},"Array, Matrix":function(e,r){return t(_cross(e,r.toArray()))},"Array, Array":_cross});function _cross(e,r){var t=Math.max(arraySize(e).length,arraySize(r).length);e=squeeze(e),r=squeeze(r);var o=arraySize(e),s=arraySize(r);if(1!==o.length||1!==s.length||3!==o[0]||3!==s[0])throw RangeError("Vectors with length 3 expected (Size A = ["+o.join(", ")+"], B = ["+s.join(", ")+"])");var u=[n(a(e[1],r[2]),a(e[2],r[1])),n(a(e[2],r[0]),a(e[0],r[2])),n(a(e[0],r[1]),a(e[1],r[0]))];return t>1?[u]:u}}),ua=factory_factory("det",["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],e=>{var{typed:r,matrix:t,subtractScalar:n,multiply:a,divideScalar:o,isZero:s,unaryMinus:u}=e;return r("det",{any:function(e){return object_clone(e)},"Array | Matrix":function(e){var r;switch((r=isMatrix(e)?e.size():Array.isArray(e)?(e=t(e)).size():[]).length){case 0:return object_clone(e);case 1:if(1===r[0])return object_clone(e.valueOf()[0]);if(0===r[0])return 1;throw RangeError("Matrix must be square (size: "+string_format(r)+")");case 2:var c=r[0],l=r[1];if(c===l)return function(e,r,t){if(1===r)return object_clone(e[0][0]);if(2===r)return n(a(e[0][0],e[1][1]),a(e[1][0],e[0][1]));for(var c=!1,l=Array(r).fill(0).map((e,r)=>r),p=0;p<r;p++){var m=l[p];if(s(e[m][p])){var h=void 0;for(h=p+1;h<r;h++)if(!s(e[l[h]][p])){m=l[h],l[h]=l[p],l[p]=m,c=!c;break}if(h===r)return e[m][p]}for(var g=e[m][p],y=0===p?1:e[l[p-1]][p-1],v=p+1;v<r;v++)for(var x=l[v],b=p+1;b<r;b++)e[x][b]=o(n(a(e[x][b],g),a(e[x][p],e[m][b])),y)}var N=e[l[r-1]][r-1];return c?u(N):N}(e.clone().valueOf(),c,0);if(0===l)return 1;throw RangeError("Matrix must be square (size: "+string_format(r)+")");default:throw RangeError("Matrix must be two dimensional (size: "+string_format(r)+")")}}})}),uo="dotMultiply",us=factory_factory(uo,["typed","matrix","equalScalar","multiplyScalar","concat"],e=>{var{typed:r,matrix:t,equalScalar:n,multiplyScalar:a,concat:o}=e,s=a9({typed:r,equalScalar:n}),u=o6({typed:r,equalScalar:n}),c=ot({typed:r,equalScalar:n}),l=os({typed:r,matrix:t,concat:o});return r(uo,l({elop:a,SS:u,DS:s,Ss:c}))}),uu=factory_factory("FibonacciHeap",["smaller","larger"],e=>{var{smaller:r,larger:t}=e,n=1/Math.log((1+Math.sqrt(5))/2);function FibonacciHeap(){if(!(this instanceof FibonacciHeap))throw SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function _cut(e,r,t){r.left.right=r.right,r.right.left=r.left,t.degree--,t.child===r&&(t.child=r.right),0===t.degree&&(t.child=null),r.left=e,r.right=e.right,e.right=r,r.right.left=r,r.parent=null,r.mark=!1}FibonacciHeap.prototype.type="FibonacciHeap",FibonacciHeap.prototype.isFibonacciHeap=!0,FibonacciHeap.prototype.insert=function(e,t){var n={key:e,value:t,degree:0};if(this._minimum){var a=this._minimum;n.left=a,n.right=a.right,a.right=n,n.right.left=n,r(e,a.key)&&(this._minimum=n)}else n.left=n,n.right=n,this._minimum=n;return this._size++,n},FibonacciHeap.prototype.size=function(){return this._size},FibonacciHeap.prototype.clear=function(){this._minimum=null,this._size=0},FibonacciHeap.prototype.isEmpty=function(){return 0===this._size},FibonacciHeap.prototype.extractMinimum=function(){var e=this._minimum;if(null===e)return e;for(var a=this._minimum,o=e.degree,s=e.child;o>0;){var u=s.right;s.left.right=s.right,s.right.left=s.left,s.left=a,s.right=a.right,a.right=s,s.right.left=s,s.parent=null,s=u,o--}return e.left.right=e.right,e.right.left=e.left,a=e===e.right?null:function(e,a){var o,s=Math.floor(Math.log(a)*n)+1,u=Array(s),c=0,l=e;if(l)for(c++,l=l.right;l!==e;)c++,l=l.right;for(;c>0;){for(var p=l.degree,m=l.right;o=u[p];){if(t(l.key,o.key)){var h=o;o=l,l=h}_linkNodes(o,l),u[p]=null,p++}u[p]=l,l=m,c--}e=null;for(var g=0;g<s;g++)(o=u[g])&&(e?(o.left.right=o.right,o.right.left=o.left,o.left=e,o.right=e.right,e.right=o,o.right.left=o,r(o.key,e.key)&&(e=o)):e=o);return e}(a=e.right,this._size),this._size--,this._minimum=a,e},FibonacciHeap.prototype.remove=function(e){var t,n;this._minimum=(t=this._minimum,e.key=-1,(n=e.parent)&&r(e.key,n.key)&&(_cut(t,e,n),function _cascadingCut(e,r){var t=r.parent;t&&(r.mark?(_cut(e,r,t),_cascadingCut(t)):r.mark=!0)}(t,n)),r(e.key,t.key)&&(t=e),t),this.extractMinimum()};var _linkNodes=function(e,r){e.left.right=e.right,e.right.left=e.left,e.parent=r,r.child?(e.left=r.child,e.right=r.child.right,r.child.right=e,e.right.left=e):(r.child=e,e.right=e,e.left=e),r.degree++,e.mark=!1};return FibonacciHeap},{isClass:!0}),uc=factory_factory("fix",["typed","ceil","floor"],e=>{var{typed:r,ceil:t,floor:n}=e;return r("fix",{number:function(e){return e>0?n(e):t(e)},"number, number":function(e,r){return e>0?n(e,r):t(e,r)}})}),ul=factory_factory("fix",["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],e=>{var{typed:r,Complex:t,matrix:n,ceil:a,floor:o,equalScalar:s,zeros:u,DenseMatrix:c}=e,l=on({typed:r,DenseMatrix:c}),p=oa({typed:r}),m=uc({typed:r,ceil:a,floor:o});return r("fix",{number:m.signatures.number,"number, number | BigNumber":m.signatures["number,number"],Complex:function(e){return new t(e.re>0?Math.floor(e.re):Math.ceil(e.re),e.im>0?Math.floor(e.im):Math.ceil(e.im))},"Complex, number":function(e,r){return new t(e.re>0?o(e.re,r):a(e.re,r),e.im>0?o(e.im,r):a(e.im,r))},"Complex, BigNumber":function(e,r){var n=r.toNumber();return new t(e.re>0?o(e.re,n):a(e.re,n),e.im>0?o(e.im,n):a(e.im,n))},BigNumber:function(e){return e.isNegative()?a(e):o(e)},"BigNumber, number | BigNumber":function(e,r){return e.isNegative()?a(e,r):o(e,r)},Fraction:function(e){return e.s<0?e.ceil():e.floor()},"Fraction, number | BigNumber":function(e,r){return e.s<0?a(e,r):o(e,r)},"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e,!0)),"Array | Matrix, number | BigNumber":r.referToSelf(e=>(r,t)=>deepMap(r,r=>e(r,t),!0)),"number | Complex | Fraction | BigNumber, Array":r.referToSelf(e=>(r,t)=>p(n(t),r,e,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":r.referToSelf(e=>(r,t)=>s(r,0)?u(t.size(),t.storage()):"dense"===t.storage()?p(t,r,e,!0):l(t,r,e,!0))})}),uf="index",up=factory_factory(uf,["typed","Index"],e=>{var{typed:r,Index:t}=e;return r(uf,{"...number | string | BigNumber | Range | Array | Matrix":function(e){var r=e.map(function(e){return isBigNumber(e)?e.toNumber():a(e)||isMatrix(e)?e.map(function(e){return isBigNumber(e)?e.toNumber():e}):e}),n=new t;return t.apply(n,r),n}})}),um=factory_factory("intersect",["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],e=>{var{typed:r,config:t,abs:n,add:a,addScalar:o,matrix:s,multiply:u,multiplyScalar:c,divideScalar:l,subtract:p,smaller:m,equalScalar:h,flatten:g,isZero:y,isNumeric:v}=e;return r("intersect",{"Array, Array, Array":_AAA,"Array, Array, Array, Array":_AAAA,"Matrix, Matrix, Matrix":function(e,r,t){var n=_AAA(e.valueOf(),r.valueOf(),t.valueOf());return null===n?null:s(n)},"Matrix, Matrix, Matrix, Matrix":function(e,r,t,n){var a=_AAAA(e.valueOf(),r.valueOf(),t.valueOf(),n.valueOf());return null===a?null:s(a)}});function _AAA(e,r,t){var n,a,s,u,m,h,g,y,x,b,N,w,_,D,E,A,C,S;if(e=_coerceArr(e),r=_coerceArr(r),t=_coerceArr(t),!_3d(e))throw TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_3d(r))throw TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!(4===(n=t).length&&v(n[0])&&v(n[1])&&v(n[2])&&v(n[3])))throw TypeError("Array with 4 numbers expected as third argument");return a=e[0],s=e[1],u=e[2],m=r[0],h=r[1],g=r[2],y=t[0],x=t[1],b=t[2],N=t[3],w=c(a,y),_=c(m,y),D=c(s,x),E=c(h,x),A=c(u,b),C=c(g,b),S=l(p(p(p(N,w),D),A),p(p(p(o(o(_,E),C),w),D),A)),[o(a,c(S,p(m,a))),o(s,c(S,p(h,s))),o(u,c(S,p(g,u)))]}function _AAAA(e,r,s,g){if(e=_coerceArr(e),r=_coerceArr(r),s=_coerceArr(s),g=_coerceArr(g),2===e.length){if(!_2d(e))throw TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!_2d(r))throw TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!_2d(s))throw TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!_2d(g))throw TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function(e,r,s,h){var g=p(e,r),v=p(s,h),x=p(c(g[0],v[1]),c(v[0],g[1]));if(y(x)||m(n(x),t.epsilon))return null;var b=c(v[0],e[1]),N=c(v[1],e[0]),w=c(v[0],s[1]),_=c(v[1],s[0]);return a(u(g,l(o(p(p(b,N),w),_),x)),e)}(e,r,s,g)}if(3===e.length){if(!_3d(e))throw TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_3d(r))throw TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!_3d(s))throw TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!_3d(g))throw TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return function(e,r,t,n,a,s,u,m,g,v,x,b){var N=_intersect3dHelper(e,u,v,u,r,m,x,m,t,g,b,g),w=_intersect3dHelper(v,u,n,e,x,m,a,r,b,g,s,t),_=_intersect3dHelper(e,u,n,e,r,m,a,r,t,g,s,t),D=_intersect3dHelper(v,u,v,u,x,m,x,m,b,g,b,g),E=_intersect3dHelper(n,e,n,e,a,r,a,r,s,t,s,t),A=p(c(N,w),c(_,D)),C=p(c(E,D),c(w,w));if(y(C))return null;var S=l(A,C),M=l(o(N,c(S,w)),D),F=o(e,c(S,p(n,e))),T=o(r,c(S,p(a,r))),O=o(t,c(S,p(s,t))),B=o(u,c(M,p(v,u))),k=o(m,c(M,p(x,m))),I=o(g,c(M,p(b,g)));return h(F,B)&&h(T,k)&&h(O,I)?[F,T,O]:null}(e[0],e[1],e[2],r[0],r[1],r[2],s[0],s[1],s[2],g[0],g[1],g[2])}throw TypeError("Arrays with two or thee dimensional points expected")}function _coerceArr(e){return 1===e.length?e[0]:e.length>1&&Array.isArray(e[0])&&e.every(e=>Array.isArray(e)&&1===e.length)?g(e):e}function _2d(e){return 2===e.length&&v(e[0])&&v(e[1])}function _3d(e){return 3===e.length&&v(e[0])&&v(e[1])&&v(e[2])}function _intersect3dHelper(e,r,t,n,a,s,u,l,m,h,g,y){var v=c(p(e,r),p(t,n)),x=c(p(a,s),p(u,l)),b=c(p(m,h),p(g,y));return o(o(v,x),b)}}),uh="invmod",ud=factory_factory(uh,["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],e=>{var{typed:r,config:t,BigNumber:n,xgcd:a,equal:o,smaller:s,mod:u,add:c,isInteger:l}=e;return r(uh,{"number, number":invmod,"BigNumber, BigNumber":invmod});function invmod(e,r){if(!l(e)||!l(r))throw Error("Parameters in function invmod must be integer numbers");if(e=u(e,r),o(r,0))throw Error("Divisor must be non zero");var t=a(e,r),[p,m]=t=t.valueOf();return o(p,n(1))?(s(m=u(m,r),n(0))&&(m=c(m,r)),m):NaN}}),ug=factory_factory("lcm",["typed","matrix","equalScalar","concat"],e=>{var{typed:r,matrix:t,equalScalar:n,concat:a}=e,o=a9({typed:r,equalScalar:n}),s=oI({typed:r,equalScalar:n}),u=ot({typed:r,equalScalar:n}),c=os({typed:r,matrix:t,concat:a}),l="number | BigNumber | Fraction | Matrix | Array",p={};return p["".concat(l,", ").concat(l,", ...").concat(l)]=r.referToSelf(e=>(r,t,n)=>{for(var a=e(r,t),o=0;o<n.length;o++)a=e(a,n[o]);return a}),r("lcm",{"number, number":lcmNumber,"BigNumber, BigNumber":function(e,r){if(!e.isInt()||!r.isInt())throw Error("Parameters in function lcm must be integer numbers");if(e.isZero())return e;if(r.isZero())return r;for(var t=e.times(r);!r.isZero();){var n=r;r=e.mod(n),e=n}return t.div(e).abs()},"Fraction, Fraction":(e,r)=>e.lcm(r)},c({SS:s,DS:o,Ss:u}),p)}),uy="log1p",uv=factory_factory(uy,["typed","config","divideScalar","log","Complex"],e=>{var{typed:r,config:t,divideScalar:n,log:a,Complex:o}=e;return r(uy,{number:function(e){return e>=-1||t.predictable?h(e):_log1pComplex(new o(e,0))},Complex:_log1pComplex,BigNumber:function(e){var r=e.plus(1);return!r.isNegative()||t.predictable?r.ln():_log1pComplex(new o(e.toNumber(),0))},"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e)),"any, any":r.referToSelf(e=>(r,t)=>n(e(r),a(t)))});function _log1pComplex(e){var r=e.re+1;return new o(Math.log(Math.sqrt(r*r+e.im*e.im)),Math.atan2(e.im,r))}}),ux="setCartesian",ub=factory_factory(ux,["typed","size","subset","compareNatural","Index","DenseMatrix"],e=>{var{typed:r,size:t,subset:n,compareNatural:a,Index:o,DenseMatrix:s}=e;return r(ux,{"Array | Matrix, Array | Matrix":function(e,r){var u=[];if(0!==n(t(e),new o(0))&&0!==n(t(r),new o(0))){var c=flatten(Array.isArray(e)?e:e.toArray()).sort(a),l=flatten(Array.isArray(r)?r:r.toArray()).sort(a);u=[];for(var p=0;p<c.length;p++)for(var m=0;m<l.length;m++)u.push([c[p],l[m]])}return Array.isArray(e)&&Array.isArray(r)?u:new s(u)}})}),uN="setDistinct",uw=factory_factory(uN,["typed","size","subset","compareNatural","Index","DenseMatrix"],e=>{var{typed:r,size:t,subset:n,compareNatural:a,Index:o,DenseMatrix:s}=e;return r(uN,{"Array | Matrix":function(e){var r;if(0===n(t(e),new o(0)))r=[];else{var u=flatten(Array.isArray(e)?e:e.toArray()).sort(a);(r=[]).push(u[0]);for(var c=1;c<u.length;c++)0!==a(u[c],u[c-1])&&r.push(u[c])}return Array.isArray(e)?r:new s(r)}})}),u_="setIsSubset",uD=factory_factory(u_,["typed","size","subset","compareNatural","Index"],e=>{var{typed:r,size:t,subset:n,compareNatural:a,Index:o}=e;return r(u_,{"Array | Matrix, Array | Matrix":function(e,r){if(0===n(t(e),new o(0)))return!0;if(0===n(t(r),new o(0)))return!1;for(var s,u=identify(flatten(Array.isArray(e)?e:e.toArray()).sort(a)),c=identify(flatten(Array.isArray(r)?r:r.toArray()).sort(a)),l=0;l<u.length;l++){s=!1;for(var p=0;p<c.length;p++)if(0===a(u[l].value,c[p].value)&&u[l].identifier===c[p].identifier){s=!0;break}if(!1===s)return!1}return!0}})}),uE="setPowerset",uA=factory_factory(uE,["typed","size","subset","compareNatural","Index"],e=>{var{typed:r,size:t,subset:n,compareNatural:a,Index:o}=e;return r(uE,{"Array | Matrix":function(e){if(0===n(t(e),new o(0)))return[];for(var r=flatten(Array.isArray(e)?e:e.toArray()).sort(a),s=[],u=0;u.toString(2).length<=r.length;)s.push(function(e,r){for(var t=[],n=0;n<r.length;n++)"1"===r[n]&&t.push(e[n]);return t}(r,u.toString(2).split("").reverse())),u++;return function(e){for(var r=[],t=e.length-1;t>0;t--)for(var n=0;n<t;n++)e[n].length>e[n+1].length&&(r=e[n],e[n]=e[n+1],e[n+1]=r);return e}(s)}})}),uC="smallerEq",uS=factory_factory(uC,["typed","config","matrix","DenseMatrix","concat"],e=>{var{typed:r,config:t,matrix:n,DenseMatrix:a,concat:o}=e,s=oe({typed:r}),u=or({typed:r,DenseMatrix:a}),c=on({typed:r,DenseMatrix:a}),l=os({typed:r,matrix:n,concat:o}),p=nK({typed:r});return r(uC,uM({typed:r,config:t}),{"boolean, boolean":(e,r)=>e<=r,"BigNumber, BigNumber":function(e,r){return e.lte(r)||nearlyEqual_nearlyEqual(e,r,t.epsilon)},"Fraction, Fraction":(e,r)=>1!==e.compare(r),"Complex, Complex":function(){throw TypeError("No ordering relation is defined for complex numbers")}},p,l({SS:u,DS:s,Ss:c}))}),uM=factory_factory(uC,["typed","config"],e=>{var{typed:r,config:t}=e;return r(uC,{"number, number":function(e,r){return e<=r||nearlyEqual(e,r,t.epsilon)}})}),uF="sort",uT=factory_factory(uF,["typed","matrix","compare","compareNatural"],e=>{var{typed:r,matrix:t,compare:n,compareNatural:a}=e,compareDesc=(e,r)=>-n(e,r);return r(uF,{Array:function(e){return _arrayIsVector(e),e.sort(n)},Matrix:function(e){return _matrixIsVector(e),t(e.toArray().sort(n),e.storage())},"Array, function":function(e,r){return _arrayIsVector(e),e.sort(r)},"Matrix, function":function(e,r){return _matrixIsVector(e),t(e.toArray().sort(r),e.storage())},"Array, string":function(e,r){return _arrayIsVector(e),e.sort(_comparator(r))},"Matrix, string":function(e,r){return _matrixIsVector(e),t(e.toArray().sort(_comparator(r)),e.storage())}});function _comparator(e){if("asc"===e)return n;if("desc"===e)return compareDesc;if("natural"===e)return a;throw Error('String "asc", "desc", or "natural" expected')}function _arrayIsVector(e){if(1!==arraySize(e).length)throw Error("One dimensional array expected")}function _matrixIsVector(e){if(1!==e.size().length)throw Error("One dimensional matrix expected")}}),uO=factory_factory("and",["typed","matrix","equalScalar","zeros","not","concat"],e=>{var{typed:r,matrix:t,equalScalar:n,zeros:a,not:o,concat:s}=e,u=a9({typed:r,equalScalar:n}),c=oI({typed:r,equalScalar:n}),l=ot({typed:r,equalScalar:n}),p=oa({typed:r}),m=os({typed:r,matrix:t,concat:s});return r("and",{"number, number":andNumber,"Complex, Complex":function(e,r){return(0!==e.re||0!==e.im)&&(0!==r.re||0!==r.im)},"BigNumber, BigNumber":function(e,r){return!e.isZero()&&!r.isZero()&&!e.isNaN()&&!r.isNaN()},"Unit, Unit":r.referToSelf(e=>(r,t)=>e(r.value||0,t.value||0)),"SparseMatrix, any":r.referToSelf(e=>(r,t)=>o(t)?a(r.size(),r.storage()):l(r,t,e,!1)),"DenseMatrix, any":r.referToSelf(e=>(r,t)=>o(t)?a(r.size(),r.storage()):p(r,t,e,!1)),"any, SparseMatrix":r.referToSelf(e=>(r,t)=>o(r)?a(r.size(),r.storage()):l(t,r,e,!0)),"any, DenseMatrix":r.referToSelf(e=>(r,t)=>o(r)?a(r.size(),r.storage()):p(t,r,e,!0)),"Array, any":r.referToSelf(e=>(r,n)=>e(t(r),n).valueOf()),"any, Array":r.referToSelf(e=>(r,n)=>e(r,t(n)).valueOf())},m({SS:c,DS:u}))}),uB="setDifference",uk=factory_factory(uB,["typed","size","subset","compareNatural","Index","DenseMatrix"],e=>{var{typed:r,size:t,subset:n,compareNatural:a,Index:o,DenseMatrix:s}=e;return r(uB,{"Array | Matrix, Array | Matrix":function(e,r){var u;if(0===n(t(e),new o(0)))u=[];else{if(0===n(t(r),new o(0)))return flatten(e.toArray());var c,l=identify(flatten(Array.isArray(e)?e:e.toArray()).sort(a)),p=identify(flatten(Array.isArray(r)?r:r.toArray()).sort(a));u=[];for(var m=0;m<l.length;m++){c=!1;for(var h=0;h<p.length;h++)if(0===a(l[m].value,p[h].value)&&l[m].identifier===p[h].identifier){c=!0;break}c||u.push(l[m])}}return Array.isArray(e)&&Array.isArray(r)?generalize(u):new s(generalize(u))}})}),uI="setMultiplicity",uP=factory_factory(uI,["typed","size","subset","compareNatural","Index"],e=>{var{typed:r,size:t,subset:n,compareNatural:a,Index:o}=e;return r(uI,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(e,r){if(0===n(t(r),new o(0)))return 0;for(var s=flatten(Array.isArray(r)?r:r.toArray()),u=0,c=0;c<s.length;c++)0===a(s[c],e)&&u++;return u}})}),uz="setSymDifference",uR=factory_factory(uz,["typed","size","concat","subset","setDifference","Index"],e=>{var{typed:r,size:t,concat:n,subset:a,setDifference:o,Index:s}=e;return r(uz,{"Array | Matrix, Array | Matrix":function(e,r){if(0===a(t(e),new s(0)))return flatten(r);if(0===a(t(r),new s(0)))return flatten(e);var u=flatten(e),c=flatten(r);return n(o(u,c),o(c,u))}})}),uq=factory_factory("Spa",["addScalar","equalScalar","FibonacciHeap"],e=>{var{addScalar:r,equalScalar:t,FibonacciHeap:n}=e;function Spa(){if(!(this instanceof Spa))throw SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return Spa.prototype.type="Spa",Spa.prototype.isSpa=!0,Spa.prototype.set=function(e,r){if(this._values[e])this._values[e].value=r;else{var t=this._heap.insert(e,r);this._values[e]=t}},Spa.prototype.get=function(e){var r=this._values[e];return r?r.value:0},Spa.prototype.accumulate=function(e,t){var n=this._values[e];n?n.value=r(n.value,t):(n=this._heap.insert(e,t),this._values[e]=n)},Spa.prototype.forEach=function(e,r,n){var a=this._heap,o=this._values,s=[],u=a.extractMinimum();for(u&&s.push(u);u&&u.key<=r;)u.key>=e&&!t(u.value,0)&&n(u.key,u.value,this),(u=a.extractMinimum())&&s.push(u);for(var c=0;c<s.length;c++){var l=s[c];o[(u=a.insert(l.key,l.value)).key]=u}},Spa.prototype.swap=function(e,r){var t=this._values[e],n=this._values[r];if(!t&&n)t=this._heap.insert(e,n.value),this._heap.remove(n),this._values[e]=t,this._values[r]=void 0;else if(t&&!n)n=this._heap.insert(r,t.value),this._heap.remove(t),this._values[r]=n,this._values[e]=void 0;else if(t&&n){var a=t.value;t.value=n.value,n.value=a}},Spa},{isClass:!0}),uj=factory_factory("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],e=>{var{typed:r,matrix:t,divideScalar:n,addScalar:a,multiply:o,unaryMinus:s,det:u,identity:c,abs:l}=e;return r("inv",{"Array | Matrix":function(e){var r=isMatrix(e)?e.size():arraySize(e);switch(r.length){case 1:if(1===r[0]){if(isMatrix(e))return t([n(1,e.valueOf()[0])]);return[n(1,e[0])]}throw RangeError("Matrix must be square (size: "+string_format(r)+")");case 2:var a=r[0],o=r[1];if(a===o){if(isMatrix(e))return t(_inv(e.valueOf(),a,o),e.storage());return _inv(e,a,o)}throw RangeError("Matrix must be square (size: "+string_format(r)+")");default:throw RangeError("Matrix must be two dimensional (size: "+string_format(r)+")")}},any:function(e){return n(1,e)}});function _inv(e,r,t){if(1===r){if(0===(g=e[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,g)]]}if(2===r){var p,m,h,g,y,v=u(e);if(0===v)throw Error("Cannot calculate inverse, determinant is zero");return[[n(e[1][1],v),n(s(e[0][1]),v)],[n(s(e[1][0]),v),n(e[0][0],v)]]}var x=e.concat();for(p=0;p<r;p++)x[p]=x[p].concat();for(var b=c(r).valueOf(),N=0;N<t;N++){var w=l(x[N][N]),_=N;for(p=N+1;p<r;)l(x[p][N])>w&&(w=l(x[p][N]),_=p),p++;if(0===w)throw Error("Cannot calculate inverse, determinant is zero");(p=_)!==N&&(y=x[N],x[N]=x[p],x[p]=y,y=b[N],b[N]=b[p],b[p]=y);var D=x[N],E=b[N];for(p=0;p<r;p++){var A=x[p],C=b[p];if(p!==N){if(0!==A[N]){for(h=n(s(A[N]),D[N]),m=N;m<t;m++)A[m]=a(A[m],o(h,D[m]));for(m=0;m<t;m++)C[m]=a(C[m],o(h,E[m]))}}else{for(h=D[N],m=N;m<t;m++)A[m]=n(A[m],h);for(m=0;m<t;m++)C[m]=n(C[m],h)}}}return b}}),uU=factory_factory("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],e=>{var{typed:r,matrix:t,abs:n,addScalar:a,divideScalar:o,multiplyScalar:s,subtractScalar:u,larger:c,equalScalar:l,unaryMinus:p,DenseMatrix:m,SparseMatrix:h,Spa:g}=e;return r("lup",{DenseMatrix:function(e){return _denseLUP(e)},SparseMatrix:function(e){return function(e){var r,t,a,u=e._size[0],m=e._size[1],y=Math.min(u,m),v=e._values,x=e._index,b=e._ptr,N=[],w=[],_=[],D=[u,y],E=[],A=[],C=[],S=[y,m],M=[],F=[];for(r=0;r<u;r++)M[r]=r,F[r]=r;var swapIndeces=function(e,r){var t=F[e],n=F[r];M[t]=r,M[n]=e,F[e]=n,F[r]=t};for(t=0;t<m;t++)!function(){var e=new g;t<u&&(_.push(N.length),N.push(1),w.push(t)),C.push(E.length);var m=b[t],y=b[t+1];for(a=m;a<y;a++)r=x[a],e.set(M[r],v[a]);t>0&&e.forEach(0,t-1,function(r,t){h._forEachRow(r,N,w,_,function(n,a){n>r&&e.accumulate(n,p(s(a,t)))})});var F=t,T=e.get(t),O=n(T);e.forEach(t+1,u-1,function(e,r){var t=n(r);c(t,O)&&(F=e,O=t,T=r)}),t!==F&&(h._swapRows(t,F,D[1],N,w,_),h._swapRows(t,F,S[1],E,A,C),e.swap(t,F),swapIndeces(t,F)),e.forEach(0,u-1,function(e,r){e<=t?(E.push(r),A.push(e)):l(r=o(r,T),0)||(N.push(r),w.push(e))})}();return C.push(E.length),_.push(N.length),{L:new h({values:N,index:w,ptr:_,size:D}),U:new h({values:E,index:A,ptr:C,size:S}),p:M,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(e)},Array:function(e){var r=_denseLUP(t(e));return{L:r.L.valueOf(),U:r.U.valueOf(),p:r.p}}});function _denseLUP(e){var r,t,p,h=e._size[0],g=e._size[1],y=Math.min(h,g),v=object_clone(e._data),x=[],b=[h,y],N=[],w=[y,g],_=[];for(r=0;r<h;r++)_[r]=r;for(t=0;t<g;t++){if(t>0)for(r=0;r<h;r++){var D=Math.min(r,t),E=0;for(p=0;p<D;p++)E=a(E,s(v[r][p],v[p][t]));v[r][t]=u(v[r][t],E)}var A=t,C=0,S=0;for(r=t;r<h;r++){var M=v[r][t],F=n(M);c(F,C)&&(A=r,C=F,S=M)}if(t!==A&&(_[t]=[_[A],_[A]=_[t]][0],m._swapRows(t,A,v)),t<h)for(r=t+1;r<h;r++)l(v[r][t],0)||(v[r][t]=o(v[r][t],S))}for(t=0;t<g;t++)for(r=0;r<h;r++){if(0===t&&(r<g&&(N[r]=[]),x[r]=[]),r<t){r<g&&(N[r][t]=v[r][t]),t<h&&(x[r][t]=0);continue}if(r===t){r<g&&(N[r][t]=v[r][t]),t<h&&(x[r][t]=1);continue}r<g&&(N[r][t]=0),t<h&&(x[r][t]=v[r][t])}var T=new m({data:x,size:b}),O=new m({data:N,size:w}),B=[];for(r=0,y=_.length;r<y;r++)B[_[r]]=r;return{L:T,U:O,p:B,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}),uL="pinv",uH=factory_factory(uL,["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],e=>{var{typed:r,matrix:t,inv:n,deepEqual:a,equal:o,dotDivide:s,dot:u,ctranspose:c,divideScalar:l,multiply:p,add:m,Complex:h}=e;return r(uL,{"Array | Matrix":function(e){var r=isMatrix(e)?e.size():arraySize(e);switch(r.length){case 1:if(_isZeros(e))return c(e);if(1===r[0])return n(e);return s(c(e),u(e,e));case 2:if(_isZeros(e))return c(e);var a=r[0],o=r[1];if(a===o)try{return n(e)}catch(e){if(e instanceof Error&&e.message.match(/Cannot calculate inverse, determinant is zero/));else throw e}if(isMatrix(e))return t(_pinv(e.valueOf(),a,o),e.storage());return _pinv(e,a,o);default:throw RangeError("Matrix must be two dimensional (size: "+string_format(r)+")")}},any:function(e){return o(e,0)?object_clone(e):l(1,e)}});function _pinv(e,r,t){var a,{C:o,F:l}=(a=function(e,r,t){for(var n=object_clone(e),a=0,o=0;o<r&&!(t<=a);o++){for(var u=o;_isZero(n[u][a]);)if(r===++u&&(u=o,t===++a))return n;[n[u],n[o]]=[n[o],n[u]];for(var c=n[o][a],l=0;l<t;l++)n[o][l]=s(n[o][l],c);for(var h=0;h<r;h++)if(h!==o){c=n[h][a];for(var g=0;g<t;g++)n[h][g]=m(n[h][g],p(-1,p(c,n[o][g])))}a++}return n}(e,r,t),{C:e.map((e,t)=>e.filter((e,t)=>t<r&&!_isZero(u(a[t],a[t])))),F:a.filter((e,r)=>!_isZero(u(a[r],a[r])))}),h=p(n(p(c(o),o)),c(o)),g=p(c(l),n(p(l,c(l))));return p(g,h)}function _isZero(e){return o(m(e,h(1,1)),m(0,h(1,1)))}function _isZeros(e){return a(m(e,h(1,1)),m(p(e,0),h(1,1)))}}),u$=factory_factory("pow",["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],e=>{var{typed:r,config:t,identity:n,multiply:a,matrix:o,inv:s,number:u,fraction:c,Complex:l}=e;return r("pow",{"number, number":_pow,"Complex, Complex":function(e,r){return e.pow(r)},"BigNumber, BigNumber":function(e,r){return r.isInteger()||e>=0||t.predictable?e.pow(r):new l(e.toNumber(),0).pow(r.toNumber(),0)},"Fraction, Fraction":function(e,r){var n=e.pow(r);if(null!=n)return n;if(!t.predictable)return _pow(e.valueOf(),r.valueOf());throw Error("Result of pow is non-rational and cannot be expressed as a fraction")},"Array, number":_powArray,"Array, BigNumber":function(e,r){return _powArray(e,r.toNumber())},"Matrix, number":_powMatrix,"Matrix, BigNumber":function(e,r){return _powMatrix(e,r.toNumber())},"Unit, number | BigNumber":function(e,r){return e.pow(r)}});function _pow(e,r){if(t.predictable&&!isInteger(r)&&e<0)try{var n=c(r),a=u(n);if((r===a||1e-14>Math.abs((r-a)/r))&&n.d%2==1)return(n.n%2==0?1:-1)*Math.pow(-e,r)}catch(e){}return t.predictable&&(e<-1&&r===1/0||e>-1&&e<0&&r===-1/0)?NaN:isInteger(r)||e>=0||t.predictable?powNumber(e,r):e*e<1&&r===1/0||e*e>1&&r===-1/0?0:new l(e,0).pow(r,0)}function _powArray(e,r){if(!isInteger(r))throw TypeError("For A^b, b must be an integer (value is "+r+")");var t=arraySize(e);if(2!==t.length)throw Error("For A^b, A must be 2 dimensional (A has "+t.length+" dimensions)");if(t[0]!==t[1])throw Error("For A^b, A must be square (size is "+t[0]+"x"+t[1]+")");if(r<0)try{return _powArray(s(e),-r)}catch(e){if("Cannot calculate inverse, determinant is zero"===e.message)throw TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+r+")");throw e}for(var o=n(t[0]).valueOf(),u=e;r>=1;)(1&r)==1&&(o=a(u,o)),r>>=1,u=a(u,u);return o}function _powMatrix(e,r){return o(_powArray(e.valueOf(),r))}}),uV="setIntersect",uZ=factory_factory(uV,["typed","size","subset","compareNatural","Index","DenseMatrix"],e=>{var{typed:r,size:t,subset:n,compareNatural:a,Index:o,DenseMatrix:s}=e;return r(uV,{"Array | Matrix, Array | Matrix":function(e,r){var u;if(0===n(t(e),new o(0))||0===n(t(r),new o(0)))u=[];else{var c=identify(flatten(Array.isArray(e)?e:e.toArray()).sort(a)),l=identify(flatten(Array.isArray(r)?r:r.toArray()).sort(a));u=[];for(var p=0;p<c.length;p++)for(var m=0;m<l.length;m++)if(0===a(c[p].value,l[m].value)&&c[p].identifier===l[m].identifier){u.push(c[p]);break}}return Array.isArray(e)&&Array.isArray(r)?generalize(u):new s(generalize(u))}})}),uG="setUnion",uW=factory_factory(uG,["typed","size","concat","subset","setIntersect","setSymDifference","Index"],e=>{var{typed:r,size:t,concat:n,subset:a,setIntersect:o,setSymDifference:s,Index:u}=e;return r(uG,{"Array | Matrix, Array | Matrix":function(e,r){if(0===a(t(e),new u(0)))return flatten(r);if(0===a(t(r),new u(0)))return flatten(e);var c=flatten(e),l=flatten(r);return n(s(c,l),o(c,l))}})}),uY="sqrtm",uX=factory_factory(uY,["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],e=>{var{typed:r,abs:t,add:n,multiply:a,map:o,sqrt:s,subtract:u,inv:c,size:l,max:p,identity:m}=e;return r(uY,{"Array | Matrix":function(e){var r=isMatrix(e)?e.size():arraySize(e);switch(r.length){case 1:if(1===r[0])return o(e,s);throw RangeError("Matrix must be square (size: "+string_format(r)+")");case 2:if(r[0]===r[1])return function(e){var r,o=0,s=e,h=m(l(e));do{var g=s;if(s=a(.5,n(g,c(h))),h=a(.5,n(h,c(g))),(r=p(t(u(s,g))))>1e-6&&++o>1e3)throw Error("computing square root of matrix: iterative method could not converge")}while(r>1e-6);return s}(e);throw RangeError("Matrix must be square (size: "+string_format(r)+")");default:throw RangeError("Matrix must be at most two dimensional (size: "+string_format(r)+")")}}})});function Unit_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function Unit_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Unit_ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Unit_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var uJ=factory_factory("Unit",["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],e=>{var r,t,n,{on:a,config:o,addScalar:s,subtractScalar:u,multiplyScalar:c,divideScalar:l,pow:p,abs:m,fix:h,round:g,equal:y,isNumeric:v,format:x,number:b,Complex:N,BigNumber:w,Fraction:_}=e;function Unit(e,r){if(!(this instanceof Unit))throw Error("Constructor must be called with the new operator");if(!(null==e||v(e)||isComplex(e)))throw TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,void 0===r)this.units=[],this.dimensions=A.map(e=>0);else if("string"==typeof r){var t=Unit.parse(r);this.units=t.units,this.dimensions=t.dimensions}else if(isUnit(r)&&null===r.value)this.fixPrefix=r.fixPrefix,this.skipAutomaticSimplification=r.skipAutomaticSimplification,this.dimensions=r.dimensions.slice(0),this.units=r.units.map(e=>_extends({},e));else throw TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(e)}function skipWhitespace(){for(;" "===n||"	"===n;)next()}function isDigit(e){return e>="0"&&e<="9"}function next(){t++,n=r.charAt(t)}function revert(e){t=e,n=r.charAt(t)}function parseNumber(){var e,r="",a=t;if("+"===n?next():"-"===n&&(r+=n,next()),!((e=n)>="0"&&e<="9"||"."===e))return revert(a),null;if("."===n){if(r+=n,next(),!isDigit(n))return revert(a),null}else{for(;isDigit(n);)r+=n,next();"."===n&&(r+=n,next())}for(;isDigit(n);)r+=n,next();if("E"===n||"e"===n){var o="",s=t;if(o+=n,next(),("+"===n||"-"===n)&&(o+=n,next()),!isDigit(n))return revert(s),r;for(r+=o;isDigit(n);)r+=n,next()}return r}function parseCharacter(e){return n===e?(next(),e):null}Object.defineProperty(Unit,"name",{value:"Unit"}),Unit.prototype.constructor=Unit,Unit.prototype.type="Unit",Unit.prototype.isUnit=!0,Unit.parse=function(e,a){if(a=a||{},t=-1,n="","string"!=typeof(r=e))throw TypeError("Invalid argument in Unit.parse, string expected");var s=new Unit;s.units=[];var u=1,c=!1;next(),skipWhitespace();var l=parseNumber(),p=null;if(l){if("BigNumber"===o.number)p=new w(l);else if("Fraction"===o.number)try{p=new _(l)}catch(e){p=parseFloat(l)}else p=parseFloat(l);skipWhitespace(),parseCharacter("*")?(u=1,c=!0):parseCharacter("/")&&(u=-1,c=!0)}for(var m=[],h=1;;){for(skipWhitespace();"("===n;)m.push(u),h*=u,u=1,next(),skipWhitespace();var g=void 0;if(n){var y=n;if(null===(g=function(){for(var e="";isDigit(n)||Unit.isValidAlpha(n);)e+=n,next();var r=e.charAt(0);return Unit.isValidAlpha(r)?e:null}()))throw SyntaxError('Unexpected "'+y+'" in "'+r+'" at index '+t.toString())}else break;var v=D(g);if(null===v)throw SyntaxError('Unit "'+g+'" not found.');var x=u*h;if(skipWhitespace(),parseCharacter("^")){skipWhitespace();var b=parseNumber();if(null===b)throw SyntaxError('In "'+e+'", "^" must be followed by a floating-point number');x*=b}s.units.push({unit:v.unit,prefix:v.prefix,power:x});for(var N=0;N<A.length;N++)s.dimensions[N]+=(v.unit.dimensions[N]||0)*x;for(skipWhitespace();")"===n;){if(0===m.length)throw SyntaxError('Unmatched ")" in "'+r+'" at index '+t.toString());h/=m.pop(),next(),skipWhitespace()}if(c=!1,parseCharacter("*")?(u=1,c=!0):parseCharacter("/")?(u=-1,c=!0):u=1,v.unit.base){var E=v.unit.base.key;O.auto[E]={unit:v.unit,prefix:v.prefix}}}if(skipWhitespace(),n)throw SyntaxError('Could not parse: "'+e+'"');if(c)throw SyntaxError('Trailing characters: "'+e+'"');if(0!==m.length)throw SyntaxError('Unmatched "(" in "'+r+'"');if(0===s.units.length&&!a.allowNoUnits)throw SyntaxError('"'+e+'" contains no units');return s.value=void 0!==p?s._normalize(p):null,s},Unit.prototype.clone=function(){var e=new Unit;e.fixPrefix=this.fixPrefix,e.skipAutomaticSimplification=this.skipAutomaticSimplification,e.value=object_clone(this.value),e.dimensions=this.dimensions.slice(0),e.units=[];for(var r=0;r<this.units.length;r++)for(var t in e.units[r]={},this.units[r])object_hasOwnProperty(this.units[r],t)&&(e.units[r][t]=this.units[r][t]);return e},Unit.prototype.valueType=function(){return typeOf(this.value)},Unit.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},Unit.prototype._normalize=function(e){if(null==e||0===this.units.length)return e;for(var r=e,t=Unit._getNumberConverter(typeOf(e)),n=0;n<this.units.length;n++){var a=t(this.units[n].unit.value),o=t(this.units[n].prefix.value),s=t(this.units[n].power);r=c(r,p(c(a,o),s))}return r},Unit.prototype._denormalize=function(e,r){if(null==e||0===this.units.length)return e;for(var t=e,n=Unit._getNumberConverter(typeOf(e)),a=0;a<this.units.length;a++){var o=n(this.units[a].unit.value),s=n(this.units[a].prefix.value),u=n(this.units[a].power);t=l(t,p(c(o,s),u))}return t};var D=memoize(e=>{if(object_hasOwnProperty(F,e)){var r=F[e];return{unit:r,prefix:r.prefixes[""]}}for(var t in F)if(object_hasOwnProperty(F,t)&&function(e,r){var t=e.length-r.length,n=e.length;return e.substring(t,n)===r}(e,t)){var n=F[t],a=e.length-t.length,o=e.substring(0,a),s=object_hasOwnProperty(n.prefixes,o)?n.prefixes[o]:void 0;if(void 0!==s)return{unit:n,prefix:s}}return null},{hasher:e=>e[0],limit:100});function getNumericIfUnitless(e){return e.equalBase(C.NONE)&&null!==e.value&&!o.predictable?e.value:e}Unit.isValuelessUnit=function(e){return null!==D(e)},Unit.prototype.hasBase=function(e){if("string"==typeof e&&(e=C[e]),!e)return!1;for(var r=0;r<A.length;r++)if(Math.abs((this.dimensions[r]||0)-(e.dimensions[r]||0))>1e-12)return!1;return!0},Unit.prototype.equalBase=function(e){for(var r=0;r<A.length;r++)if(Math.abs((this.dimensions[r]||0)-(e.dimensions[r]||0))>1e-12)return!1;return!0},Unit.prototype.equals=function(e){return this.equalBase(e)&&y(this.value,e.value)},Unit.prototype.multiply=function(e){for(var r=this.clone(),t=isUnit(e)?e:new Unit(e),n=0;n<A.length;n++)r.dimensions[n]=(this.dimensions[n]||0)+(t.dimensions[n]||0);for(var a=0;a<t.units.length;a++){var o=Unit_objectSpread({},t.units[a]);r.units.push(o)}if(null!==this.value||null!==t.value){var s=null===this.value?this._normalize(1):this.value,u=null===t.value?t._normalize(1):t.value;r.value=c(s,u)}else r.value=null;return isUnit(e)&&(r.skipAutomaticSimplification=!1),getNumericIfUnitless(r)},Unit.prototype.divideInto=function(e){return new Unit(e).divide(this)},Unit.prototype.divide=function(e){for(var r=this.clone(),t=isUnit(e)?e:new Unit(e),n=0;n<A.length;n++)r.dimensions[n]=(this.dimensions[n]||0)-(t.dimensions[n]||0);for(var a=0;a<t.units.length;a++){var o=Unit_objectSpread(Unit_objectSpread({},t.units[a]),{},{power:-t.units[a].power});r.units.push(o)}if(null!==this.value||null!==t.value){var s=null===this.value?this._normalize(1):this.value,u=null===t.value?t._normalize(1):t.value;r.value=l(s,u)}else r.value=null;return isUnit(e)&&(r.skipAutomaticSimplification=!1),getNumericIfUnitless(r)},Unit.prototype.pow=function(e){for(var r=this.clone(),t=0;t<A.length;t++)r.dimensions[t]=(this.dimensions[t]||0)*e;for(var n=0;n<r.units.length;n++)r.units[n].power*=e;return null!==r.value?r.value=p(r.value,e):r.value=null,r.skipAutomaticSimplification=!1,getNumericIfUnitless(r)},Unit.prototype.abs=function(){var e=this.clone();if(null!==e.value){if(e._isDerived()||0===e.units[0].unit.offset)e.value=m(e.value);else{var r=e._numberConverter(),t=c(r(e.units[0].unit.value),r(e.units[0].unit.offset));e.value=u(m(s(e.value,t)),t)}}for(var n in e.units)("VA"===e.units[n].unit.name||"VAR"===e.units[n].unit.name)&&(e.units[n].unit=F.W);return e},Unit.prototype.to=function(e){var r,t=null===this.value?this._normalize(1):this.value;if("string"==typeof e)r=Unit.parse(e);else if(isUnit(e))r=e.clone();else throw Error("String or Unit expected as parameter");if(!this.equalBase(r))throw Error("Units do not match ('".concat(r.toString(),"' != '").concat(this.toString(),"')"));if(null!==r.value)throw Error("Cannot convert to a unit with a value");if(null===this.value||this._isDerived()||this.units[0].unit.offset===r.units[0].unit.offset)r.value=object_clone(t);else{var n=Unit._getNumberConverter(typeOf(t)),a=c(this.units[0].unit.value,this.units[0].unit.offset),o=c(r.units[0].unit.value,r.units[0].unit.offset);r.value=s(t,n(u(a,o)))}return r.fixPrefix=!0,r.skipAutomaticSimplification=!0,r},Unit.prototype.toNumber=function(e){return b(this.toNumeric(e))},Unit.prototype.toNumeric=function(e){var r;return(r=e?this.to(e):this.clone())._isDerived()||0===r.units.length?r._denormalize(r.value):r._denormalize(r.value,r.units[0].prefix.value)},Unit.prototype.toString=function(){return this.format()},Unit.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},Unit.fromJSON=function(e){var r=new Unit(e.value,e.unit);return r.fixPrefix=e.fixPrefix||!1,r},Unit.prototype.valueOf=Unit.prototype.toString,Unit.prototype.simplify=function(){var e,r,t=this.clone(),n=[];for(var a in B)if(object_hasOwnProperty(B,a)&&t.hasBase(C[a])){e=a;break}if("NONE"===e)t.units=[];else if(e&&object_hasOwnProperty(B,e)&&(r=B[e]),r)t.units=[{unit:r.unit,prefix:r.prefix,power:1}];else{for(var o=!1,s=0;s<A.length;s++){var u=A[s];Math.abs(t.dimensions[s]||0)>1e-12&&(object_hasOwnProperty(B,u)?n.push({unit:B[u].unit,prefix:B[u].prefix,power:t.dimensions[s]||0}):o=!0)}n.length<t.units.length&&!o&&(t.units=n)}return t},Unit.prototype.toSI=function(){for(var e=this.clone(),r=[],t=0;t<A.length;t++){var n=A[t];if(Math.abs(e.dimensions[t]||0)>1e-12){if(object_hasOwnProperty(O.si,n))r.push({unit:O.si[n].unit,prefix:O.si[n].prefix,power:e.dimensions[t]||0});else throw Error("Cannot express custom unit "+n+" in SI units")}}return e.units=r,e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e},Unit.prototype.formatUnits=function(){for(var e="",r="",t=0,n=0,a=0;a<this.units.length;a++)this.units[a].power>0?(t++,e+=" "+this.units[a].prefix.name+this.units[a].unit.name,Math.abs(this.units[a].power-1)>1e-15&&(e+="^"+this.units[a].power)):this.units[a].power<0&&n++;if(n>0)for(var o=0;o<this.units.length;o++)this.units[o].power<0&&(t>0?(r+=" "+this.units[o].prefix.name+this.units[o].unit.name,Math.abs(this.units[o].power+1)>1e-15&&(r+="^"+-this.units[o].power)):r+=" "+this.units[o].prefix.name+this.units[o].unit.name+"^"+this.units[o].power);e=e.substr(1),r=r.substr(1),t>1&&n>0&&(e="("+e+")"),n>1&&t>0&&(r="("+r+")");var s=e;return t>0&&n>0&&(s+=" / "),s+=r},Unit.prototype.format=function(e){var r=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),t=!1;for(var n in void 0!==r.value&&null!==r.value&&isComplex(r.value)&&(t=1e-14>Math.abs(r.value.re)),r.units)object_hasOwnProperty(r.units,n)&&r.units[n].unit&&("VA"===r.units[n].unit.name&&t?r.units[n].unit=F.VAR:"VAR"!==r.units[n].unit.name||t||(r.units[n].unit=F.VA));1===r.units.length&&!r.fixPrefix&&1e-14>Math.abs(r.units[0].power-Math.round(r.units[0].power))&&(r.units[0].prefix=r._bestPrefix());var a=r._denormalize(r.value),o=null!==r.value?x(a,e||{}):"",s=r.formatUnits();return r.value&&isComplex(r.value)&&(o="("+o+")"),s.length>0&&o.length>0&&(o+=" "),o+=s},Unit.prototype._bestPrefix=function(){if(1!==this.units.length||Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var e=null!==this.value?m(this.value):0,r=m(this.units[0].unit.value),t=this.units[0].prefix;if(0===e)return t;var n=this.units[0].power,a=Math.log(e/Math.pow(t.value*r,n))/Math.LN10-1.2;if(a>-2.200001&&a<1.800001)return t;a=Math.abs(a);var o=this.units[0].unit.prefixes;for(var s in o)if(object_hasOwnProperty(o,s)){var u=o[s];if(u.scientific){var c=Math.abs(Math.log(e/Math.pow(u.value*r,n))/Math.LN10-1.2);(c<a||c===a&&u.name.length<t.name.length)&&(t=u,a=c)}}return t},Unit.prototype.splitUnit=function(e){for(var r=this.clone(),t=[],n=0;n<e.length&&(r=r.to(e[n]),n!==e.length-1);n++){var a=r.toNumeric(),o=g(a),c=void 0;c=y(o,a)?o:h(r.toNumeric());var l=new Unit(c,e[n].toString());t.push(l),r=u(r,l)}for(var p=0,m=0;m<t.length;m++)p=s(p,t[m].value);return y(p,this.value)&&(r.value=0),t.push(r),t};var E={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:1048576,scientific:!0},Gi:{name:"Gi",value:1073741824,scientific:!0},Ti:{name:"Ti",value:1099511627776,scientific:!0},Pi:{name:"Pi",value:0x4000000000000,scientific:!0},Ei:{name:"Ei",value:0x1000000000000000,scientific:!0},Zi:{name:"Zi",value:11805916207174113e5,scientific:!0},Yi:{name:"Yi",value:12089258196146292e8,scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:1048576,scientific:!0},gibi:{name:"gibi",value:1073741824,scientific:!0},tebi:{name:"tebi",value:1099511627776,scientific:!0},pebi:{name:"pebi",value:0x4000000000000,scientific:!0},exi:{name:"exi",value:0x1000000000000000,scientific:!0},zebi:{name:"zebi",value:11805916207174113e5,scientific:!0},yobi:{name:"yobi",value:12089258196146292e8,scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};E.SHORTLONG=_extends({},E.SHORT,E.LONG),E.BINARY_SHORT=_extends({},E.BINARY_SHORT_SI,E.BINARY_SHORT_IEC),E.BINARY_LONG=_extends({},E.BINARY_LONG_SI,E.BINARY_LONG_IEC);var A=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],C={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var S in C)object_hasOwnProperty(C,S)&&(C[S].key=S);var M={name:"",base:{},value:1,offset:0,dimensions:A.map(e=>0)},F={meter:{name:"meter",base:C.LENGTH,prefixes:E.LONG,value:1,offset:0},inch:{name:"inch",base:C.LENGTH,prefixes:E.NONE,value:.0254,offset:0},foot:{name:"foot",base:C.LENGTH,prefixes:E.NONE,value:.3048,offset:0},yard:{name:"yard",base:C.LENGTH,prefixes:E.NONE,value:.9144,offset:0},mile:{name:"mile",base:C.LENGTH,prefixes:E.NONE,value:1609.344,offset:0},link:{name:"link",base:C.LENGTH,prefixes:E.NONE,value:.201168,offset:0},rod:{name:"rod",base:C.LENGTH,prefixes:E.NONE,value:5.0292,offset:0},chain:{name:"chain",base:C.LENGTH,prefixes:E.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:C.LENGTH,prefixes:E.NONE,value:1e-10,offset:0},m:{name:"m",base:C.LENGTH,prefixes:E.SHORT,value:1,offset:0},in:{name:"in",base:C.LENGTH,prefixes:E.NONE,value:.0254,offset:0},ft:{name:"ft",base:C.LENGTH,prefixes:E.NONE,value:.3048,offset:0},yd:{name:"yd",base:C.LENGTH,prefixes:E.NONE,value:.9144,offset:0},mi:{name:"mi",base:C.LENGTH,prefixes:E.NONE,value:1609.344,offset:0},li:{name:"li",base:C.LENGTH,prefixes:E.NONE,value:.201168,offset:0},rd:{name:"rd",base:C.LENGTH,prefixes:E.NONE,value:5.02921,offset:0},ch:{name:"ch",base:C.LENGTH,prefixes:E.NONE,value:20.1168,offset:0},mil:{name:"mil",base:C.LENGTH,prefixes:E.NONE,value:254e-7,offset:0},m2:{name:"m2",base:C.SURFACE,prefixes:E.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:C.SURFACE,prefixes:E.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:C.SURFACE,prefixes:E.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:C.SURFACE,prefixes:E.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:C.SURFACE,prefixes:E.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:C.SURFACE,prefixes:E.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:C.SURFACE,prefixes:E.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:C.SURFACE,prefixes:E.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:C.SURFACE,prefixes:E.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:C.SURFACE,prefixes:E.NONE,value:1e4,offset:0},m3:{name:"m3",base:C.VOLUME,prefixes:E.CUBIC,value:1,offset:0},L:{name:"L",base:C.VOLUME,prefixes:E.SHORT,value:.001,offset:0},l:{name:"l",base:C.VOLUME,prefixes:E.SHORT,value:.001,offset:0},litre:{name:"litre",base:C.VOLUME,prefixes:E.LONG,value:.001,offset:0},cuin:{name:"cuin",base:C.VOLUME,prefixes:E.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:C.VOLUME,prefixes:E.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:C.VOLUME,prefixes:E.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:C.VOLUME,prefixes:E.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:C.VOLUME,prefixes:E.NONE,value:15e-6,offset:0},drop:{name:"drop",base:C.VOLUME,prefixes:E.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:C.VOLUME,prefixes:E.NONE,value:5e-8,offset:0},minim:{name:"minim",base:C.VOLUME,prefixes:E.NONE,value:6161152e-14,offset:0},fluiddram:{name:"fluiddram",base:C.VOLUME,prefixes:E.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:C.VOLUME,prefixes:E.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:C.VOLUME,prefixes:E.NONE,value:1182941e-10,offset:0},cc:{name:"cc",base:C.VOLUME,prefixes:E.NONE,value:1e-6,offset:0},cup:{name:"cup",base:C.VOLUME,prefixes:E.NONE,value:2365882e-10,offset:0},pint:{name:"pint",base:C.VOLUME,prefixes:E.NONE,value:4731765e-10,offset:0},quart:{name:"quart",base:C.VOLUME,prefixes:E.NONE,value:9463529e-10,offset:0},gallon:{name:"gallon",base:C.VOLUME,prefixes:E.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:C.VOLUME,prefixes:E.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:C.VOLUME,prefixes:E.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:C.VOLUME,prefixes:E.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:C.VOLUME,prefixes:E.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:C.VOLUME,prefixes:E.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:C.VOLUME,prefixes:E.NONE,value:1182941e-10,offset:0},cp:{name:"cp",base:C.VOLUME,prefixes:E.NONE,value:2365882e-10,offset:0},pt:{name:"pt",base:C.VOLUME,prefixes:E.NONE,value:4731765e-10,offset:0},qt:{name:"qt",base:C.VOLUME,prefixes:E.NONE,value:9463529e-10,offset:0},gal:{name:"gal",base:C.VOLUME,prefixes:E.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:C.VOLUME,prefixes:E.NONE,value:.1173478,offset:0},obl:{name:"obl",base:C.VOLUME,prefixes:E.NONE,value:.1589873,offset:0},g:{name:"g",base:C.MASS,prefixes:E.SHORT,value:.001,offset:0},gram:{name:"gram",base:C.MASS,prefixes:E.LONG,value:.001,offset:0},ton:{name:"ton",base:C.MASS,prefixes:E.SHORT,value:907.18474,offset:0},t:{name:"t",base:C.MASS,prefixes:E.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:C.MASS,prefixes:E.LONG,value:1e3,offset:0},grain:{name:"grain",base:C.MASS,prefixes:E.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:C.MASS,prefixes:E.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:C.MASS,prefixes:E.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:C.MASS,prefixes:E.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:C.MASS,prefixes:E.NONE,value:45.359237,offset:0},stick:{name:"stick",base:C.MASS,prefixes:E.NONE,value:.115,offset:0},stone:{name:"stone",base:C.MASS,prefixes:E.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:C.MASS,prefixes:E.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:C.MASS,prefixes:E.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:C.MASS,prefixes:E.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:C.MASS,prefixes:E.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:C.MASS,prefixes:E.NONE,value:45.359237,offset:0},s:{name:"s",base:C.TIME,prefixes:E.SHORT,value:1,offset:0},min:{name:"min",base:C.TIME,prefixes:E.NONE,value:60,offset:0},h:{name:"h",base:C.TIME,prefixes:E.NONE,value:3600,offset:0},second:{name:"second",base:C.TIME,prefixes:E.LONG,value:1,offset:0},sec:{name:"sec",base:C.TIME,prefixes:E.LONG,value:1,offset:0},minute:{name:"minute",base:C.TIME,prefixes:E.NONE,value:60,offset:0},hour:{name:"hour",base:C.TIME,prefixes:E.NONE,value:3600,offset:0},day:{name:"day",base:C.TIME,prefixes:E.NONE,value:86400,offset:0},week:{name:"week",base:C.TIME,prefixes:E.NONE,value:604800,offset:0},month:{name:"month",base:C.TIME,prefixes:E.NONE,value:2629800,offset:0},year:{name:"year",base:C.TIME,prefixes:E.NONE,value:31557600,offset:0},decade:{name:"decade",base:C.TIME,prefixes:E.NONE,value:315576e3,offset:0},century:{name:"century",base:C.TIME,prefixes:E.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:C.TIME,prefixes:E.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:C.FREQUENCY,prefixes:E.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:C.FREQUENCY,prefixes:E.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:C.ANGLE,prefixes:E.SHORT,value:1,offset:0},radian:{name:"radian",base:C.ANGLE,prefixes:E.LONG,value:1,offset:0},deg:{name:"deg",base:C.ANGLE,prefixes:E.SHORT,value:null,offset:0},degree:{name:"degree",base:C.ANGLE,prefixes:E.LONG,value:null,offset:0},grad:{name:"grad",base:C.ANGLE,prefixes:E.SHORT,value:null,offset:0},gradian:{name:"gradian",base:C.ANGLE,prefixes:E.LONG,value:null,offset:0},cycle:{name:"cycle",base:C.ANGLE,prefixes:E.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:C.ANGLE,prefixes:E.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:C.ANGLE,prefixes:E.NONE,value:null,offset:0},A:{name:"A",base:C.CURRENT,prefixes:E.SHORT,value:1,offset:0},ampere:{name:"ampere",base:C.CURRENT,prefixes:E.LONG,value:1,offset:0},K:{name:"K",base:C.TEMPERATURE,prefixes:E.SHORT,value:1,offset:0},degC:{name:"degC",base:C.TEMPERATURE,prefixes:E.SHORT,value:1,offset:273.15},degF:{name:"degF",base:C.TEMPERATURE,prefixes:E.SHORT,value:new _(5,9),offset:459.67},degR:{name:"degR",base:C.TEMPERATURE,prefixes:E.SHORT,value:new _(5,9),offset:0},kelvin:{name:"kelvin",base:C.TEMPERATURE,prefixes:E.LONG,value:1,offset:0},celsius:{name:"celsius",base:C.TEMPERATURE,prefixes:E.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:C.TEMPERATURE,prefixes:E.LONG,value:new _(5,9),offset:459.67},rankine:{name:"rankine",base:C.TEMPERATURE,prefixes:E.LONG,value:new _(5,9),offset:0},mol:{name:"mol",base:C.AMOUNT_OF_SUBSTANCE,prefixes:E.SHORT,value:1,offset:0},mole:{name:"mole",base:C.AMOUNT_OF_SUBSTANCE,prefixes:E.LONG,value:1,offset:0},cd:{name:"cd",base:C.LUMINOUS_INTENSITY,prefixes:E.SHORT,value:1,offset:0},candela:{name:"candela",base:C.LUMINOUS_INTENSITY,prefixes:E.LONG,value:1,offset:0},N:{name:"N",base:C.FORCE,prefixes:E.SHORT,value:1,offset:0},newton:{name:"newton",base:C.FORCE,prefixes:E.LONG,value:1,offset:0},dyn:{name:"dyn",base:C.FORCE,prefixes:E.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:C.FORCE,prefixes:E.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:C.FORCE,prefixes:E.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:C.FORCE,prefixes:E.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:C.FORCE,prefixes:E.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:C.FORCE,prefixes:E.NONE,value:9.80665,offset:0},J:{name:"J",base:C.ENERGY,prefixes:E.SHORT,value:1,offset:0},joule:{name:"joule",base:C.ENERGY,prefixes:E.LONG,value:1,offset:0},erg:{name:"erg",base:C.ENERGY,prefixes:E.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:C.ENERGY,prefixes:E.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:C.ENERGY,prefixes:E.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:C.ENERGY,prefixes:E.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:C.ENERGY,prefixes:E.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:C.POWER,prefixes:E.SHORT,value:1,offset:0},watt:{name:"watt",base:C.POWER,prefixes:E.LONG,value:1,offset:0},hp:{name:"hp",base:C.POWER,prefixes:E.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:C.POWER,prefixes:E.SHORT,value:N.I,offset:0},VA:{name:"VA",base:C.POWER,prefixes:E.SHORT,value:1,offset:0},Pa:{name:"Pa",base:C.PRESSURE,prefixes:E.SHORT,value:1,offset:0},psi:{name:"psi",base:C.PRESSURE,prefixes:E.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:C.PRESSURE,prefixes:E.NONE,value:101325,offset:0},bar:{name:"bar",base:C.PRESSURE,prefixes:E.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:C.PRESSURE,prefixes:E.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:C.PRESSURE,prefixes:E.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:C.PRESSURE,prefixes:E.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:C.PRESSURE,prefixes:E.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:C.ELECTRIC_CHARGE,prefixes:E.LONG,value:1,offset:0},C:{name:"C",base:C.ELECTRIC_CHARGE,prefixes:E.SHORT,value:1,offset:0},farad:{name:"farad",base:C.ELECTRIC_CAPACITANCE,prefixes:E.LONG,value:1,offset:0},F:{name:"F",base:C.ELECTRIC_CAPACITANCE,prefixes:E.SHORT,value:1,offset:0},volt:{name:"volt",base:C.ELECTRIC_POTENTIAL,prefixes:E.LONG,value:1,offset:0},V:{name:"V",base:C.ELECTRIC_POTENTIAL,prefixes:E.SHORT,value:1,offset:0},ohm:{name:"ohm",base:C.ELECTRIC_RESISTANCE,prefixes:E.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:C.ELECTRIC_INDUCTANCE,prefixes:E.LONG,value:1,offset:0},H:{name:"H",base:C.ELECTRIC_INDUCTANCE,prefixes:E.SHORT,value:1,offset:0},siemens:{name:"siemens",base:C.ELECTRIC_CONDUCTANCE,prefixes:E.LONG,value:1,offset:0},S:{name:"S",base:C.ELECTRIC_CONDUCTANCE,prefixes:E.SHORT,value:1,offset:0},weber:{name:"weber",base:C.MAGNETIC_FLUX,prefixes:E.LONG,value:1,offset:0},Wb:{name:"Wb",base:C.MAGNETIC_FLUX,prefixes:E.SHORT,value:1,offset:0},tesla:{name:"tesla",base:C.MAGNETIC_FLUX_DENSITY,prefixes:E.LONG,value:1,offset:0},T:{name:"T",base:C.MAGNETIC_FLUX_DENSITY,prefixes:E.SHORT,value:1,offset:0},b:{name:"b",base:C.BIT,prefixes:E.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:C.BIT,prefixes:E.BINARY_LONG,value:1,offset:0},B:{name:"B",base:C.BIT,prefixes:E.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:C.BIT,prefixes:E.BINARY_LONG,value:8,offset:0}},T={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function calculateAngleValues(e){if("BigNumber"===e.number){var r=r4(w);F.rad.value=new w(1),F.deg.value=r.div(180),F.grad.value=r.div(200),F.cycle.value=r.times(2),F.arcsec.value=r.div(648e3),F.arcmin.value=r.div(10800)}else F.rad.value=1,F.deg.value=Math.PI/180,F.grad.value=Math.PI/200,F.cycle.value=2*Math.PI,F.arcsec.value=Math.PI/648e3,F.arcmin.value=Math.PI/10800;F.radian.value=F.rad.value,F.degree.value=F.deg.value,F.gradian.value=F.grad.value}calculateAngleValues(o),a&&a("config",function(e,r){e.number!==r.number&&calculateAngleValues(e)});var O={si:{NONE:{unit:M,prefix:E.NONE[""]},LENGTH:{unit:F.m,prefix:E.SHORT[""]},MASS:{unit:F.g,prefix:E.SHORT.k},TIME:{unit:F.s,prefix:E.SHORT[""]},CURRENT:{unit:F.A,prefix:E.SHORT[""]},TEMPERATURE:{unit:F.K,prefix:E.SHORT[""]},LUMINOUS_INTENSITY:{unit:F.cd,prefix:E.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:F.mol,prefix:E.SHORT[""]},ANGLE:{unit:F.rad,prefix:E.SHORT[""]},BIT:{unit:F.bits,prefix:E.SHORT[""]},FORCE:{unit:F.N,prefix:E.SHORT[""]},ENERGY:{unit:F.J,prefix:E.SHORT[""]},POWER:{unit:F.W,prefix:E.SHORT[""]},PRESSURE:{unit:F.Pa,prefix:E.SHORT[""]},ELECTRIC_CHARGE:{unit:F.C,prefix:E.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:F.F,prefix:E.SHORT[""]},ELECTRIC_POTENTIAL:{unit:F.V,prefix:E.SHORT[""]},ELECTRIC_RESISTANCE:{unit:F.ohm,prefix:E.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:F.H,prefix:E.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:F.S,prefix:E.SHORT[""]},MAGNETIC_FLUX:{unit:F.Wb,prefix:E.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:F.T,prefix:E.SHORT[""]},FREQUENCY:{unit:F.Hz,prefix:E.SHORT[""]}}};O.cgs=JSON.parse(JSON.stringify(O.si)),O.cgs.LENGTH={unit:F.m,prefix:E.SHORT.c},O.cgs.MASS={unit:F.g,prefix:E.SHORT[""]},O.cgs.FORCE={unit:F.dyn,prefix:E.SHORT[""]},O.cgs.ENERGY={unit:F.erg,prefix:E.NONE[""]},O.us=JSON.parse(JSON.stringify(O.si)),O.us.LENGTH={unit:F.ft,prefix:E.NONE[""]},O.us.MASS={unit:F.lbm,prefix:E.NONE[""]},O.us.TEMPERATURE={unit:F.degF,prefix:E.NONE[""]},O.us.FORCE={unit:F.lbf,prefix:E.NONE[""]},O.us.ENERGY={unit:F.BTU,prefix:E.BTU[""]},O.us.POWER={unit:F.hp,prefix:E.NONE[""]},O.us.PRESSURE={unit:F.psi,prefix:E.NONE[""]},O.auto=JSON.parse(JSON.stringify(O.si));var B=O.auto;for(var k in Unit.setUnitSystem=function(e){if(object_hasOwnProperty(O,e))B=O[e];else throw Error("Unit system "+e+" does not exist. Choices are: "+Object.keys(O).join(", "))},Unit.getUnitSystem=function(){for(var e in O)if(object_hasOwnProperty(O,e)&&O[e]===B)return e},Unit.typeConverters={BigNumber:function(e){return null!=e&&e.isFraction?new w(e.n).div(e.d).times(e.s):new w(e+"")},Fraction:function(e){return new _(e)},Complex:function(e){return e},number:function(e){return null!=e&&e.isFraction?b(e):e}},Unit.prototype._numberConverter=function(){var e=Unit.typeConverters[this.valueType()];if(e)return e;throw TypeError('Unsupported Unit value type "'+this.valueType()+'"')},Unit._getNumberConverter=function(e){if(!Unit.typeConverters[e])throw TypeError('Unsupported type "'+e+'"');return Unit.typeConverters[e]},F)if(object_hasOwnProperty(F,k)){var I=F[k];I.dimensions=I.base.dimensions}for(var P in T)if(object_hasOwnProperty(T,P)){var z=F[T[P]],R={};for(var q in z)object_hasOwnProperty(z,q)&&(R[q]=z[q]);R.name=P,F[P]=R}return Unit.isValidAlpha=function(e){return/^[a-zA-Z]$/.test(e)},Unit.createUnit=function(e,r){if("object"!=typeof e)throw TypeError("createUnit expects first parameter to be of type 'Object'");if(r&&r.override){for(var t in e)if(object_hasOwnProperty(e,t)&&Unit.deleteUnit(t),e[t].aliases)for(var n,a=0;a<e[t].aliases.length;a++)Unit.deleteUnit(e[t].aliases[a])}for(var o in e)object_hasOwnProperty(e,o)&&(n=Unit.createUnitSingle(o,e[o]));return n},Unit.createUnitSingle=function(e,r){if(null==r&&(r={}),"string"!=typeof e)throw TypeError("createUnitSingle expects first parameter to be of type 'string'");if(object_hasOwnProperty(F,e))throw Error('Cannot create unit "'+e+'": a unit with that name already exists');!function(e){for(var r=0;r<e.length;r++){if(n=e.charAt(r),0===r&&!Unit.isValidAlpha(n))throw Error('Invalid unit name (must begin with alpha character): "'+e+'"');if(r>0&&!(Unit.isValidAlpha(n)||isDigit(n)))throw Error('Invalid unit name (only alphanumeric characters are allowed): "'+e+'"')}}(e);var t,a,o,s=null,u=[],c=0;if(r&&"Unit"===r.type)s=r.clone();else if("string"==typeof r)""!==r&&(t=r);else if("object"==typeof r)t=r.definition,a=r.prefixes,c=r.offset,o=r.baseName,r.aliases&&(u=r.aliases.valueOf());else throw TypeError('Cannot create unit "'+e+'" from "'+r.toString()+'": expecting "string" or "Unit" or "Object"');if(u){for(var l=0;l<u.length;l++)if(object_hasOwnProperty(F,u[l]))throw Error('Cannot create alias "'+u[l]+'": a unit with that name already exists')}if(t&&"string"==typeof t&&!s)try{s=Unit.parse(t,{allowNoUnits:!0})}catch(r){throw r.message='Could not create unit "'+e+'" from "'+t+'": '+r.message,r}else t&&"Unit"===t.type&&(s=t.clone());u=u||[],c=c||0,a=a&&a.toUpperCase&&E[a.toUpperCase()]||E.NONE;var p={};if(s){p={name:e,value:s.value,dimensions:s.dimensions.slice(0),prefixes:a,offset:c};var m=!1;for(var h in C)if(object_hasOwnProperty(C,h)){for(var g=!0,y=0;y<A.length;y++)if(Math.abs((p.dimensions[y]||0)-(C[h].dimensions[y]||0))>1e-12){g=!1;break}if(g){m=!0,p.base=C[h];break}}if(!m){o=o||e+"_STUFF";var v={dimensions:s.dimensions.slice(0)};v.key=o,C[o]=v,B[o]={unit:p,prefix:E.NONE[""]},p.base=C[o]}}else{if(o=o||e+"_STUFF",A.indexOf(o)>=0)throw Error('Cannot create new base unit "'+e+'": a base unit with that name already exists (and cannot be overridden)');for(var x in A.push(o),C)object_hasOwnProperty(C,x)&&(C[x].dimensions[A.length-1]=0);for(var b={dimensions:[]},N=0;N<A.length;N++)b.dimensions[N]=0;b.dimensions[A.length-1]=1,b.key=o,C[o]=b,p={name:e,value:1,dimensions:C[o].dimensions.slice(0),prefixes:a,offset:c,base:C[o]},B[o]={unit:p,prefix:E.NONE[""]}}Unit.UNITS[e]=p;for(var w=0;w<u.length;w++){var _=u[w],S={};for(var M in p)object_hasOwnProperty(p,M)&&(S[M]=p[M]);S.name=_,Unit.UNITS[_]=S}return delete D.cache,new Unit(null,e)},Unit.deleteUnit=function(e){delete Unit.UNITS[e]},Unit.PREFIXES=E,Unit.BASE_DIMENSIONS=A,Unit.BASE_UNITS=C,Unit.UNIT_SYSTEMS=O,Unit.UNITS=F,Unit},{isClass:!0}),uK="dotPow",uQ=factory_factory(uK,["typed","equalScalar","matrix","pow","DenseMatrix","concat"],e=>{var{typed:r,equalScalar:t,matrix:n,pow:a,DenseMatrix:o,concat:s}=e,u=oe({typed:r}),c=or({typed:r,DenseMatrix:o}),l=ot({typed:r,equalScalar:t}),p=on({typed:r,DenseMatrix:o}),m=os({typed:r,matrix:n,concat:s}),h={};for(var g in a.signatures)!Object.prototype.hasOwnProperty.call(a.signatures,g)||g.includes("Matrix")||g.includes("Array")||(h[g]=a.signatures[g]);var y=r(h);return r(uK,m({elop:y,SS:c,DS:u,Ss:l,sS:p}))}),u0="expm",u1=factory_factory(u0,["typed","abs","add","identity","inv","multiply"],e=>{var{typed:r,abs:t,add:n,identity:a,inv:o,multiply:s}=e;return r(u0,{Matrix:function(e){var r=e.size();if(2!==r.length||r[0]!==r[1])throw RangeError("Matrix must be square (size: "+string_format(r)+")");for(var u=r[0],c=function(e,r){for(var t=0;t<30;t++)for(var n=0;n<=t;n++){var a=t-n;if(1e-15>function(e,r,t){for(var n=1,a=2;a<=r;a++)n*=a;for(var o=n,s=r+1;s<=2*r;s++)o*=s;var u=o*(2*r+1);return 8*Math.pow(e/Math.pow(2,t),2*r)*n*n/(o*u)}(e,n,a))return{q:n,j:a}}throw Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(function(e){for(var r=e.size()[0],n=0,a=0;a<r;a++){for(var o=0,s=0;s<r;s++)o+=t(e.get([a,s]));n=Math.max(o,n)}return n}(e),0),l=c.q,p=c.j,m=s(e,Math.pow(2,-p)),h=a(u),g=a(u),y=1,v=m,x=-1,b=1;b<=l;b++)b>1&&(v=s(v,m),x=-x),h=n(h,s(y=y*(l-b+1)/((2*l-b+1)*b),v)),g=n(g,s(y*x,v));for(var N=s(o(g),h),w=0;w<p;w++)N=s(N,N);return isSparseMatrix(e)?e.createSparseMatrix(N):N}})}),u2=factory_factory("fft",["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],e=>{var{typed:r,matrix:t,addScalar:n,multiplyScalar:a,divideScalar:o,exp:s,tau:u,i:c,dotDivide:l,conj:p,pow:m,ceil:h,log2:g}=e;return r("fft",{Array:_ndFft,Matrix:function(e){return e.create(_ndFft(e.toArray()))}});function _ndFft(e){var r=arraySize(e);return 1===r.length?_fft(e,r[0]):function _1dFft(e,r){var t=arraySize(e);if(0!==r)return Array(t[0]).fill(0).map((t,n)=>_1dFft(e[n],r-1));if(1===t.length)return _fft(e);function _transpose(e){var r=arraySize(e);return Array(r[1]).fill(0).map((t,n)=>Array(r[0]).fill(0).map((r,t)=>e[t][n]))}return _transpose(_1dFft(_transpose(e),1))}(e.map(e=>_ndFft(e,r.slice(1))),0)}function _fft(e){var r=e.length;if(1===r)return[e[0]];if(r%2!=0)return function(e){for(var r=e.length,t=s(o(a(-1,a(c,u)),r)),n=[],y=1-r;y<r;y++)n.push(m(t,o(m(y,2),2)));for(var v=m(2,h(g(r+r-1))),x=[...Array(r).fill(0).map((t,o)=>a(e[o],n[r-1+o])),...Array(v-r).fill(0)],b=[...Array(r+r-1).fill(0).map((e,r)=>o(1,n[r])),...Array(v-(r+r-1)).fill(0)],N=_fft(x),w=_fft(b),_=l(p(_ndFft(p(Array(v).fill(0).map((e,r)=>a(N[r],w[r]))))),v),D=[],E=r-1;E<r+r-1;E++)D.push(a(_[E],n[E]));return D}(e);for(var t=[..._fft(e.filter((e,r)=>r%2==0),r/2),..._fft(e.filter((e,r)=>r%2==1),r/2)],y=0;y<r/2;y++){var v=t[y],x=a(t[y+r/2],s(a(a(u,c),o(-y,r))));t[y]=n(v,x),t[y+r/2]=n(v,a(-1,x))}return t}}),u3="gamma",u5=factory_factory(u3,["typed","config","multiplyScalar","pow","BigNumber","Complex"],e=>{var{typed:r,config:t,multiplyScalar:n,pow:a,BigNumber:o,Complex:s}=e;return r(u3,{number:gammaNumber,Complex:function gammaComplex(e){if(0===e.im)return gammaNumber(e.re);if(e.re<.5){var r=new s(1-e.re,-e.im),t=new s(Math.PI*e.re,Math.PI*e.im);return new s(Math.PI).div(t.sin()).div(gammaComplex(r))}e=new s(e.re-1,e.im);for(var n=new s(iN[0],0),a=1;a<iN.length;++a){var o=new s(iN[a],0);n=n.add(o.div(e.add(a)))}var u=new s(e.re+ib+.5,e.im),c=Math.sqrt(2*Math.PI),l=u.pow(e.add(.5)),p=u.neg().exp();return n.mul(c).mul(l).mul(p)},BigNumber:function(e){if(e.isInteger())return e.isNegative()||e.isZero()?new o(1/0):function bigFactorial(e){if(e<8)return new o([1,1,2,6,24,120,720,5040][e]);var r=t.precision+(0|Math.log(e.toNumber())),n=o.clone({precision:r});if(e%2==1)return e.times(bigFactorial(new o(e-1)));for(var a=e,s=new n(e),u=e.toNumber();a>2;)a-=2,u+=a,s=s.times(u);return new o(s.toPrecision(o.precision))}(e.minus(1));if(!e.isFinite())return new o(e.isNegative()?NaN:1/0);throw Error("Integer BigNumber expected")}})}),u4="ifft",u8=factory_factory(u4,["typed","fft","dotDivide","conj"],e=>{var{typed:r,fft:t,dotDivide:n,conj:a}=e;return r(u4,{"Array | Matrix":function(e){var r=isMatrix(e)?e.size():arraySize(e);return n(a(t(a(e))),r.reduce((e,r)=>e*r,1))}})}),u6="createUnit",u7=factory_factory(u6,["typed","Unit"],e=>{var{typed:r,Unit:t}=e;return r(u6,{"Object, Object":function(e,r){return t.createUnit(e,r)},Object:function(e){return t.createUnit(e,{})},"string, Unit | string | Object, Object":function(e,r,n){var a={};return a[e]=r,t.createUnit(a,n)},"string, Unit | string | Object":function(e,r){var n={};return n[e]=r,t.createUnit(n,{})},string:function(e){var r={};return r[e]={},t.createUnit(r,{})}})}),u9=factory_factory("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],e=>{var{typed:r,matrix:t,multiply:n,equalScalar:a,divideScalar:o,inv:s}=e,u=ot({typed:r,equalScalar:a}),c=oa({typed:r});return r("divide",extend({"Array | Matrix, Array | Matrix":function(e,r){return n(e,s(r))},"DenseMatrix, any":function(e,r){return c(e,r,o,!1)},"SparseMatrix, any":function(e,r){return u(e,r,o,!1)},"Array, any":function(e,r){return c(t(e),r,o,!1).valueOf()},"any, Array | Matrix":function(e,r){return n(e,s(r))}},o.signatures))}),ce="factorial",cr=factory_factory(ce,["typed","gamma"],e=>{var{typed:r,gamma:t}=e;return r(ce,{number:function(e){if(e<0)throw Error("Value must be non-negative");return t(e+1)},BigNumber:function(e){if(e.isNegative())throw Error("Value must be non-negative");return t(e.plus(1))},"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e))})});function csIpvec(e,r){var t,n=r.length,a=[];if(e)for(t=0;t<n;t++)a[e[t]]=r[t];else for(t=0;t<n;t++)a[t]=r[t];return a}var ct="lusolve",cn=factory_factory(ct,["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],e=>{var{typed:r,matrix:t,lup:n,slu:o,usolve:s,lsolve:u,DenseMatrix:c}=e,l=createSolveValidation({DenseMatrix:c});return r(ct,{"Array, Array | Matrix":function(e,r){var a=n(e=t(e));return _lusolve(a.L,a.U,a.p,null,r).valueOf()},"DenseMatrix, Array | Matrix":function(e,r){var t=n(e);return _lusolve(t.L,t.U,t.p,null,r)},"SparseMatrix, Array | Matrix":function(e,r){var t=n(e);return _lusolve(t.L,t.U,t.p,null,r)},"SparseMatrix, Array | Matrix, number, number":function(e,r,t,n){var a=o(e,t,n);return _lusolve(a.L,a.U,a.p,a.q,r)},"Object, Array | Matrix":function(e,r){return _lusolve(e.L,e.U,e.p,e.q,r)}});function _toMatrix(e){if(isMatrix(e))return e;if(a(e))return t(e);throw TypeError("Invalid Matrix LU decomposition")}function _lusolve(e,r,t,n,a){e=_toMatrix(e),r=_toMatrix(r),t&&((a=l(e,a,!0))._data=csIpvec(t,a._data));var o=s(r,u(e,a));return n&&(o._data=csIpvec(n,o._data)),o}}),ci="multinomial",ca=factory_factory(ci,["typed","add","divide","multiply","factorial","isInteger","isPositive"],e=>{var{typed:r,add:t,divide:n,multiply:a,factorial:o,isInteger:s,isPositive:u}=e;return r(ci,{"Array | Matrix":function(e){var r=0,c=1;return deepForEach(e,function(e){if(!s(e)||!u(e))throw TypeError("Positive integer value expected in function multinomial");r=t(r,e),c=a(c,o(e))}),n(o(r),c)}})}),co="permutations",cs=factory_factory(co,["typed","factorial"],e=>{var{typed:r,factorial:t}=e;return r(co,{"number | BigNumber":t,"number, number":function(e,r){if(!isInteger(e)||e<0||!isInteger(r)||r<0)throw TypeError("Positive integer value expected in function permutations");if(r>e)throw TypeError("second argument k must be less than or equal to first argument n");return product_product(e-r+1,e)},"BigNumber, BigNumber":function(e,r){var t,n;if(!permutations_isPositiveInteger(e)||!permutations_isPositiveInteger(r))throw TypeError("Positive integer value expected in function permutations");if(r.gt(e))throw TypeError("second argument k must be less than or equal to first argument n");for(t=e.mul(0).add(1),n=e.minus(r).plus(1);n.lte(e);n=n.plus(1))t=t.times(n);return t}})});function permutations_isPositiveInteger(e){return e.isInteger()&&e.gte(0)}var cu="polynomialRoot",cc=factory_factory(cu,["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],e=>{var{typed:r,isZero:t,equalScalar:n,add:a,subtract:o,multiply:s,divide:u,sqrt:c,unaryMinus:l,cbrt:p,typeOf:m,im:h,re:g}=e;return r(cu,{"number|Complex, ...number|Complex":(e,r)=>{for(var y=[e,...r];y.length>0&&t(y[y.length-1]);)y.pop();if(y.length<2)throw RangeError("Polynomial [".concat(e,", ").concat(r,"] must have a non-zero non-constant coefficient"));switch(y.length){case 2:return[l(u(y[0],y[1]))];case 3:var[v,x,b]=y,N=s(2,b),w=s(x,x),_=s(4,b,v);if(n(w,_))return[u(l(x),N)];var D=c(o(w,_));return[u(o(D,x),N),u(o(l(D),x),N)];case 4:var[E,A,C,S]=y,M=l(s(3,S)),F=s(C,C),T=s(3,S,A),O=a(s(2,C,C,C),s(27,S,S,E)),B=s(9,S,C,A);if(n(F,T)&&n(O,B))return[u(C,M)];var k=o(F,T),I=o(O,B);if(n(a(s(18,S,C,A,E),s(C,C,A,A)),a(s(4,C,C,C,E),s(4,S,A,A,A),s(27,S,S,E,E))))return[u(o(s(4,S,C,A),a(s(9,S,S,E),s(C,C,C))),s(S,k)),u(o(s(9,S,E),s(C,A)),s(2,k))];return p(n(F,T)?I:u(a(I,c(o(s(I,I),s(4,k,k,k)))),2),!0).toArray().map(e=>u(a(C,e,u(k,e)),M)).map(e=>"Complex"===m(e)&&n(g(e),g(e)+h(e))?g(e):e);default:throw RangeError("only implemented for cubic or lower-order polynomials, not ".concat(y))}}})}),cl="setSize",cf=factory_factory(cl,["typed","compareNatural"],e=>{var{typed:r,compareNatural:t}=e;return r(cl,{"Array | Matrix":function(e){return Array.isArray(e)?flatten(e).length:flatten(e.toArray()).length},"Array | Matrix, boolean":function(e,r){if(!1===r||0===e.length)return Array.isArray(e)?flatten(e).length:flatten(e.toArray()).length;for(var n=flatten(Array.isArray(e)?e:e.toArray()).sort(t),a=1,o=1;o<n.length;o++)0!==t(n[o],n[o-1])&&a++;return a}})});function solveODE_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}var cp=factory_factory("solveODE",["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],e=>{var{typed:r,add:t,subtract:n,multiply:a,divide:o,max:s,map:u,abs:c,isPositive:l,isNegative:p,larger:m,smaller:h,matrix:g,bignumber:y,unaryMinus:v}=e;function _rk(e){return function(r,g,x,b){if(!(2===g.length&&(g.every(isNumOrBig)||g.every(isUnit))))throw Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var N,w=g[0],_=g[1],D=m(_,w),E=b.firstStep;if(void 0!==E&&!l(E))throw Error('"firstStep" must be positive');var A=b.maxStep;if(void 0!==A&&!l(A))throw Error('"maxStep" must be positive');var C=b.minStep;if(C&&p(C))throw Error('"minStep" must be positive or zero');var S=[w,_,E,C,A].filter(e=>void 0!==e);if(!(S.every(isNumOrBig)||S.every(isUnit)))throw Error('Inconsistent type of "t" dependant variables');for(var M=b.tol?b.tol:1e-4,F=b.minDelta?b.minDelta:.2,T=b.maxDelta?b.maxDelta:5,O=b.maxIter?b.maxIter:1e4,B=[w,_,...x,A,C].some(isBigNumber),[k,I,P,z]=B?[y(e.a),y(e.c),y(e.b),y(e.bp)]:[e.a,e.c,e.b,e.bp],R=E?D?E:v(E):o(n(_,w),1),q=[w],j=[x],U=n(P,z),L=0,H=0,$=D?h:m,V=(N=D?m:h,function(e,r,a){return N(t(e,a),r)?n(r,e):a});$(q[L],_);){var Z=[];R=V(q[L],_,R),Z.push(r(q[L],j[L]));for(var G=1;G<I.length;++G)Z.push(r(t(q[L],a(I[G],R)),t(j[L],a(R,k[G],Z))));var W=s(c(u(a(U,Z),e=>isUnit(e)?e.value:e)));W<M&&M/W>1/4&&(q.push(t(q[L],R)),j.push(t(j[L],a(R,P,Z))),L++);var Y=.84*(M/W)**.2;if(h(Y,F)?Y=F:m(Y,T)&&(Y=T),R=a(R,Y=B?y(Y):Y),A&&m(c(R),A)?R=D?A:v(A):C&&h(c(R),C)&&(R=D?C:v(C)),++H>O)throw Error("Maximum number of iterations reached, try changing options")}return{t:q,y:j}}}function _rk23(e,r,t,n){return _rk({a:[[],[.5],[0,3/4],[2/9,1/3,4/9]],c:[null,.5,3/4,1],b:[2/9,1/3,4/9,0],bp:[7/24,1/4,1/3,1/8]})(e,r,t,n)}function _rk45(e,r,t,n){return _rk({a:[[],[.2],[3/40,9/40],[44/45,-56/15,32/9],[19372/6561,-25360/2187,64448/6561,-212/729],[9017/3168,-355/33,46732/5247,49/176,-5103/18656],[35/384,0,500/1113,125/192,-2187/6784,11/84]],c:[null,.2,.3,.8,8/9,1,1],b:[35/384,0,500/1113,125/192,-2187/6784,11/84,0],bp:[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40]})(e,r,t,n)}function _solveODE(e,r,t,n){var a=n.method?n.method:"RK45",o={RK23:_rk23,RK45:_rk45};if(a.toUpperCase() in o){var s=function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?solveODE_ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):solveODE_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({},n);return delete s.method,o[a.toUpperCase()](e,r,t,s)}var u=Object.keys(o).map(e=>'"'.concat(e,'"')),c="".concat(u.slice(0,-1).join(", ")," and ").concat(u.slice(-1));throw Error('Unavailable method "'.concat(a,'". Available methods are ').concat(c))}function isNumOrBig(e){return isBigNumber(e)||isNumber(e)}function _matrixSolveODE(e,r,t,n){var a=_solveODE(e,r.toArray(),t.toArray(),n);return{t:g(a.t),y:g(a.y)}}return r("solveODE",{"function, Array, Array, Object":_solveODE,"function, Matrix, Matrix, Object":_matrixSolveODE,"function, Array, Array":(e,r,t)=>_solveODE(e,r,t,{}),"function, Matrix, Matrix":(e,r,t)=>_matrixSolveODE(e,r,t,{}),"function, Array, number | BigNumber | Unit":(e,r,t)=>{var n=_solveODE(e,r,[t],{});return{t:n.t,y:n.y.map(e=>e[0])}},"function, Matrix, number | BigNumber | Unit":(e,r,t)=>{var n=_solveODE(e,r.toArray(),[t],{});return{t:g(n.t),y:g(n.y.map(e=>e[0]))}},"function, Array, number | BigNumber | Unit, Object":(e,r,t,n)=>{var a=_solveODE(e,r,[t],n);return{t:a.t,y:a.y.map(e=>e[0])}},"function, Matrix, number | BigNumber | Unit, Object":(e,r,t,n)=>{var a=_solveODE(e,r.toArray(),[t],n);return{t:g(a.t),y:g(a.y.map(e=>e[0]))}}})}),cm="stirlingS2",ch=factory_factory(cm,["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],e=>{var{typed:r,addScalar:t,subtractScalar:n,multiplyScalar:a,divideScalar:o,pow:s,factorial:u,combinations:c,isNegative:l,isInteger:p,number:m,bignumber:h,larger:g}=e,y=[],v=[];return r(cm,{"number | BigNumber, number | BigNumber":function(e,r){if(!p(e)||l(e)||!p(r)||l(r))throw TypeError("Non-negative integer value expected in function stirlingS2");if(g(r,e))throw TypeError("k must be less than or equal to n in function stirlingS2");var n=!(isNumber(e)&&isNumber(r)),o=n?v:y,s=n?h:m,u=m(e),c=m(r);if(o[u]&&o[u].length>c)return o[u][c];for(var x=0;x<=u;++x)if(o[x]||(o[x]=[s(0===x?1:0)]),0!==x)for(var b=o[x],N=o[x-1],w=b.length;w<=x&&w<=c;++w)w===x?b[w]=1:b[w]=t(a(s(w),N[w]),N[w-1]);return o[u][c]}})}),cd="unit",cg=factory_factory(cd,["typed","Unit"],e=>{var{typed:r,Unit:t}=e;return r(cd,{Unit:function(e){return e.clone()},string:function(e){return t.isValuelessUnit(e)?new t(null,e):t.parse(e,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(e,r){return new t(e,r)},"number | BigNumber | Fraction":function(e){return new t(e)},"Array | Matrix":r.referToSelf(e=>r=>deepMap(r,e))})}),cy="bellNumbers",cv=factory_factory(cy,["typed","addScalar","isNegative","isInteger","stirlingS2"],e=>{var{typed:r,addScalar:t,isNegative:n,isInteger:a,stirlingS2:o}=e;return r(cy,{"number | BigNumber":function(e){if(!a(e)||n(e))throw TypeError("Non-negative integer value expected in function bellNumbers");for(var r=0,s=0;s<=e;s++)r=t(r,o(e,s));return r}})}),cx=factory_factory("eigs",["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],e=>{var{config:r,typed:t,matrix:n,addScalar:a,subtract:o,equal:s,abs:u,atan:c,cos:l,sin:p,multiplyScalar:m,divideScalar:h,inv:g,bignumber:y,multiply:v,add:x,larger:b,column:N,flatten:w,number:_,complex:D,sqrt:E,diag:A,size:C,reshape:S,qr:M,usolve:F,usolveAll:T,im:O,re:B,smaller:k,matrixFromColumns:I,dot:P}=e,z=function(e){var{config:r,addScalar:t,subtract:n,abs:a,atan:o,cos:s,sin:u,multiplyScalar:c,inv:l,bignumber:p,multiply:m,add:h}=e;function getAij(e){for(var r=e.length,t=0,n=[0,1],a=0;a<r;a++)for(var o=a+1;o<r;o++)Math.abs(t)<Math.abs(e[a][o])&&(t=Math.abs(e[a][o]),n=[a,o]);return[n,t]}function getAijBig(e){for(var r=e.length,t=0,n=[0,1],o=0;o<r;o++)for(var s=o+1;s<r;s++)a(t)<a(e[o][s])&&(t=a(e[o][s]),n=[o,s]);return[n,t]}function sorting(e,r,t){var n,o=e.length,s=Array(o);if(t){n=Array(o);for(var u=0;u<o;u++)n[u]=Array(o)}for(var c=0;c<o;c++){for(var l=0,p=e[0],m=0;m<e.length;m++)a(e[m])<a(p)&&(p=e[l=m]);if(s[c]=e.splice(l,1)[0],t)for(var h=0;h<o;h++)n[c][h]=r[h][l],r[h].splice(l,1)}return t?{values:s,eigenvectors:n.map((e,r)=>({value:s[r],vector:e}))}:{values:s}}return function(e,g){var y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.epsilon,v=arguments.length>3?arguments[3]:void 0,x=arguments.length>4?arguments[4]:void 0;if("number"===v)return function(e,t,n){var a,o,s=e.length,u=Math.abs(t/s);if(n){o=Array(s);for(var c=0;c<s;c++)o[c]=Array(s).fill(0),o[c][c]=1}for(var l=getAij(e);Math.abs(l[1])>=Math.abs(u);){var p,m,h,g=l[0][0],y=l[0][1];p=e[g][g],m=e[y][y],h=e[g][y],e=function(e,r,t,n){for(var a=e.length,o=Math.cos(r),s=Math.sin(r),u=o*o,c=s*s,l=Array(a).fill(0),p=Array(a).fill(0),m=u*e[t][t]-2*o*s*e[t][n]+c*e[n][n],h=c*e[t][t]+2*o*s*e[t][n]+u*e[n][n],g=0;g<a;g++)l[g]=o*e[t][g]-s*e[n][g],p[g]=s*e[t][g]+o*e[n][g];e[t][t]=m,e[n][n]=h,e[t][n]=0,e[n][t]=0;for(var y=0;y<a;y++)y!==t&&y!==n&&(e[t][y]=l[y],e[y][t]=l[y],e[n][y]=p[y],e[y][n]=p[y]);return e}(e,a=Math.abs(m-p)<=r.epsilon?Math.PI/4:.5*Math.atan(2*h/(m-p)),g,y),n&&(o=function(e,r,t,n){for(var a=e.length,o=Math.cos(r),s=Math.sin(r),u=Array(a).fill(0),c=Array(a).fill(0),l=0;l<a;l++)u[l]=o*e[l][t]-s*e[l][n],c[l]=s*e[l][t]+o*e[l][n];for(var p=0;p<a;p++)e[p][t]=u[p],e[p][n]=c[p];return e}(o,a,g,y)),l=getAij(e)}for(var v=Array(s).fill(0),x=0;x<s;x++)v[x]=e[x][x];return sorting(object_clone(v),o,n)}(e,y,x);if("BigNumber"===v)return function(e,g,y){var v,x,b=e.length,N=a(g/b);if(y){x=Array(b);for(var w=0;w<b;w++)x[w]=Array(b).fill(0),x[w][w]=1}for(var _=getAijBig(e);a(_[1])>=a(N);){var D=_[0][0],E=_[0][1];v=function(e,t,s){var u=n(t,e);return a(u)<=r.epsilon?p(-1).acos().div(4):c(.5,o(m(2,s,l(u))))}(e[D][D],e[E][E],e[D][E]),e=function(e,r,a,o){for(var l=e.length,g=p(s(r)),y=p(u(r)),v=c(g,g),x=c(y,y),b=Array(l).fill(p(0)),N=Array(l).fill(p(0)),w=m(p(2),g,y,e[a][o]),_=t(n(c(v,e[a][a]),w),c(x,e[o][o])),D=h(c(x,e[a][a]),w,c(v,e[o][o])),E=0;E<l;E++)b[E]=n(c(g,e[a][E]),c(y,e[o][E])),N[E]=t(c(y,e[a][E]),c(g,e[o][E]));e[a][a]=_,e[o][o]=D,e[a][o]=p(0),e[o][a]=p(0);for(var A=0;A<l;A++)A!==a&&A!==o&&(e[a][A]=b[A],e[A][a]=b[A],e[o][A]=N[A],e[A][o]=N[A]);return e}(e,v,D,E),y&&(x=function(e,r,a,o){for(var l=e.length,m=s(r),h=u(r),g=Array(l).fill(p(0)),y=Array(l).fill(p(0)),v=0;v<l;v++)g[v]=n(c(m,e[v][a]),c(h,e[v][o])),y[v]=t(c(h,e[v][a]),c(m,e[v][o]));for(var x=0;x<l;x++)e[x][a]=g[x],e[x][o]=y[x];return e}(x,v,D,E)),_=getAijBig(e)}for(var A=Array(b).fill(0),C=0;C<b;C++)A[C]=e[C][C];return sorting(object_clone(A),x,y)}(e,y,x);throw TypeError("Unsupported data type: "+v)}}({config:r,addScalar:a,subtract:o,column:N,flatten:w,equal:s,abs:u,atan:c,cos:l,sin:p,multiplyScalar:m,inv:g,bignumber:y,complex:D,multiply:v,add:x}),R=function(e){var{addScalar:r,subtract:t,flatten:n,multiply:a,multiplyScalar:o,divideScalar:s,sqrt:u,abs:c,bignumber:l,diag:p,size:m,reshape:h,inv:g,qr:y,usolve:v,usolveAll:x,equal:b,complex:N,larger:w,smaller:_,matrixFromColumns:D,dot:E}=e;function inflateMatrix(e,r){for(var t=0;t<e.length;t++)e[t].push(...Array(r-e[t].length).fill(0));for(var n=e.length;n<r;n++)e.push(Array(r).fill(0)),e[n][n]=1;return e}function orthogonalComplement(e,r){var n=m(e);for(var o of r)e=t(e,a(s(E(o=h(o,n),e),E(o,o)),o));return e}function norm(e){return c(u(E(e,e)))}function normalize(e,r){return a(s("BigNumber"===r?l(1):"Complex"===r?N(1):1,norm(e)),e)}return function(e,m,h,D){var E=!(arguments.length>4)||void 0===arguments[4]||arguments[4],A=function(e,t,n,a,u){var m,h="BigNumber"===a,g=h?l(0):0,y=h?l(1):"Complex"===a?N(1):1,v=h?l(1):1,x=h?l(10):2,D=o(x,x);u&&(m=Array(t).fill(y));for(var E=!1;!E;){E=!0;for(var A=0;A<t;A++){for(var C=g,S=g,M=0;M<t;M++)A!==M&&(C=r(C,c(e[M][A])),S=r(S,c(e[A][M])));if(!b(C,0)&&!b(S,0)){for(var F=v,T=C,O=s(S,x),B=o(S,x);_(T,O);)T=o(T,D),F=o(F,x);for(;w(T,B);)T=s(T,D),F=s(F,x);if(_(s(r(T,S),F),o(r(C,S),.95))){E=!1;for(var k=s(1,F),I=0;I<t;I++)A!==I&&(e[A][I]=o(e[A][I],k),e[I][A]=o(e[I][A],F));u&&(m[A]=o(m[A],k))}}}}return u?p(m):null}(e,m,0,D,E);!function(e,n,a,u,p,m){var h="BigNumber"===u,g=h?l(0):"Complex"===u?N(0):0;h&&(a=l(a));for(var y=0;y<n-2;y++){for(var v=0,x=g,b=y+1;b<n;b++){var w=e[b][y];_(c(x),c(w))&&(x=w,v=b)}if(!_(c(x),a)){if(v!==y+1){var D=e[v];e[v]=e[y+1],e[y+1]=D;for(var E=0;E<n;E++){var A=e[E][v];e[E][v]=e[E][y+1],e[E][y+1]=A}if(p){var C=m[v];m[v]=m[y+1],m[y+1]=C}}for(var S=y+2;S<n;S++){var M=s(e[S][y],x);if(0!==M){for(var F=0;F<n;F++)e[S][F]=t(e[S][F],o(M,e[y+1][F]));for(var T=0;T<n;T++)e[T][y+1]=r(e[T][y+1],o(M,e[T][S]));if(p)for(var O=0;O<n;O++)m[S][O]=t(m[S][O],o(M,m[y+1][O]))}}}}}(e,m,h,D,E,A);var{values:C,C:S}=function(e,n,s,m,h){var g="BigNumber"===m,v="Complex"===m,x=g?l(1):v?N(1):1;g&&(s=l(s));for(var b=object_clone(e),D=[],E=n,A=[],C=h?p(Array(n).fill(x)):void 0,S=h?p(Array(E).fill(x)):void 0,M=0;M<=100;){M+=1;for(var F=b[E-1][E-1],T=0;T<E;T++)b[T][T]=t(b[T][T],F);var{Q:O,R:B}=y(b);b=a(B,O);for(var k=0;k<E;k++)b[k][k]=r(b[k][k],F);if(h&&(S=a(S,O)),1===E||_(c(b[E-1][E-2]),s)){M=0,D.push(b[E-1][E-1]),h&&(A.unshift([[1]]),inflateMatrix(S,n),C=a(C,S),E>1&&(S=p(Array(E-1).fill(x)))),E-=1,b.pop();for(var I=0;I<E;I++)b[I].pop()}else if(2===E||_(c(b[E-2][E-3]),s)){M=0;var P=function(e,n,a,s){var c=r(e,s),l=t(o(e,s),o(n,a)),p=o(c,.5),m=o(u(t(o(c,c),o(4,l))),.5);return[r(p,m),t(p,m)]}(b[E-2][E-2],b[E-2][E-1],b[E-1][E-2],b[E-1][E-1]);D.push(...P),h&&(A.unshift(function(e,r,n,a,o,s,u,p){var m="BigNumber"===p,h="Complex"===p,g=m?l(0):h?N(0):0,y=m?l(1):h?N(1):1;if(_(c(n),u))return[[y,g],[g,y]];if(w(c(t(o,s)),u))return[[t(o,a),t(s,a)],[n,n]];var v=t(e,o),x=t(a,o);return _(c(r),u)&&_(c(x),u)?[[v,y],[n,g]]:[[r,g],[x,y]]}(b[E-2][E-2],b[E-2][E-1],b[E-1][E-2],b[E-1][E-1],P[0],P[1],s,m)),inflateMatrix(S,n),C=a(C,S),E>2&&(S=p(Array(E-2).fill(x)))),E-=2,b.pop(),b.pop();for(var z=0;z<E;z++)b[z].pop(),b[z].pop()}if(0===E)break}if(D.sort((e,r)=>+t(c(e),c(r))),M>100){var R=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+D.join(", "));throw R.values=D,R.vectors=[],R}return{values:D,C:h?a(C,function(e,r){for(var t=[],n=0;n<r;n++)t[n]=Array(r).fill(0);var a=0;for(var o of e){for(var s=o.length,u=0;u<s;u++)for(var c=0;c<s;c++)t[a+u][a+c]=o[u][c];a+=s}return t}(A,n)):void 0}}(e,m,h,D,E);return E?{values:C,eigenvectors:function(e,r,o,s,u,c,m){var h=a(g(o),e,o),y="BigNumber"===m,D="Complex"===m,E=y?l(0):D?N(0):0,A=y?l(1):D?N(1):1,C=[],S=[];for(var M of u){var F=function(e,r,t){for(var n=0;n<e.length;n++)if(t(e[n],r))return n;return -1}(C,M,b);-1===F?(C.push(M),S.push(1)):S[F]+=1}for(var T=[],O=C.length,B=Array(r).fill(E),k=p(Array(r).fill(A)),I=0;I<O;I++)!function(){var e=C[I],u=t(h,a(e,k)),p=x(u,B);for(p.shift();p.length<S[I];){var y=function(e,r,t,n,a){for(var o,s="BigNumber"===a?l(1e3):1e3,u=0;u<5;++u){o=function(e,r,t){var n="BigNumber"===t,a="Complex"===t,o=Array(e).fill(0).map(e=>2*Math.random()-1);return n&&(o=o.map(e=>l(e))),a&&(o=o.map(e=>N(e))),normalize(o=orthogonalComplement(o,r),t)}(r,t,a);try{o=v(e,o)}catch(e){continue}if(w(norm(o),s))break}if(u>=5)return null;for(u=0;;){var c=v(e,o);if(_(norm(orthogonalComplement(o,[c])),n))break;if(++u>=10)return null;o=normalize(c)}return o}(u,r,p,c,m);if(null===y)break;p.push(y)}var b=a(g(s),o);p=p.map(e=>a(b,e)),T.push(...p.map(r=>({value:e,vector:n(r)})))}();return T}(e,m,S,A,C,h,D)}:{values:C}}}({config:r,addScalar:a,subtract:o,multiply:v,multiplyScalar:m,flatten:w,divideScalar:h,sqrt:E,abs:u,bignumber:y,diag:A,size:C,reshape:S,qr:M,inv:g,usolve:F,usolveAll:T,equal:s,complex:D,larger:b,smaller:k,matrixFromColumns:I,dot:P});return t("eigs",{Array:function(e){return doEigs(n(e))},"Array, number|BigNumber":function(e,r){return doEigs(n(e),{precision:r})},"Array, Object":(e,r)=>doEigs(n(e),r),Matrix:function(e){return doEigs(e,{matricize:!0})},"Matrix, number|BigNumber":function(e,r){return doEigs(e,{precision:r,matricize:!0})},"Matrix, Object":function(e,r){var t={matricize:!0};return _extends(t,r),doEigs(e,t)}});function doEigs(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=!("eigenvectors"in a)||a.eigenvectors,c=function(e,r,t){var n=e.toArray(),a=e.size();if(2!==a.length||a[0]!==a[1])throw RangeError("Matrix must be square (size: ".concat(string_format(a),")"));var s=a[0];if(function(e,r,t){for(var n=0;n<r;n++)for(var a=0;a<r;a++)if(b(y(u(O(e[n][a]))),t))return!1;return!0}(n,s,r)&&(function(e,r){for(var t=0;t<r;t++)for(var n=0;n<r;n++)e[t][n]=B(e[t][n])}(n,s),function(e,r,t){for(var n=0;n<r;n++)for(var a=n;a<r;a++)if(b(y(u(o(e[n][a],e[a][n]))),t))return!1;return!0}(n,s,r))){var c=coerceTypes(e,n,s);return z(n,s,r,c,t)}var l=coerceTypes(e,n,s);return R(n,s,r,l,t)}(e,null!==(t=a.precision)&&void 0!==t?t:r.epsilon,s);return a.matricize&&(c.values=n(c.values),s&&(c.eigenvectors=c.eigenvectors.map(e=>{var{value:r,vector:t}=e;return{value:r,vector:n(t)}}))),s&&Object.defineProperty(c,"vectors",{enumerable:!1,get:()=>{throw Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),c}function coerceTypes(e,r,t){var n=e.datatype();if("number"===n||"BigNumber"===n||"Complex"===n)return n;for(var a=!1,o=!1,s=!1,u=0;u<t;u++)for(var c=0;c<t;c++){var l=r[u][c];if(isNumber(l)||isFraction(l))a=!0;else if(isBigNumber(l))o=!0;else if(isComplex(l))s=!0;else throw TypeError("Unsupported type in Matrix: "+typeOf(l))}if(o&&s&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),s){for(var p=0;p<t;p++)for(var m=0;m<t;m++)r[p][m]=D(r[p][m]);return"Complex"}if(o){for(var h=0;h<t;h++)for(var g=0;g<t;g++)r[h][g]=y(r[h][g]);return"BigNumber"}if(a){for(var v=0;v<t;v++)for(var x=0;x<t;x++)r[v][x]=_(r[v][x]);return"number"}throw TypeError("Matrix contains unsupported types only.")}}),cb="median",cN=factory_factory(cb,["typed","add","divide","compare","partitionSelect"],e=>{var{typed:r,add:t,divide:n,compare:a,partitionSelect:o}=e;function _median(e){try{var r=(e=flatten(e.valueOf())).length;if(0===r)throw Error("Cannot calculate median of an empty array");if(r%2==0){for(var t=r/2-1,n=o(e,t+1),c=e[t],l=0;l<t;++l)a(e[l],c)>0&&(c=e[l]);return u(c,n)}var p=o(e,(r-1)/2);return s(p)}catch(e){throw improveErrorMessage(e,"median")}}var s=r({"number | BigNumber | Complex | Unit":function(e){return e}}),u=r({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(e,r){return n(t(e,r),2)}});return r(cb,{"Array | Matrix":_median,"Array | Matrix, number | BigNumber":function(e,r){throw Error("median(A, dim) is not yet supported")},"...":function(e){if(containsCollections(e))throw TypeError("Scalar values expected in function median");return _median(e)}})}),cw="corr",c_=factory_factory(cw,["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],e=>{var{typed:r,matrix:t,sqrt:n,sum:a,add:o,subtract:s,multiply:u,pow:c,divide:l}=e;return r(cw,{"Array, Array":function(e,r){return _corr(e,r)},"Matrix, Matrix":function(e,r){var n=_corr(e.toArray(),r.toArray());return Array.isArray(n)?t(n):n}});function _corr(e,r){var t=[];if(Array.isArray(e[0])&&Array.isArray(r[0])){if(e.length!==r.length)throw SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var n=0;n<e.length;n++){if(e[n].length!==r[n].length)throw SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");t.push(correlation(e[n],r[n]))}return t}if(e.length!==r.length)throw SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return correlation(e,r)}function correlation(e,r){var t=e.length,p=a(e),m=a(r),h=e.reduce((e,t,n)=>o(e,u(t,r[n])),0),g=a(e.map(e=>c(e,2))),y=a(r.map(e=>c(e,2)));return l(s(u(t,h),u(p,m)),n(u(s(u(t,g),c(p,2)),s(u(t,y),c(m,2)))))}}),cD="freqz",cE=factory_factory(cD,["typed","add","multiply","Complex","divide","matrix"],e=>{var{typed:r,add:t,multiply:n,Complex:a,divide:o,matrix:s}=e;return r(cD,{"Array, Array":function(e,r){return _freqz(e,r,createBins(512))},"Array, Array, Array":function(e,r,t){return _freqz(e,r,t)},"Array, Array, number":function(e,r,t){if(t<0)throw Error("w must be a positive number");return _freqz(e,r,createBins(t))},"Matrix, Matrix":function(e,r){var t=createBins(512),{w:n,h:a}=_freqz(e.valueOf(),r.valueOf(),t);return{w:s(n),h:s(a)}},"Matrix, Matrix, Matrix":function(e,r,t){var{h:n}=_freqz(e.valueOf(),r.valueOf(),t.valueOf());return{h:s(n),w:s(t)}},"Matrix, Matrix, number":function(e,r,t){if(t<0)throw Error("w must be a positive number");var n=createBins(t),{h:a}=_freqz(e.valueOf(),r.valueOf(),n);return{h:s(a),w:s(n)}}});function _freqz(e,r,s){for(var u=[],c=[],l=0;l<s.length;l++){for(var p=a(0,0),m=a(0,0),h=0;h<e.length;h++)p=t(p,n(e[h],a(Math.cos(-h*s[l]),Math.sin(-h*s[l]))));for(var g=0;g<r.length;g++)m=t(m,n(r[g],a(Math.cos(-g*s[l]),Math.sin(-g*s[l]))));u.push(p),c.push(m)}for(var y=[],v=0;v<u.length;v++)y.push(o(u[v],c[v]));return{h:y,w:s}}function createBins(e){for(var r=[],t=0;t<e;t++)r.push(t/e*Math.PI);return r}}),cA=factory_factory("mad",["typed","abs","map","median","subtract"],e=>{var{typed:r,abs:t,map:n,median:a,subtract:o}=e;return r("mad",{"Array | Matrix":_mad,"...":function(e){return _mad(e)}});function _mad(e){if(0===(e=flatten(e.valueOf())).length)throw Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var r=a(e);return a(n(e,function(e){return t(o(e,r))}))}catch(e){if(e instanceof TypeError&&-1!==e.message.indexOf("median"))throw TypeError(e.message.replace("median","mad"));throw improveErrorMessage(e,"mad")}}}),cC="zeta",cS=factory_factory(cC,["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],e=>{var{typed:r,config:t,multiply:n,pow:a,divide:o,factorial:s,equal:u,smallerEq:c,isNegative:l,gamma:p,sin:m,subtract:h,add:g,Complex:y,BigNumber:v,pi:x}=e;return r(cC,{number:e=>zetaNumeric(e,e=>e,()=>20),BigNumber:e=>zetaNumeric(e,e=>new v(e),()=>Math.abs(Math.log10(t.epsilon))),Complex:function(e){return 0===e.re&&0===e.im?new y(-.5):1===e.re?new y(NaN,NaN):e.re===1/0&&0===e.im?new y(1):e.im===1/0||e.re===-1/0?new y(NaN,NaN):zeta(e,e=>e,e=>Math.round(19.5+.9*Math.abs(e.im)),e=>e.re)}});function zetaNumeric(e,r,t){return u(e,0)?r(-.5):u(e,1)?r(NaN):isFinite(e)?zeta(e,r,t,e=>e):r(l(e)?NaN:1)}function zeta(e,r,t,s){var u=t(e);if(s(e)>-(u-1)/2)return function(e,r,t){for(var s=o(1,n(d(t(0),r),h(1,a(2,h(1,e))))),u=t(0),l=t(1);c(l,r);l=g(l,1))u=g(u,o(n((-1)**(l-1),d(l,r)),a(l,e)));return n(s,u)}(e,r(u),r);var l=n(a(2,e),a(r(x),h(e,1)));return l=n(l,m(n(o(r(x),2),e))),l=n(l,p(h(1,e))),n(l,zeta(h(1,e),r,t,s))}function d(e,r){for(var t=e,u=e;c(u,r);u=g(u,1)){var l=o(n(s(g(r,h(u,1))),a(4,u)),n(s(h(r,u)),s(n(2,u))));t=g(t,l)}return n(r,t)}}),cM="norm",cF=factory_factory(cM,["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],e=>{var{typed:r,abs:t,add:n,pow:a,conj:o,sqrt:s,multiply:u,equalScalar:c,larger:l,smaller:p,matrix:m,ctranspose:h,eigs:g}=e;return r(cM,{number:Math.abs,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},boolean:function(e){return Math.abs(e)},Array:function(e){return _norm(m(e),2)},Matrix:function(e){return _norm(e,2)},"Array, number | BigNumber | string":function(e,r){return _norm(m(e),r)},"Matrix, number | BigNumber | string":function(e,r){return _norm(e,r)}});function _norm(e,r){var m=e.size();if(1===m.length)return function(e,r){if(r===Number.POSITIVE_INFINITY||"inf"===r)return o=0,e.forEach(function(e){var r=t(e);l(r,o)&&(o=r)},!0),o;if(r===Number.NEGATIVE_INFINITY||"-inf"===r)return e.forEach(function(e){var r=t(e);(!s||p(r,s))&&(s=r)},!0),s||0;if("fro"===r)return _norm(e,2);if("number"==typeof r&&!isNaN(r)){if(!c(r,0)){var o,s,u=0;return e.forEach(function(e){u=n(a(t(e),r),u)},!0),a(u,1/r)}return Number.POSITIVE_INFINITY}throw Error("Unsupported parameter value")}(e,r);if(2===m.length){if(m[0]&&m[1])return function(e,r){var a,c,p,m,y;if(1===r)return a=[],c=0,e.forEach(function(e,r){var o=r[1],s=n(a[o]||0,t(e));l(s,c)&&(c=s),a[o]=s},!0),c;if(r===Number.POSITIVE_INFINITY||"inf"===r)return p=[],m=0,e.forEach(function(e,r){var a=r[0],o=n(p[a]||0,t(e));l(o,m)&&(m=o),p[a]=o},!0),m;if("fro"===r)return y=0,e.forEach(function(e,r){y=n(y,u(e,o(e)))}),t(s(y));if(2===r)return function(e){var r=e.size();if(r[0]!==r[1])throw RangeError("Invalid matrix dimensions");var n=g(u(h(e),e)).values.toArray();return t(s(n[n.length-1]))}(e);throw Error("Unsupported parameter value "+r)}(e,r);throw RangeError("Invalid matrix dimensions")}}}),cT="rotationMatrix",cO=factory_factory(cT,["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],e=>{var{typed:r,config:t,multiplyScalar:n,addScalar:a,unaryMinus:o,norm:s,BigNumber:u,matrix:c,DenseMatrix:l,SparseMatrix:p,cos:m,sin:h}=e;return r(cT,{"":function(){return"Matrix"===t.matrix?c([]):[]},string:function(e){return c(e)},"number | BigNumber | Complex | Unit":function(e){return _rotationMatrix2x2(e,"Matrix"===t.matrix?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(e,r){return _rotationMatrix2x2(e,r)},"number | BigNumber | Complex | Unit, Array":function(e,r){var t=c(r);return _validateVector(t),_rotationMatrix3x3(e,t,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(e,r){_validateVector(r);var n=r.storage()||("Matrix"===t.matrix?"dense":void 0);return _rotationMatrix3x3(e,r,n)},"number | BigNumber | Complex | Unit, Array, string":function(e,r,t){var n=c(r);return _validateVector(n),_rotationMatrix3x3(e,n,t)},"number | BigNumber | Complex | Unit, Matrix, string":function(e,r,t){return _validateVector(r),_rotationMatrix3x3(e,r,t)}});function _rotationMatrix2x2(e,r){var t=isBigNumber(e)?new u(-1):-1,a=m(e),o=h(e);return _convertToFormat([[a,n(t,o)],[o,a]],r)}function _validateVector(e){var r=e.size();if(r.length<1||3!==r[0])throw RangeError("Vector must be of dimensions 1x3")}function _mul(e){return e.reduce((e,r)=>n(e,r))}function _convertToFormat(e,r){if(r){if("sparse"===r)return new p(e);if("dense"===r)return new l(e);throw TypeError('Unknown matrix type "'.concat(r,'"'))}return e}function _rotationMatrix3x3(e,r,t){var n=s(r);if(0===n)throw RangeError("Rotation around zero vector");var c=isBigNumber(e)?u:null,l=c?new c(1):1,p=c?new c(-1):-1,g=c?new c(r.get([0])/n):r.get([0])/n,y=c?new c(r.get([1])/n):r.get([1])/n,v=c?new c(r.get([2])/n):r.get([2])/n,x=m(e),b=a(l,o(x)),N=h(e);return _convertToFormat([[a(x,_mul([g,g,b])),a(_mul([g,y,b]),_mul([p,v,N])),a(_mul([g,v,b]),_mul([y,N]))],[a(_mul([g,y,b]),_mul([v,N])),a(x,_mul([y,y,b])),a(_mul([y,v,b]),_mul([p,g,N]))],[a(_mul([g,v,b]),_mul([p,y,N])),a(_mul([y,v,b]),_mul([g,N])),a(x,_mul([v,v,b]))]],t)}}),cB="kldivergence",ck=factory_factory(cB,["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],e=>{var{typed:r,matrix:t,divide:n,sum:a,multiply:o,map:s,dotDivide:u,log:c,isNumeric:l}=e;return r(cB,{"Array, Array":function(e,r){return _kldiv(t(e),t(r))},"Matrix, Array":function(e,r){return _kldiv(e,t(r))},"Array, Matrix":function(e,r){return _kldiv(t(e),r)},"Matrix, Matrix":function(e,r){return _kldiv(e,r)}});function _kldiv(e,r){var t=r.size().length,p=e.size().length;if(t>1)throw Error("first object must be one dimensional");if(p>1)throw Error("second object must be one dimensional");if(t!==p)throw Error("Length of two vectors must be equal");if(0===a(e))throw Error("Sum of elements in first object must be non zero");if(0===a(r))throw Error("Sum of elements in second object must be non zero");var m=n(e,a(e)),h=n(r,a(r)),g=a(o(m,s(u(m,h),e=>c(e))));return l(g)?g:Number.NaN}}),cI="schur",cP=factory_factory(cI,["typed","matrix","identity","multiply","qr","norm","subtract"],e=>{var{typed:r,matrix:t,identity:n,multiply:a,qr:o,norm:s,subtract:u}=e;return r(cI,{Array:function(e){var r=_schur(t(e));return{U:r.U.valueOf(),T:r.T.valueOf()}},Matrix:function(e){return _schur(e)}});function _schur(e){var r,t=e.size()[0],c=e,l=n(t),p=0;do{r=c;var m=o(c),h=m.Q;if(c=a(m.R,h),l=a(l,h),p++>100)break}while(s(u(c,r))>1e-4);return{U:l,T:c}}}),cz="rotate",cR=factory_factory(cz,["typed","multiply","rotationMatrix"],e=>{var{typed:r,multiply:t,rotationMatrix:n}=e;return r(cz,{"Array , number | BigNumber | Complex | Unit":function(e,r){return _validateSize(e,2),t(n(r),e).toArray()},"Matrix , number | BigNumber | Complex | Unit":function(e,r){return _validateSize(e,2),t(n(r),e)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(e,r,a){return _validateSize(e,3),t(n(r,a),e)},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(e,r,a){return _validateSize(e,3),t(n(r,a),e)}});function _validateSize(e,r){var t=Array.isArray(e)?arraySize(e):e.size();if(t.length>2||2===t.length&&1!==t[1]||t[0]!==r)throw RangeError("Vector must be of dimensions 1x".concat(r))}}),cq="sylvester",cj=factory_factory(cq,["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],e=>{var{typed:r,schur:t,matrixFromColumns:n,matrix:a,multiply:o,range:s,concat:u,transpose:c,index:l,subset:p,add:m,subtract:h,identity:g,lusolve:y,abs:v}=e;return r(cq,{"Matrix, Matrix, Matrix":_sylvester,"Array, Matrix, Matrix":function(e,r,t){return _sylvester(a(e),r,t)},"Array, Array, Matrix":function(e,r,t){return _sylvester(a(e),a(r),t)},"Array, Matrix, Array":function(e,r,t){return _sylvester(a(e),r,a(t))},"Matrix, Array, Matrix":function(e,r,t){return _sylvester(e,a(r),t)},"Matrix, Array, Array":function(e,r,t){return _sylvester(e,a(r),a(t))},"Matrix, Matrix, Array":function(e,r,t){return _sylvester(e,r,a(t))},"Array, Array, Array":function(e,r,t){return _sylvester(a(e),a(r),a(t)).toArray()}});function _sylvester(e,r,x){for(var b=r.size()[0],N=e.size()[0],w=t(e),_=w.T,D=w.U,E=t(o(-1,r)),A=E.T,C=E.U,S=o(o(c(D),x),C),M=s(0,N),F=[],hc=(e,r)=>u(e,r,1),vc=(e,r)=>u(e,r,0),T=0;T<b;T++)if(T<b-1&&v(p(A,l(T+1,T)))>1e-5){for(var O=vc(p(S,l(M,T)),p(S,l(M,T+1))),B=0;B<T;B++)O=m(O,vc(o(F[B],p(A,l(B,T))),o(F[B],p(A,l(B,T+1)))));var k=o(g(N),o(-1,p(A,l(T,T)))),I=o(g(N),o(-1,p(A,l(T+1,T)))),P=o(g(N),o(-1,p(A,l(T,T+1)))),z=o(g(N),o(-1,p(A,l(T+1,T+1)))),R=y(vc(hc(m(_,k),I),hc(P,m(_,z))),O);F[T]=R.subset(l(s(0,N),0)),F[T+1]=R.subset(l(s(N,2*N),0)),T++}else{for(var q=p(S,l(M,T)),j=0;j<T;j++)q=m(q,o(F[j],p(A,l(j,T))));var U=h(_,o(p(A,l(T,T)),g(N)));F[T]=y(U,q)}return o(D,o(a(n(...F)),c(C)))}}),cU="lyap",cL=factory_factory(cU,["typed","matrix","sylvester","multiply","transpose"],e=>{var{typed:r,matrix:t,sylvester:n,multiply:a,transpose:o}=e;return r(cU,{"Matrix, Matrix":function(e,r){return n(e,o(e),a(-1,r))},"Array, Matrix":function(e,r){return n(t(e),o(t(e)),a(-1,r))},"Matrix, Array":function(e,r){return n(e,o(t(e)),t(a(-1,r)))},"Array, Array":function(e,r){return n(t(e),o(t(e)),t(a(-1,r))).toArray()}})}),cH=r0({config:config}),c$=r2({}),cV=tu({BigNumber:cH,config:config}),cZ=tr({}),cG=tz({BigNumber:cH,config:config}),cW=na({}),cY=tg({Complex:c$}),cX=tn({BigNumber:cH,config:config}),cJ=tf({BigNumber:cH,config:config}),cK=tm({BigNumber:cH,config:config}),cQ=no({}),c0=ti({BigNumber:cH,config:config}),c1=tt({}),c2=tc({BigNumber:cH,config:config}),c3=ns({}),c5=nu({}),c4=th({BigNumber:cH,config:config}),c8=t2({BigNumber:cH,config:config}),c6=ts({BigNumber:cH,config:config}),c7=te({}),c9=ty({}),le=nc({Matrix:cQ}),lr=tZ({BigNumber:cH,config:config}),lt=tl({BigNumber:cH,config:config}),li=ta({BigNumber:cH,config:config}),la=nl({}),lo=td({BigNumber:cH,config:config}),ls=nf({BigNumber:cH,Complex:c$,DenseMatrix:le,Fraction:cW}),lu=nd({BigNumber:cH,config:config,typed:ls}),lc=tV({BigNumber:cH,config:config}),ll=ng({typed:ls}),lf=nv({Complex:c$,config:config,typed:ls}),lp=nN({BigNumber:cH,typed:ls}),lm=n_({BigNumber:cH,Complex:c$,config:config,typed:ls}),lh=nE({typed:ls}),ld=nA({typed:ls}),lg=nS({BigNumber:cH,Complex:c$,config:config,typed:ls}),ly=nM({typed:ls}),lv=nF({typed:ls}),lx=nO({Complex:c$,config:config,typed:ls}),lb=nB({BigNumber:cH,typed:ls}),lN=nP({typed:ls}),lw=nR({typed:ls}),l_=nj({typed:ls}),lD=nL({typed:ls}),lE=nH({Complex:c$,typed:ls}),lA=nV({typed:ls}),lC=nG({typed:ls}),lS=nW({BigNumber:cH,typed:ls}),lM=nY({BigNumber:cH,typed:ls}),lF=nJ({typed:ls}),lT=n0({config:config,typed:ls}),lO=n1({typed:ls}),lB=n6({typed:ls}),lk=n9({Complex:c$,typed:ls}),lI=ie({typed:ls}),lP=it({typed:ls}),lz=ia({typed:ls}),lR=is({typed:ls}),lq=iu({format:lz,typed:ls}),lj=ic({typed:ls}),lU=ip({typed:ls}),lL=id({typed:ls}),lH=iy({typed:ls}),l$=ix({typed:ls}),lV=tp({BigNumber:cH,config:config}),lZ=iD({Complex:c$,typed:ls}),lG=iA({Complex:c$,config:config,typed:ls}),lW=iS({Complex:c$,config:config,typed:ls}),lY=iM({typed:ls}),lX=iF({typed:ls}),lJ=iO({typed:ls}),lK=iB({typed:ls}),lQ=ik({format:lz,typed:ls}),l0=iR({config:config,typed:ls}),l1=e1({typed:ls}),l2=ij({config:config,typed:ls}),l3=iU({typed:ls}),l5=iL({BigNumber:cH,typed:ls}),l4=i$({BigNumber:cH,Fraction:cW,complex:lE,typed:ls}),l8=iV({typed:ls}),l6=iZ({Matrix:cQ,equalScalar:lT,typed:ls}),l7=iW({typed:ls}),l9=iX({typed:ls}),fe=iK({typed:ls}),fr=i0({typed:ls}),ft=i1({typed:ls}),fn=i3({typed:ls}),fi=i4({Complex:c$,config:config,typed:ls}),fa=i6({BigNumber:cH,typed:ls}),fo=eZ({isInteger:lU,typed:ls}),fs=i9({BigNumber:cH,Complex:c$,config:config,typed:ls}),fu=ae({format:lz,typed:ls}),fc=at({typed:ls}),fl=ai({typed:ls}),ff=ao({BigNumber:cH,typed:ls}),fp=au({typed:ls}),fm=al({typed:ls}),fh=ap({config:config,typed:ls}),fd=ah({BigNumber:cH,typed:ls}),fg=ag({typed:ls}),fy=av({SparseMatrix:l6,typed:ls}),fv=ax({Complex:c$,config:config,typed:ls}),fx=ab({typed:ls}),fb=aw({typed:ls}),fN=aD({BigNumber:cH,Complex:c$,config:config,typed:ls}),fw=aA({BigNumber:cH,typed:ls}),f_=aC({Fraction:cW,typed:ls}),fD=aM({typed:ls}),fE=aT({DenseMatrix:le,Matrix:cQ,SparseMatrix:l6,typed:ls}),fA=aB({isZero:l$,matrix:fE,typed:ls}),fC=aI({isNaN:fp,isNumeric:fD,typed:ls}),fS=aP({bignumber:lb,fraction:f_,number:lK}),fM=aR({config:config,multiplyScalar:lX,numeric:fS,typed:ls}),fF=aj({isInteger:lU,matrix:fE,typed:ls}),fT=aL({matrix:fE,config:config,typed:ls}),fO=a$({matrix:fE,typed:ls}),fB=aZ({matrix:fE,typed:ls}),fk=aW({BigNumber:cH,config:config,matrix:fE,typed:ls}),fI=aX({BigNumber:cH,config:config,matrix:fE,typed:ls}),fP=aK({Complex:c$,config:config,typed:ls}),fz=a0({BigNumber:cH,Complex:c$,Fraction:cW,config:config,isNegative:lL,matrix:fE,typed:ls,unaryMinus:fb}),fR=eY({isInteger:lU,matrix:fE,typed:ls}),fq=a2({prod:fM,size:fT,typed:ls}),fj=a5({conj:lA,transpose:fB,typed:ls}),fU=a8({DenseMatrix:le,SparseMatrix:l6,matrix:fE,typed:ls}),fL=a7({numeric:fS,typed:ls}),fH=oc({DenseMatrix:le,concat:fR,divideScalar:fL,equalScalar:lT,matrix:fE,typed:ls}),f$=of({DenseMatrix:le,concat:fR,equalScalar:lT,matrix:fE,typed:ls}),fV=oh({matrix:fE,typed:ls}),fZ=og({isNumeric:fD,typed:ls}),fG=ov({BigNumber:cH,DenseMatrix:le,SparseMatrix:l6,config:config,matrix:fE,typed:ls}),fW=ob({matrix:fE,multiplyScalar:lX,typed:ls}),fY=ow({DenseMatrix:le,concat:fR,config:config,matrix:fE,typed:ls}),fX=oM({DenseMatrix:le,concat:fR,equalScalar:lT,matrix:fE,typed:ls,zeros:fI}),fJ=oT({DenseMatrix:le,divideScalar:fL,equalScalar:lT,matrix:fE,multiplyScalar:lX,subtractScalar:fr,typed:ls}),fK=oB({flatten:fV,matrix:fE,size:fT,typed:ls}),fQ=oz({BigNumber:cH,concat:fR,equalScalar:lT,matrix:fE,typed:ls}),f0=oR({BigNumber:cH,config:config,matrix:fE,typed:ls}),f1=oq({addScalar:lh,complex:lE,conj:lA,divideScalar:fL,equal:f$,identity:fG,isZero:l$,matrix:fE,multiplyScalar:lX,sign:l4,sqrt:fv,subtractScalar:fr,typed:ls,unaryMinus:fb,zeros:fI}),f2=oj({config:config,matrix:fE}),f3=oL({DenseMatrix:le,concat:fR,equalScalar:lT,matrix:fE,typed:ls,zeros:fI}),f5=oV({BigNumber:cH,DenseMatrix:le,equalScalar:lT,matrix:fE,typed:ls,zeros:fI}),f4=oG({DenseMatrix:le,concat:fR,config:config,matrix:fE,typed:ls}),f8=oJ({DenseMatrix:le,concat:fR,equalScalar:lT,matrix:fE,subtractScalar:fr,typed:ls,unaryMinus:fb}),f6=oK({concat:fR,matrix:fE,typed:ls}),f7=o0({DenseMatrix:le,concat:fR,config:config,equalScalar:lT,matrix:fE,typed:ls}),f9=o3({DenseMatrix:le,divideScalar:fL,equalScalar:lT,matrix:fE,multiplyScalar:lX,subtractScalar:fr,typed:ls}),pe=o5({DenseMatrix:le,concat:fR,matrix:fE,typed:ls}),pr=o8({DenseMatrix:le,SparseMatrix:l6,addScalar:lh,concat:fR,equalScalar:lT,matrix:fE,typed:ls}),pt=o9({BigNumber:cH,DenseMatrix:le,concat:fR,equalScalar:lT,matrix:fE,typed:ls}),pn=sr({concat:fR,equalScalar:lT,matrix:fE,typed:ls}),pi=sn({DenseMatrix:le,concat:fR,matrix:fE,typed:ls}),pa=sa({addScalar:lh,combinations:lD,divideScalar:fL,isInteger:lU,isNegative:lL,multiplyScalar:lX,typed:ls}),po=ss({BigNumber:cH,DenseMatrix:le,Fraction:cW,concat:fR,config:config,equalScalar:lT,matrix:fE,typed:ls}),ps=sl({concat:fR,matrix:fE,typed:ls}),pu=ro({add:pr,typed:ls,unaryPlus:lu}),pc=sp({equal:f$,typed:ls}),pl=e4({matrix:fE,number:lK,subtract:f8,typed:ls}),pf=sh({abs:ll,addScalar:lh,deepEqual:pc,divideScalar:fL,multiplyScalar:lX,sqrt:fv,subtractScalar:fr,typed:ls}),pp=sd({addScalar:lh,conj:lA,multiplyScalar:lX,size:fT,typed:ls}),pm=sy({compareText:ps,isZero:l$,typed:ls}),ph=sb({DenseMatrix:le,config:config,equalScalar:lT,matrix:fE,round:f5,typed:ls,zeros:fI}),pd=sD({BigNumber:cH,DenseMatrix:le,concat:fR,config:config,equalScalar:lT,matrix:fE,round:f5,typed:ls,zeros:fI}),pg=sA({abs:ll,addScalar:lh,divideScalar:fL,isPositive:lH,multiplyScalar:lX,smaller:f4,sqrt:fv,typed:ls}),py=sC({DenseMatrix:le,smaller:f4}),pv=sS({ImmutableDenseMatrix:py,getMatrixDataType:lR}),px=sF({DenseMatrix:le,concat:fR,config:config,matrix:fE,typed:ls}),pb=sO({Complex:c$,config:config,divideScalar:fL,typed:ls}),pN=sk({DenseMatrix:le,divideScalar:fL,equalScalar:lT,matrix:fE,multiplyScalar:lX,subtractScalar:fr,typed:ls}),pw=sP({flatten:fV,matrix:fE,size:fT,typed:ls}),p_=e7({config:config,numeric:fS,smaller:f4,typed:ls}),pD=sN({DenseMatrix:le,concat:fR,config:config,equalScalar:lT,matrix:fE,round:f5,typed:ls,zeros:fI}),pE=sR({addScalar:lh,dot:pp,equalScalar:lT,matrix:fE,multiplyScalar:lX,typed:ls}),pA=sj({Complex:c$,config:config,divideScalar:fL,typed:ls}),pC=sU({DenseMatrix:le,concat:fR,equalScalar:lT,matrix:fE,typed:ls}),pS=sH({compare:po,isNaN:fp,isNumeric:fD,typed:ls}),pM=sV({DenseMatrix:le,concat:fR,equalScalar:lT,matrix:fE,typed:ls,zeros:fI}),pF=sJ({SparseMatrix:l6,abs:ll,add:pr,divideScalar:fL,larger:px,largerEq:fY,multiply:pE,subtract:f8,transpose:fB,typed:ls}),pT=rr({add:pr,matrix:fE,typed:ls,zeros:fI}),pO=rl({add:pr,config:config,numeric:fS,typed:ls}),pB=sK({add:pr,matrix:fE,typed:ls}),pk=s0({DenseMatrix:le,divideScalar:fL,equalScalar:lT,matrix:fE,multiplyScalar:lX,subtractScalar:fr,typed:ls}),pI=s2({Complex:c$,add:pr,multiply:pE,number:lK,typed:ls}),pP=s5({DenseMatrix:le,concat:fR,equalScalar:lT,matrix:fE,typed:ls}),pz=s6({DenseMatrix:le,config:config,equalScalar:lT,matrix:fE,round:f5,typed:ls,zeros:fI}),pR=ue({compare:po,typed:ls}),pq=ut({addScalar:lh,combinations:lD,isInteger:lU,isNegative:lL,isPositive:lH,larger:px,typed:ls}),pj=ui({matrix:fE,multiply:pE,subtract:f8,typed:ls}),pU=ua({divideScalar:fL,isZero:l$,matrix:fE,multiply:pE,subtractScalar:fr,typed:ls,unaryMinus:fb}),pL=us({concat:fR,equalScalar:lT,matrix:fE,multiplyScalar:lX,typed:ls}),pH=uu({larger:px,smaller:f4}),p$=ul({Complex:c$,DenseMatrix:le,ceil:pz,equalScalar:lT,floor:ph,matrix:fE,typed:ls,zeros:fI}),pV=up({Index:pv,typed:ls}),pZ=um({abs:ll,add:pr,addScalar:lh,config:config,divideScalar:fL,equalScalar:lT,flatten:fV,isNumeric:fD,isZero:l$,matrix:fE,multiply:pE,multiplyScalar:lX,smaller:f4,subtract:f8,typed:ls}),pG=ud({BigNumber:cH,add:pr,config:config,equal:f$,isInteger:lU,mod:pD,smaller:f4,typed:ls,xgcd:fk}),pW=ug({concat:fR,equalScalar:lT,matrix:fE,typed:ls}),pY=uv({Complex:c$,config:config,divideScalar:fL,log:pb,typed:ls}),pX=eJ({config:config,larger:px,numeric:fS,typed:ls}),pJ=ub({DenseMatrix:le,Index:pv,compareNatural:pR,size:fT,subset:pT,typed:ls}),pK=uw({DenseMatrix:le,Index:pv,compareNatural:pR,size:fT,subset:pT,typed:ls}),pQ=uD({Index:pv,compareNatural:pR,size:fT,subset:pT,typed:ls}),p0=uA({Index:pv,compareNatural:pR,size:fT,subset:pT,typed:ls}),p1=uS({DenseMatrix:le,concat:fR,config:config,matrix:fE,typed:ls}),p2=uT({compare:po,compareNatural:pR,matrix:fE,typed:ls}),p3=uO({concat:fR,equalScalar:lT,matrix:fE,not:lJ,typed:ls,zeros:fI}),p5=rm({bignumber:lb,matrix:fE,add:pr,config:config,isPositive:lH,larger:px,largerEq:fY,smaller:f4,smallerEq:p1,typed:ls}),p4=rd({Index:pv,matrix:fE,range:p5,typed:ls}),p8=uk({DenseMatrix:le,Index:pv,compareNatural:pR,size:fT,subset:pT,typed:ls}),p6=uP({Index:pv,compareNatural:pR,size:fT,subset:pT,typed:ls}),p7=uR({Index:pv,concat:fR,setDifference:p8,size:fT,subset:pT,typed:ls}),p9=uq({FibonacciHeap:pH,addScalar:lh,equalScalar:lT}),me=rv({Index:pv,matrix:fE,range:p5,typed:ls}),mr=uj({abs:ll,addScalar:lh,det:pU,divideScalar:fL,identity:fG,matrix:fE,multiply:pE,typed:ls,unaryMinus:fb}),mt=uU({DenseMatrix:le,Spa:p9,SparseMatrix:l6,abs:ll,addScalar:lh,divideScalar:fL,equalScalar:lT,larger:px,matrix:fE,multiplyScalar:lX,subtractScalar:fr,typed:ls,unaryMinus:fb}),mn=uH({Complex:c$,add:pr,ctranspose:fj,deepEqual:pc,divideScalar:fL,dot:pp,dotDivide:fH,equal:f$,inv:mr,matrix:fE,multiply:pE,typed:ls}),mi=u$({Complex:c$,config:config,fraction:f_,identity:fG,inv:mr,matrix:fE,multiply:pE,number:lK,typed:ls}),ma=uZ({DenseMatrix:le,Index:pv,compareNatural:pR,size:fT,subset:pT,typed:ls}),mo=uW({Index:pv,concat:fR,setIntersect:ma,setSymDifference:p7,size:fT,subset:pT,typed:ls}),ms=uX({abs:ll,add:pr,identity:fG,inv:mr,map:lY,max:pX,multiply:pE,size:fT,sqrt:fv,subtract:f8,typed:ls}),mu=uJ({BigNumber:cH,Complex:c$,Fraction:cW,abs:ll,addScalar:lh,config:config,divideScalar:fL,equal:f$,fix:p$,format:lz,isNumeric:fD,multiplyScalar:lX,number:lK,pow:mi,round:f5,subtractScalar:fr}),mc=tD({BigNumber:cH,Unit:mu,config:config}),ml=t4({BigNumber:cH,Unit:mu,config:config}),mf=tG({BigNumber:cH,Unit:mu,config:config}),mp=tC({BigNumber:cH,Unit:mu,config:config}),mm=tY({BigNumber:cH,Unit:mu,config:config}),mh=tS({BigNumber:cH,Unit:mu,config:config}),md=tE({BigNumber:cH,Unit:mu,config:config}),mg=tj({BigNumber:cH,Unit:mu,config:config}),my=uQ({DenseMatrix:le,concat:fR,equalScalar:lT,matrix:fE,pow:mi,typed:ls}),mv=t_({BigNumber:cH,Unit:mu,config:config}),mx=tA({BigNumber:cH,Unit:mu,config:config}),mb=u1({abs:ll,add:pr,identity:fG,inv:mr,multiply:pE,typed:ls}),mN=tX({BigNumber:cH,Unit:mu,config:config}),mw=u2({addScalar:lh,ceil:pz,conj:lA,divideScalar:fL,dotDivide:fH,exp:lB,i:cY,log2:lW,matrix:fE,multiplyScalar:lX,pow:mi,tau:c6,typed:ls}),m_=u5({BigNumber:cH,Complex:c$,config:config,multiplyScalar:lX,pow:mi,typed:ls}),mD=tx({BigNumber:cH,Unit:mu,config:config}),mE=tR({BigNumber:cH,Unit:mu,config:config}),mA=u8({conj:lA,dotDivide:fH,fft:mw,typed:ls}),mC=tO({BigNumber:cH,Unit:mu,config:config}),mS=tK({BigNumber:cH,Unit:mu,config:config}),mM=tw({BigNumber:cH,Unit:mu,config:config}),mF=t8({BigNumber:cH,Unit:mu,config:config}),mT=t0({BigNumber:cH,Unit:mu,config:config}),mO=tU({BigNumber:cH,Unit:mu,config:config}),mB=tT({BigNumber:cH,Unit:mu,config:config}),mk=nt({BigNumber:cH,Unit:mu,config:config}),mI=t9({BigNumber:cH,Unit:mu,config:config}),mP=nn({BigNumber:cH,Unit:mu,config:config}),mz=tq({BigNumber:cH,Unit:mu,config:config}),mR=tL({BigNumber:cH,Unit:mu,config:config}),mq=tN({BigNumber:cH,Unit:mu,config:config}),mj=tH({BigNumber:cH,Unit:mu,config:config}),mU=t3({BigNumber:cH,Unit:mu,config:config}),mL=tv({BigNumber:cH,Unit:mu,config:config}),mH=t5({BigNumber:cH,Unit:mu,config:config}),m$=t$({BigNumber:cH,Unit:mu,config:config}),mV=tW({BigNumber:cH,Unit:mu,config:config}),mZ=tB({BigNumber:cH,Unit:mu,config:config}),mG=u7({Unit:mu,typed:ls}),mW=u9({divideScalar:fL,equalScalar:lT,inv:mr,matrix:fE,multiply:pE,typed:ls}),mY=tI({BigNumber:cH,Unit:mu,config:config}),mX=cr({gamma:m_,typed:ls}),mJ=tJ({BigNumber:cH,Unit:mu,config:config}),mK=t7({BigNumber:cH,Unit:mu,config:config}),mQ=tM({BigNumber:cH,Unit:mu,config:config}),m0=cn({DenseMatrix:le,lsolve:fJ,lup:mt,matrix:fE,slu:pF,typed:ls,usolve:f9}),m1=tF({BigNumber:cH,Unit:mu,config:config}),m2=t6({BigNumber:cH,Unit:mu,config:config}),m3=ca({add:pr,divide:mW,factorial:mX,isInteger:lU,isPositive:lH,multiply:pE,typed:ls}),m5=cs({factorial:mX,typed:ls}),m4=ne({BigNumber:cH,Unit:mu,config:config}),m8=cc({add:pr,cbrt:fz,divide:mW,equalScalar:lT,im:lj,isZero:l$,multiply:pE,re:l3,sqrt:fv,subtract:f8,typeOf:fn,typed:ls,unaryMinus:fb}),m6=cf({compareNatural:pR,typed:ls}),m7=cp({abs:ll,add:pr,bignumber:lb,divide:mW,isNegative:lL,isPositive:lH,larger:px,map:lY,matrix:fE,max:pX,multiply:pE,smaller:f4,subtract:f8,typed:ls,unaryMinus:fb}),m9=ch({bignumber:lb,addScalar:lh,combinations:lD,divideScalar:fL,factorial:mX,isInteger:lU,isNegative:lL,larger:px,multiplyScalar:lX,number:lK,pow:mi,subtractScalar:fr,typed:ls}),he=cg({Unit:mu,typed:ls}),hr=cv({addScalar:lh,isInteger:lU,isNegative:lL,stirlingS2:m9,typed:ls}),ht=cx({abs:ll,add:pr,addScalar:lh,atan:lv,bignumber:lb,column:me,complex:lE,config:config,cos:lC,diag:fU,divideScalar:fL,dot:pp,equal:f$,flatten:fV,im:lj,inv:mr,larger:px,matrix:fE,matrixFromColumns:fK,multiply:pE,multiplyScalar:lX,number:lK,qr:f1,re:l3,reshape:fF,sin:l8,size:fT,smaller:f4,sqrt:fv,subtract:f8,typed:ls,usolve:f9,usolveAll:pk}),hn=tP({BigNumber:cH,Unit:mu,config:config}),hi=tQ({BigNumber:cH,Unit:mu,config:config}),ha=rN({add:pr,divide:mW,typed:ls}),ho=t1({BigNumber:cH,Unit:mu,config:config}),hs=tb({BigNumber:cH,Unit:mu,config:config}),hu=rD({bignumber:lb,add:pr,compare:po,divide:mW,isInteger:lU,larger:px,multiply:pE,partitionSelect:pS,smaller:f4,smallerEq:p1,subtract:f8,typed:ls}),hl=rS({add:pr,apply:fo,divide:mW,isNaN:fp,multiply:pE,subtract:f8,typed:ls}),hf=tk({BigNumber:cH,Unit:mu,config:config}),hp=cN({add:pr,compare:po,divide:mW,partitionSelect:pS,typed:ls}),hm=c_({add:pr,divide:mW,matrix:fE,mean:ha,multiply:pE,pow:mi,sqrt:fv,subtract:f8,sum:pO,typed:ls}),hh=cE({Complex:c$,add:pr,divide:mW,matrix:fE,multiply:pE,typed:ls}),hd=cA({abs:ll,map:lY,median:hp,subtract:f8,typed:ls}),hg=rT({map:lY,sqrt:fv,typed:ls,variance:hl}),hy=cS({BigNumber:cH,Complex:c$,add:pr,config:config,divide:mW,equal:f$,factorial:mX,gamma:m_,isNegative:lL,multiply:pE,pi:li,pow:mi,sin:l8,smallerEq:p1,subtract:f8,typed:ls}),hv=cF({abs:ll,add:pr,conj:lA,ctranspose:fj,eigs:ht,equalScalar:lT,larger:px,matrix:fE,multiply:pE,pow:mi,smaller:f4,sqrt:fv,typed:ls}),hx=cO({BigNumber:cH,DenseMatrix:le,SparseMatrix:l6,addScalar:lh,config:config,cos:lC,matrix:fE,multiplyScalar:lX,norm:hv,sin:l8,typed:ls,unaryMinus:fb}),hb=ck({divide:mW,dotDivide:fH,isNumeric:fD,log:pb,map:lY,matrix:fE,multiply:pE,sum:pO,typed:ls}),hN=nr({BigNumber:cH,Unit:mu,config:config}),hw=cP({identity:fG,matrix:fE,multiply:pE,norm:hv,qr:f1,subtract:f8,typed:ls}),h_=cR({multiply:pE,rotationMatrix:hx,typed:ls}),hD=cj({abs:ll,add:pr,concat:fR,identity:fG,index:pV,lusolve:m0,matrix:fE,matrixFromColumns:fK,multiply:pE,range:p5,schur:hw,subset:pT,subtract:f8,transpose:fB,typed:ls}),hE=cL({matrix:fE,multiply:pE,sylvester:hD,transpose:fB,typed:ls}),hA={},hC={},hS={},hM=c({mathWithTransform:hC}),hF=C({Node:hM}),hT=I({Node:hM}),hO=z({Node:hM}),hB=q({Node:hM}),hk=U({Node:hM}),hI=H({Node:hM,ResultSet:c5}),hP=V({Node:hM}),hz=G({Node:hM}),hR=Y({Node:hM}),hq=X({classes:hS}),hj=J({math:hA,typed:ls}),hU=Q({Node:hM,typed:ls}),hL=er({Chain:hj,typed:ls}),hH=en({Node:hM,size:fT}),h$=ea({Node:hM,subset:pT}),hV=es({matrix:fE,Node:hM,subset:pT}),hZ=eu({Unit:mu,Node:hM,math:hA}),hG=el({Node:hM,SymbolNode:hZ,math:hA}),hW=ep({AccessorNode:h$,ArrayNode:hk,AssignmentNode:hV,BlockNode:hI,ConditionalNode:hP,ConstantNode:hz,FunctionAssignmentNode:hU,FunctionNode:hG,IndexNode:hH,ObjectNode:hF,OperatorNode:hT,ParenthesisNode:hO,RangeNode:hR,RelationalNode:hB,SymbolNode:hZ,config:config,numeric:fS,typed:ls}),hY=em({ConstantNode:hz,FunctionNode:hG,OperatorNode:hT,ParenthesisNode:hO,parse:hW,typed:ls}),hX=ed({bignumber:lb,fraction:f_,AccessorNode:h$,ArrayNode:hk,ConstantNode:hz,FunctionNode:hG,IndexNode:hH,ObjectNode:hF,OperatorNode:hT,SymbolNode:hZ,config:config,mathWithTransform:hC,matrix:fE,typed:ls}),hJ=ey({parse:hW,typed:ls}),hK=ev({parse:hW}),hQ=eb({parse:hW,typed:ls}),h0=ew({AccessorNode:h$,ArrayNode:hk,ConstantNode:hz,FunctionNode:hG,IndexNode:hH,ObjectNode:hF,OperatorNode:hT,ParenthesisNode:hO,SymbolNode:hZ,add:pr,divide:mW,equal:f$,isZero:l$,multiply:pE,parse:hW,pow:mi,subtract:f8,typed:ls}),h3=eD({parse:hW,typed:ls}),h5=eM({Help:hK,mathWithTransform:hC,typed:ls}),h4=eF({evaluate:h3}),h8=eT({bignumber:lb,fraction:f_,AccessorNode:h$,ArrayNode:hk,ConstantNode:hz,FunctionNode:hG,IndexNode:hH,ObjectNode:hF,OperatorNode:hT,ParenthesisNode:hO,SymbolNode:hZ,add:pr,config:config,divide:mW,equal:f$,isZero:l$,mathWithTransform:hC,matrix:fE,multiply:pE,parse:hW,pow:mi,resolve:hY,simplifyConstant:hX,simplifyCore:h0,subtract:f8,typed:ls}),h6=eB({OperatorNode:hT,parse:hW,simplify:h8,typed:ls}),h7=eI({Parser:h4,typed:ls}),h9=ez({bignumber:lb,fraction:f_,AccessorNode:h$,ArrayNode:hk,ConstantNode:hz,FunctionNode:hG,IndexNode:hH,ObjectNode:hF,OperatorNode:hT,ParenthesisNode:hO,SymbolNode:hZ,add:pr,config:config,divide:mW,equal:f$,isZero:l$,mathWithTransform:hC,matrix:fE,multiply:pE,parse:hW,pow:mi,simplify:h8,simplifyConstant:hX,simplifyCore:h0,subtract:f8,typed:ls}),de=ej({ConstantNode:hz,FunctionNode:hG,OperatorNode:hT,ParenthesisNode:hO,SymbolNode:hZ,config:config,equal:f$,isZero:l$,numeric:fS,parse:hW,simplify:h8,typed:ls});_extends(hA,{e:cV,false:cZ,fineStructure:cG,i:cY,Infinity:cX,LN10:cJ,LOG10E:cK,NaN:c0,null:c1,phi:c2,SQRT1_2:c4,sackurTetrode:c8,tau:c6,true:c7,E:cV,version:c9,efimovFactor:lr,LN2:lt,pi:li,replacer:la,reviver:hq,SQRT2:lo,typed:ls,unaryPlus:lu,PI:li,weakMixingAngle:lc,abs:ll,acos:lf,acot:lp,acsc:lm,addScalar:lh,arg:ld,asech:lg,asinh:ly,atan:lv,atanh:lx,bignumber:lb,bitNot:lN,boolean:lw,clone:l_,combinations:lD,complex:lE,conj:lA,cos:lC,cot:lS,csc:lM,cube:lF,equalScalar:lT,erf:lO,exp:lB,expm1:lk,filter:lI,forEach:lP,format:lz,getMatrixDataType:lR,hex:lq,im:lj,isInteger:lU,isNegative:lL,isPositive:lH,isZero:l$,LOG2E:lV,lgamma:lZ,log10:lG,log2:lW,map:lY,multiplyScalar:lX,not:lJ,number:lK,oct:lQ,pickRandom:l0,print:l1,random:l2,re:l3,sec:l5,sign:l4,sin:l8,splitUnit:l7,square:l9,string:fe,subtractScalar:fr,tan:ft,typeOf:fn,acosh:fi,acsch:fa,apply:fo,asec:fs,bin:fu,chain:hL,combinationsWithRep:fc,cosh:fl,csch:ff,isNaN:fp,isPrime:fm,randomInt:fh,sech:fd,sinh:fg,sparse:fy,sqrt:fv,tanh:fx,unaryMinus:fb,acoth:fN,coth:fw,fraction:f_,isNumeric:fD,matrix:fE,matrixFromFunction:fA,mode:fC,numeric:fS,prod:fM,reshape:fF,size:fT,squeeze:fO,transpose:fB,xgcd:fk,zeros:fI,asin:fP,cbrt:fz,concat:fR,count:fq,ctranspose:fj,diag:fU,divideScalar:fL,dotDivide:fH,equal:f$,flatten:fV,hasNumericValue:fZ,identity:fG,kron:fW,largerEq:fY,leftShift:fX,lsolve:fJ,matrixFromColumns:fK,nthRoot:fQ,ones:f0,qr:f1,resize:f2,rightArithShift:f3,round:f5,smaller:f4,subtract:f8,to:f6,unequal:f7,usolve:f9,xor:pe,add:pr,atan2:pt,bitAnd:pn,bitXor:pi,catalan:pa,compare:po,compareText:ps,cumsum:pu,deepEqual:pc,diff:pl,distance:pf,dot:pp,equalText:pm,floor:ph,gcd:pd,hypot:pg,larger:px,log:pb,lsolveAll:pN,matrixFromRows:pw,min:p_,mod:pD,multiply:pE,nthRoots:pA,or:pC,partitionSelect:pS,rightLogShift:pM,slu:pF,subset:pT,sum:pO,trace:pB,usolveAll:pk,zpk2tf:pI,bitOr:pP,ceil:pz,compareNatural:pR,composition:pq,cross:pj,det:pU,dotMultiply:pL,fix:p$,index:pV,intersect:pZ,invmod:pG,lcm:pW,log1p:pY,max:pX,setCartesian:pJ,setDistinct:pK,setIsSubset:pQ,setPowerset:p0,smallerEq:p1,sort:p2,and:p3,range:p5,row:p4,setDifference:p8,setMultiplicity:p6,setSymDifference:p7,column:me,inv:mr,lup:mt,pinv:mn,pow:mi,setIntersect:ma,setUnion:mo,sqrtm:ms,vacuumImpedance:mc,wienDisplacement:ml,atomicMass:mf,bohrMagneton:mp,boltzmann:mm,conductanceQuantum:mh,coulomb:md,deuteronMass:mg,dotPow:my,electricConstant:mv,elementaryCharge:mx,expm:mb,faraday:mN,fft:mw,gamma:m_,gravitationConstant:mD,hartreeEnergy:mE,ifft:mA,klitzing:mC,loschmidt:mS,magneticConstant:mM,molarMass:mF,molarPlanckConstant:mT,neutronMass:mO,nuclearMagneton:mB,planckCharge:mk,planckLength:mI,planckTemperature:mP,protonMass:mz,quantumOfCirculation:mR,reducedPlanckConstant:mq,rydberg:mj,secondRadiation:mU,speedOfLight:mL,stefanBoltzmann:mH,thomsonCrossSection:m$,avogadro:mV,bohrRadius:mZ,createUnit:mG,divide:mW,electronMass:mY,factorial:mX,firstRadiation:mJ,gravity:mK,inverseConductanceQuantum:mQ,lusolve:m0,magneticFluxQuantum:m1,molarMassC12:m2,multinomial:m3,parse:hW,permutations:m5,planckMass:m4,polynomialRoot:m8,resolve:hY,setSize:m6,simplifyConstant:hX,solveODE:m7,stirlingS2:m9,unit:he,bellNumbers:hr,compile:hJ,eigs:ht,fermiCoupling:hn,gasConstant:hi,leafCount:hQ,mean:ha,molarVolume:ho,planckConstant:hs,quantileSeq:hu,simplifyCore:h0,variance:hl,classicalElectronRadius:hf,evaluate:h3,help:h5,median:hp,simplify:h8,symbolicEqual:h6,corr:hm,freqz:hh,mad:hd,parser:h7,rationalize:h9,std:hg,zeta:hy,derivative:de,norm:hv,rotationMatrix:hx,kldivergence:hb,planckTime:hN,schur:hw,rotate:h_,sylvester:hD,lyap:hE,config:config}),_extends(hC,hA,{filter:eL({typed:ls}),forEach:eH({typed:ls}),map:e$({typed:ls}),apply:eG({isInteger:lU,typed:ls}),concat:eX({isInteger:lU,matrix:fE,typed:ls}),max:eK({config:config,larger:px,numeric:fS,typed:ls}),print:e3({add:pr,matrix:fE,typed:ls,zeros:fI}),diff:e6({bignumber:lb,matrix:fE,number:lK,subtract:f8,typed:ls}),min:e9({config:config,numeric:fS,smaller:f4,typed:ls}),subset:ri({add:pr,matrix:fE,typed:ls,zeros:fI}),cumsum:ru({add:pr,typed:ls,unaryPlus:lu}),index:rc({Index:pv,getMatrixDataType:lR}),sum:rf({add:pr,config:config,numeric:fS,typed:ls}),range:rh({bignumber:lb,matrix:fE,add:pr,config:config,isPositive:lH,larger:px,largerEq:fY,smaller:f4,smallerEq:p1,typed:ls}),row:rg({Index:pv,matrix:fE,range:p5,typed:ls}),column:rx({Index:pv,matrix:fE,range:p5,typed:ls}),mean:rw({add:pr,divide:mW,typed:ls}),quantileSeq:rE({add:pr,bignumber:lb,compare:po,divide:mW,isInteger:lU,larger:px,multiply:pE,partitionSelect:pS,smaller:f4,smallerEq:p1,subtract:f8,typed:ls}),variance:rF({add:pr,apply:fo,divide:mW,isNaN:fp,multiply:pE,subtract:f8,typed:ls}),std:rO({map:lY,sqrt:fv,typed:ls,variance:hl})}),_extends(hS,{BigNumber:cH,Complex:c$,Fraction:cW,Matrix:cQ,Node:hM,ObjectNode:hF,OperatorNode:hT,ParenthesisNode:hO,Range:c3,RelationalNode:hB,ResultSet:c5,ArrayNode:hk,BlockNode:hI,ConditionalNode:hP,ConstantNode:hz,DenseMatrix:le,RangeNode:hR,Chain:hj,FunctionAssignmentNode:hU,SparseMatrix:l6,IndexNode:hH,ImmutableDenseMatrix:py,Index:pv,AccessorNode:h$,AssignmentNode:hV,FibonacciHeap:pH,Spa:p9,Unit:mu,SymbolNode:hZ,FunctionNode:hG,Help:hK,Parser:h4}),hj.createProxy(hA)},6495:function(e,r,t){"use strict";t.d(r,{x1:function(){return c}});var n,a=t(7294),o=t(3148);let s="label";function reforwardRef(e,r){"function"==typeof e?e(r):e&&(e.current=r)}function setDatasets(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,n=[];e.datasets=r.map(r=>{let a=e.datasets.find(e=>e[t]===r[t]);return!a||!r.data||n.includes(a)?{...r}:(n.push(a),Object.assign(a,r),a)})}let u=(0,a.forwardRef)(function(e,r){let{height:t=150,width:n=300,redraw:u=!1,datasetIdKey:c,type:l,data:p,options:m,plugins:h=[],fallbackContent:g,updateMode:y,...v}=e,x=(0,a.useRef)(null),b=(0,a.useRef)(),renderChart=()=>{x.current&&(b.current=new o.kL(x.current,{type:l,data:function(e){var r;let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n={labels:[],datasets:[]};return r=e.labels,n.labels=r,setDatasets(n,e.datasets,t),n}(p,c),options:m&&{...m},plugins:h}),reforwardRef(r,b.current))},destroyChart=()=>{reforwardRef(r,null),b.current&&(b.current.destroy(),b.current=null)};return(0,a.useEffect)(()=>{!u&&b.current&&m&&function(e,r){let t=e.options;t&&r&&Object.assign(t,r)}(b.current,m)},[u,m]),(0,a.useEffect)(()=>{if(!u&&b.current){var e,r;e=b.current.config.data,r=p.labels,e.labels=r}},[u,p.labels]),(0,a.useEffect)(()=>{!u&&b.current&&p.datasets&&setDatasets(b.current.config.data,p.datasets,c)},[u,p.datasets]),(0,a.useEffect)(()=>{b.current&&(u?(destroyChart(),setTimeout(renderChart)):b.current.update(y))},[u,m,p.labels,p.datasets,y]),(0,a.useEffect)(()=>{b.current&&(destroyChart(),setTimeout(renderChart))},[l]),(0,a.useEffect)(()=>(renderChart(),()=>destroyChart()),[]),a.createElement("canvas",Object.assign({ref:x,role:"img",height:t,width:n},v),g)}),c=(n=o.ST,o.kL.register(n),(0,a.forwardRef)((e,r)=>a.createElement(u,Object.assign({},e,{ref:r,type:"line"}))))}}]);